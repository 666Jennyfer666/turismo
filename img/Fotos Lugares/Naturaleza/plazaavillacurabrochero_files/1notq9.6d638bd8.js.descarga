(this.$WP=this.$WP||[]).push(["1notq9",(e,i)=>{"use strict";var t,s,n,r,l,o,u,a,c,g,h,b,d,m=({logImpression:e=!1},i=!1)=>{var{fetching:n,isSubscribed:r}=t(i),{fetching:l,bucket:o}=s({experiment:"tripadvisor_text_demand_test_1667940254",logImpression:e},i||n||r);return n||l?{fetching:!0,isEligible:null}:{fetching:!1,isEligible:!r&&"test"===o}},p={__key:0xabc75af7be16,id:"abc75af7be1671fd7cc760f514878bc8",loc:{},definitions:[]},f=({logImpression:e=!1},i=!1)=>{var t,s,r,o=n(),g="Tourism"===l()&&c.has(o),[{data:h,fetching:b}]=u({query:p,variables:{geoId:o},pause:i||!o||g}),d=(null==h||null==(t=h.TripText_entrypointGeoEligibility)||null==(s=t.filter(Boolean))||null==(r=s.at(0))?void 0:r.eligible)||!1,{fetching:m,isEligible:f}=a({logImpression:e},i||!d);return{fetching:b||m,isEligible:d&&f}},T=(e,{logImpression:i=!1},t=!1)=>{var s="MOBILE"===o(),n=!s||"banner"===e,u=l(),a=((e,i)=>{switch(e){case"banner":return i?b:h;case"interstitial":return d;default:return r(e),null}})(e,s)||new Set,c=a.has(u);return g({logImpression:i},t||!n||!c)},v={__key:0x5e0e6865067a,id:"5e0e6865067afc28a6ca5a8cb859934b",loc:{},definitions:[]},w=(e=!1)=>{var i,t,[{data:s,fetching:n}]=u({query:v,pause:e});return{url:(null==s||null==(i=s.Routing_canonicalize)||null==(t=i[0])?void 0:t.url)||"",fetching:n}};return[()=>{a=m,c=new Set([186338,187147,152515,150807]),g=f,h=new Set(["Hotels","HotelHighlight","Tourism","ShowForum","ShowTopic","Restaurants"]),b=new Set(["Hotels","HotelHighlight","Tourism","Restaurants"]),d=new Set(["Hotels","HotelHighlight","Tourism","ShowForum","ShowTopic","AttractionsFusion","Restaurants"]),e({useAreUserAndGeoEligibleForTextDemandTest:g,useIsEntrypointEligibleForTextDemandTest:T,useIsUserEligibleForTextDemandTest:a,useTripTextUrl:w})},[e=>t=e.useIsSubscribedToOptimus,e=>(s=e.useExperimentBucket,n=e.useGeoId,r=e.exhaustivenessCheck),e=>l=e.default,e=>o=e.useViewportCategory,e=>u=e.useQuery]]},["14tv4a","a2qxj9","eqoaya","1ys6v1","1mqwhq"]]);
