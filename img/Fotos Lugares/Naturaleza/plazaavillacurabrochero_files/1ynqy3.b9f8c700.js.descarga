(this.$WP=this.$WP||[]).push(["1ynqy3",(e,i)=>{"use strict";var a,r,l,o,t,d,_,n,s,c,p,I,E,O,R,m,T,u,h,N,b,v,L,P,A,f,S,g,y=({value:e,selected:i,labelText:r,onSelect:t,children:d})=>l("div",{className:"NKzRn",children:[o(a,{value:e,selected:i,onSelect:t,label:o("span",{className:i?"gvZqe d Vm H4":"IQFst d Vm H4",children:r})}),o("div",{className:"dOyLZ",children:i&&d})]}),C=({required:e,minLength:i,maxLength:a=250,label:r=(!0===e?o(_,{id:"social_report_level2_6b"}):o(n,{id:"social_report_level2_5"})),value:l,onChange:t})=>o(d,{label:r,value:l,state:l.length>a?"count-error":void 0,characterCountType:"max",onChange:t,minLength:i,maxLength:a}),w=()=>{throw new Error("This reason does not have a label")},M=e=>b[e],F=e=>b[e].id<0,V=()=>l("div",{className:"RaHea c",children:[l("p",{className:"gPfWI b",style:{textAlign:"center"},children:[o(_,{id:"social_report_ty2"})," "]}),l("p",{className:"YgaYw",children:[o(_,{id:"social_report_ty2b"})," "]})]}),W=()=>l("div",{className:p("wXeMr c M-","OlYQi S4"),children:[o(_,{id:"social_report_prof_err"})," "]}),B=({stage:e,onClose:i,children:a})=>l(c,{title:l("div",{id:"ReportIAP",className:"f u",children:[o(s,{}),o("span",{className:"PI",children:o(_,{id:"report_problem_ffffff85"})})]}),onClose:i,children:["thankyou"===e&&o(L,{}),"error"===e&&o(P,{}),"panel"===e&&o("div",{className:"VBgvf",children:o(r,{name:"ReportIAP",ariaLabelledBy:"ReportIAP",children:a})})]}),D={ForumPost:"FORUMPOST",Review:"USERREVIEW",ManagementResponse:"USERREVIEW",Photo:"MEDIA",Video:"MEDIA",Trip:"2",LinkPost:"1",Repost:"3",Profile:"4",LocationTopic:"LOCATION_TOPIC",LocationPosting:"LOCATION_POSTING"},G=({contentType:e,contentId:i,submission:a})=>{var r=m();return I((()=>{if(!a)return Promise.reject(new Error("No submission data!"));var l=D[e],o=new URLSearchParams([["action","reportIAP"],["step","SAVE"],["contentId",i],["voteContentType",l],["comment",a.comment],["reasonId",`${v(a.reason).id}`]]);if(a.suggestedLocationId&&o.set("suggestedLocationId",`${a.suggestedLocationId}`),f.has(l))return((e,i)=>fetch(e,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",headers:{"X-Requested-By":i}}))(`/ReportIAP?${o.toString()}`,r);throw new Error("Only legacy inputs are supported through the Lithium-ported iat-reporting! Feel free to add the remaining ones from public.iat-reporting")}),[e,i,r,a])},H=e=>{var[i,a]=E("panel"),r=S(e);return O((()=>[i,()=>r().then((()=>{a("thankyou")})).catch((()=>{a("error")}))]),[i,r])},U=(e,i)=>{if("changeReason"===i.type)return{selected:i.payload.reason,validator:i.payload.validator,form:e.form};if("modifyBody"===i.type&&e.selected)return{selected:e.selected,validator:e.validator,form:{...e.form,[e.selected]:i.payload}};throw new Error(`Tried to dispatch action type ${i.type} that does not exist`)},x=e=>{var[i,a]=R(U,{selected:e?e.reason:null,validator:e&&e.validator,form:{}});return O((()=>{var e=i.selected&&i.form[i.selected]||{comment:void 0};return[{selected:i.selected,disabled:!i.selected||i.validator&&!i.validator(e),form:e},a]}),[i])},k=(e,i)=>O((()=>e?{reason:e,comment:i.comment||""}:null),[e,i]),Y=({onBack:e})=>l(u,{legacyStyled:!0,variant:"secondary",onClick:e,fullWidth:!0,children:[o(_,{id:"com_fyf_p2_011"})," "]}),q="mzGqo Nd NE",z=({disabled:e,onBack:i,onSubmit:a})=>{var r="MOBILE"===T();return l(t,{children:[r&&o("div",{className:"vYpOs",children:o(u,{legacyStyled:!0,disabled:!0,children:null})}),l("div",{className:p("bFVRe z F",r&&"Qkpzt"),children:[i&&o("div",{className:q,children:o(g,{onBack:i})}),o("div",{className:q,children:o(u,{legacyStyled:!0,variant:"primary",disabled:e,onClick:a,fullWidth:!0,children:o(_,{id:"common_Submit"})})})]})]})},$=(e,i)=>I((a=>{var r=(a.comment||"").trim();return!(r.length>i||r.length<e)}),[e,i]),j=({selected:e,reason:i,comment:a="",dispatch:r,minLength:l=0,maxLength:t=250})=>{var d=$(l,t);return o(h,{value:i,selected:e===i,labelText:v(i).label,onSelect:()=>{r({type:"changeReason",payload:{reason:i,validator:d}})},children:o(N,{value:a,onChange:e=>{r({type:"modifyBody",payload:{comment:e.currentTarget.value}})},minLength:l,maxLength:t,required:!!l})})},K=({selected:e,reason:i,dispatch:a,children:r})=>o(h,{value:i,selected:e===i,labelText:v(i).label,onSelect:()=>{a({type:"changeReason",payload:{reason:i,validator:()=>!1}})},children:r});return[()=>{h=y,N=C,b={DUPLICATE_CONTENT:{id:5,label:o(n,{id:"social_report_reason_photos2"})},WRONG_LOCATION:{id:6,label:o(_,{id:"report_review_radio_8"})},CLOSED:{id:8,label:o(_,{id:"report_review_radio_21"})},OTHER:{id:9,label:o(_,{id:"report_review_radio_19"})},WRITTEN_BY_COMPETITOR:{id:19,label:o(_,{id:"report_review_radio_10"})},OWNER_RESPONSE:{id:21,label:o(w,{})},INAPPROPRIATE:{id:22,label:o(_,{id:"report_review_radio_9"})},NOT_ORIGINAL_REVIEW:{id:24,label:o(_,{id:"report_review_radio_16"})},NOT_TRAVELERS_OWN:{id:25,label:o(_,{id:"report_review_radio_13"})},PROMOTIONAL:{id:27,label:o(_,{id:"report_review_radio_24"})},REVIEW_NOT_CONSISTENT_WITH_RATING:{id:30,label:o(_,{id:"report_review_radio_12_ver_2"})},LOW_QUALITY:{id:31,label:o(_,{id:"iap_low_quality_ffffe4e2"})},COPYRIGHT_VIOLATION:{id:32,label:o(n,{id:"social_content_report_copyright_violation"})},BIASED:{id:37,label:o(_,{id:"report_review_radio_20"})},MORE_THAN_1_YEAR_AGO:{id:38,label:o(_,{id:"report_review_radio_11"})},CONTAINS_PRIVATE_INFO:{id:41,label:o(_,{id:"report_review_radio_18"})},PROFANE_EXPLICIT_HATE_SPEECH:{id:42,label:o(_,{id:"iap_profane_explicit_or_hate_speech"})},LINK_INCORRECT_OUTDATED_BROKEN:{id:43,label:o(_,{id:"iap_link_incorrect_outdated_broken"})},NOT_PERSONAL_EXPERIENCE:{id:45,label:o(_,{id:"iap_not_personal_experience"})},FALSE_MISLEADING_INFO:{id:46,label:o(_,{id:"iap_false_misleading_info"})},PROMOTES_ILLEGAL_ACTIVITY:{id:47,label:o(_,{id:"iap_promote_illegal_activity"})},PARTICIPATION_ILLEGAL_ACTIVITY:{id:48,label:o(_,{id:"iap_participate_illegal_activity"})},LINK_ILLEGAL_ACTIVITY:{id:50,label:o(_,{id:"iap_link_illegal_activity"})},SELF_PROMOTION_ADVERTISEMENT_SOLICITATION:{id:51,label:o(_,{id:"iap_forums_self_promotion"})},OFF_TOPIC:{id:52,label:o(_,{id:"iap_forums_off_topic"})},SPAM:{id:53,label:o(_,{id:"iap_forums_spam"})},DUPLICATE_FORUM:{id:54,label:o(_,{id:"iap_forums_duplicate"})},HARASSMENT:{id:55,label:o(_,{id:"iap_forums_harassment"})},PROFANITY_SEX_VIOLENCE_CRIME_HATE:{id:56,label:o(_,{id:"iap_forums_profanity_sex_violence_crime_hate"})},MULTIPLE_ACCOUNTS_OR_IMPERSONATION:{id:57,label:o(_,{id:"iap_forums_multiple_accounts_or_impersonation"})},PERSONAL_INFO:{id:58,label:o(_,{id:"iap_forums_personal_info"})},COPYRIGHTED:{id:59,label:o(_,{id:"iap_forums_copyrighted"})},TRIP_COPYRIGHT:{id:60,label:o(_,{id:"iap_trips_copyrighted"})},TRIP_NOT_TRAVEL_RELATED:{id:61,label:o(_,{id:"iap_trips_not_travel_related"})},TRIP_ERROR_OR_DISAGREE:{id:62,label:o(_,{id:"iap_trips_error_or_disagree"})},PROFILE_PROBLEM_WITH_PHOTO:{id:63,label:o(_,{id:"iap_profile_problem_with_pic"})},PROFILE_PROBLEM_WITH_LINK:{id:64,label:o(_,{id:"iap_profile_problem_with_link"})},PROFILE_IAP_USERNAME:{id:65,label:o(_,{id:"iap_profile_username"})},PROFILE_IAP_CONTRIBUTION:{id:66,label:o(_,{id:"iap_profile_contribution"})},PROFILE_PROBLEM_MY_ACCOUNT:{id:67,label:o(_,{id:"iap_profile_problem_my_account"})},PROFILE_UNWANTED_MESSAGE:{id:68,label:o(_,{id:"iap_profile_unwanted_messages"})},REPORT_THIS_REVIEW:{id:-1,label:o(_,{id:"report_review_radio_1"})},UPDATE_BUSINESS_DETAILS:{id:-2,label:o(_,{id:"report_review_radio_2"})},REPORT_BUSINESS_CLOSED:{id:-3,label:o(_,{id:"report_review_radio_3"})},EDIT_REMOVE_RESPONSE:{id:-4,label:o(_,{id:"report_review_radio_4"})},REPORT_OWNER_CHANGED:{id:-5,label:o(_,{id:"report_review_radio_5"})},REPORT_PHOTO:{id:-6,label:o(_,{id:"report_review_radio_6"})},REMOVE_LISTING:{id:-7,label:o(_,{id:"report_review_radio_7"})},DISAGREE_WITH_INFO:{id:-8,label:o(_,{id:"report_review_radio_17"})}},v=M,L=V,P=W,A=B,f=new Set(["USERREVIEW","MEDIA","LOCATION_TOPIC","LOCATION_POSTING"]),S=G,g=Y,e({CommentBox:N,CommentOption:j,RedirectOption:K,ReportIAPRadio:h,ReportModal:A,SubmitVoteButton:z,forLabel:v,isOwnerReason:F,useFormToSubmission:k,useLengthValidator:$,useReportFlow:H,useReportForm:x})},[e=>(a=e.RadioButton,r=e.RadioGroup),e=>(l=e.jsxs,o=e.jsx,t=e.Fragment),e=>d=e.TextArea,e=>(_=e.default,n=e.UnsafeLocalize),e=>s=e.default,e=>c=e.Modal,e=>p=e.default,e=>(I=e.useCallback,E=e.useState,O=e.useMemo,R=e.useReducer),e=>m=e.useSecurityToken,e=>T=e.useViewportCategory,e=>u=e.default]]},["frf6ac","121h32","1u3aio","17thqz","1s9vc2","1i3sz5","fkji80","1o4yt4","ahlu9q","1ys6v1","jppfwt"]]);
