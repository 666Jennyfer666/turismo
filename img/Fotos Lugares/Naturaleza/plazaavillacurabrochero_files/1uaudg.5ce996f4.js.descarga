(this.$WP=this.$WP||[]).push(["1uaudg",(e,t)=>{"use strict";var s,o,i,a,n,r,l,c,d,h,u,p,v,m,y,f,g,T,C,I,S,R,E,O,_,N,A,x,k,w,F,b,L,P,D,M,j,B,K,Y,H,z,V,U,q,G,Q,$,J,W,Z,X,ee,te,se,oe,ie,ae,ne,re,le,ce,de,he,ue,pe,ve,me,ye,fe=(e,t,s,o)=>{var i=[t,s].filter((e=>!!e)).join(", ");return"full_address"===e?o?`${o}, ${i}`:i:"parent_geos"===e?i:""},ge={geo:"GEO",nbrhd:"NEIGHBORHOOD",attr:"ATTRACTION",hotel:"ACCOMMODATION",eat:"EATERY",air:"AIRPORT",vr:"VACATION_RENTAL",al:"AIRLINE",ship:"SHIP",cruise_line:"CRUISE_LINE",car:"CAR_RENTAL_OFFICE",act:"ATTRACTION_PRODUCT",uni:"UNIVERSITY",shop:"SHOPPING",general_hospital:"GENERAL_HOSPITAL",port:"PORT",ferry:"FERRY",corp:"CORPORATION"},Te=({fetchers:e,context:t,children:r,onResultsChange:l,filters:u,runOnInit:p=!1})=>{var[v,m]=s(Object.freeze({})),[y,f]=s(""),g=o(),T=o(l);i((()=>{T.current=l}),[l]);var C=o([]),[I,S,R]=a((()=>{var t=e.filter((e=>"typeaheadjson"===e.id)),s=[],o="",i=8;if(t.length){var a,n=null==(a=t[0])?void 0:a.props;n&&(n.types&&n.types.forEach((e=>{e in ge&&s.push(ge[e])})),o=n.source,i=n.max)}if(s.length===C.current.length){for(var r=0;r<s.length;r++)if(s[r]!==C.current[r]){C.current=s;break}}else C.current=s;return[o,i,C.current]}),[e]),E=a((()=>{var t=e.filter((e=>"typeaheadjson"===e.id));if(t.length){var s,o=null==(s=t[0])?void 0:s.props;return o&&o.parentids?o.parentids[0]:1}return 1}),[e]),O=a((()=>({geoId:E})),[E]),{results:_}=c(y,I,O,"LocationTypeahead",S,R),N=a((()=>_.results.map((e=>{var{title:t,subtitle:s,searchText:o,url:i,locationId:a,trackingPlaceType:n}=e,r="string"==typeof t&&"string"==typeof s?Z("full_address",t,s||""):"";return{type:n||"",value:(a||"").toString(),url:i,name:r,details:{name:o,parent_name:"string"==typeof s?s:null}}}))),[_]),A=n((()=>{var t={};e.forEach((e=>{var s="typeaheadjson"===e.id?N:e.getResults();t[e.id]=s?s.filter((e=>e&&(u||[]).every((t=>t(e))))):s})),m(t)}),[e,u,N]),x=o(e),k=o(A);i((()=>{k.current=A,x.current=e})),i((()=>{k.current()}),[N]),i((()=>{T.current&&T.current(v)}),[v]);var w=n((s=>{e.forEach((e=>{"typeaheadjson"===e.id&&""!==s?(f(s),A()):e.fetch(s,t,A)}))}),[e,t,A]);return i((()=>{p&&w("")}),[]),i((()=>{g.current?x.current.forEach((e=>{var s=e;s.onContextChange&&"function"==typeof s.onContextChange&&s.onContextChange(t,k.current)})):g.current=!0}),[t]),r?d(h,{children:r(v,w)}):null},Ce="recentlyviewed",Ie=["act","air","al","ship","cruise_line","car","attr","eat","geo","hotel","nbrhd"],Se="typeaheadjson",Re={reversedSubtitle:"Swrvl",subtitle:"UZwOE",result:"thWfH",rescue:"gSQxx",rescueResult:"awhTL",active:"XKRlK",noPadding:"inocc",narrow:"VEiee",leftIcon:"KjHvq H3",resultTitle:"F1",rightIcon:"kmciZ _Q",verified:"gbEoB"},Ee=({title:e,subtitle:t,active:s,icon:o,chevron:i,verifiedIcon:a,paddingStyle:n,isRescue:r,reverseSubtitle:l})=>{var c=[Re.result];s&&c.push(Re.active),n&&c.push(Re[n]),r&&c.push(Re.rescue);var h=t?d("span",{className:l?Re.reversedSubtitle:Re.subtitle,children:t}):void 0,p=null!=o?d("span",{className:Re.leftIcon,children:d(o,{size:18})}):void 0,v=null!=i?d("span",{className:Re.rightIcon,children:d(i,{size:16})}):void 0,y=a?d("span",{className:Re.verified}):void 0;return u("div",{className:c.join(" "),children:[p,u("span",{className:m(Re.resultTitle,{[Re.rescueResult]:r}),children:[l&&h,e,y,!l&&h]}),v]})},Oe=e=>{switch(e){case"HOTEL":return R;case"EATERY":return x;case"ATTRACTION":return g;case"UNIVERSITY":return T;case"TRAIN_STATION":return w;case"AIRPORT":case"AIRLINE":return I;case"THEME_PARK":return f;case"ACTIVITY":return y;case"SHOPPING":return k;case"PORT":return A;case"GENERAL_HOSPITAL":return S;case"FERRY":case"SHIP":return C;case"CORPORATION":return _;case"BRAND":return null;case"NEIGHBORHOOD":return O;case"CAR_RENTAL_OFFICE":return N;default:return E}},_e=e=>{var{localize:t}=F(),s=e.customText||t.string("mobile_no_results_found_8e0");return d("div",{className:m("sbliF n Ci",{livPi:e.small}),children:s})},Ne={geos:"GEO",neighborhoods:"NEIGHBORHOOD",attractions:"ATTRACTION",hotels:"HOTEL",vr:"VACATION_RENTAL",restaurants:"EATERY",airports:"AIRPORT",airlines:"AIRLINE",cruise_lines:"CRUISE_LINE",attraction_products:"ACTIVITY"},Ae=({title:e})=>d("div",{className:"rfEuF S2 n Ci",children:e}),xe=e=>{var{localize:t}=F();return d(he,{...e,localize:t})},ke={__key:0xa3cfb9132adc,id:"a3cfb9132adc0d30d5162cd9763c0762",loc:{},definitions:[]},we=({selectedLocations:e,onClose:t})=>{var[{data:s}]=B({query:ke,variables:{locationIds:Array.from(e.keys()).map((e=>parseInt(e,10)))},requestPolicy:"cache-and-network"});return s&&s.locations&&s.locations[0]?d(h,{children:s.locations.map((e=>(e=>{var s,o,i,a,n,r;switch(o="CITY"===(null==e?void 0:e.placeType)?null==e||null==(i=e.additionalNames)?void 0:i.longOnlyParent:null==e||null==(a=e.parent)||null==(n=a.additionalNames)?void 0:n.long,null==e?void 0:e.placeType){case"ACCOMMODATION":r=R;break;case"ATTRACTION":r=g;break;case"ACTIVITY":r=y;break;case"EATERY":r=x;break;case"CITY":r=H}var l="60px";return u("div",{className:"Fozix f R2 B1 BB WuQAz",children:[d("div",{className:"fasfW f e j Ne _n",children:null!=e&&e.thumbnail?d(Y,{sources:null==e||null==(s=e.thumbnail)?void 0:s.photoSizes,width:l,height:l,notLazy:!1,borderRadius:"2px"}):d("div",{style:{width:l,height:l},children:d("div",{className:"FheQO",children:d("span",{className:"ozuZC X1 R2 H0",children:null!=r?d(r,{size:60,color:"onDarkIcon"}):null})})})}),d("div",{className:"P o",children:u("div",{className:"oymUp W o",children:[d("div",{className:"Bmxkf MB b W o q",children:null==e?void 0:e.name}),d("div",{className:"KChOC q",children:o})]})}),t&&null!=e&&e.locationId?d("button",{className:"ubLES _S",onClick:()=>{null!=e&&e.locationId&&t(e.locationId.toString())},children:d(K,{})}):null]},`poi_tag_${null==e?void 0:e.locationId}`)})(e)))}):null},Fe=e=>{var t,o,[i,a]=s(""),[r,l]=s(!1),[c,h]=s(!1),[p,v]=s(!1),y=new se("",""),f=n(((s,i)=>{if(v(!0),i&&"location_id"===i.type&&i.value){var n=String(i.value),r=new Map(e.selectedLocations);if(!r.has(n)){if(r.set(n,i),e.maxLocations>0&&r.size>e.maxLocations){var l=Array.from(r.keys())[0];r.delete(l)}e.selectionChanged(r)}a(""),o("   "),t&&t.focus()}}),[e,t,o]),g=n((t=>{var s=t&&t.typeaheadjson&&t.typeaheadjson.length>0;s&&!c?(e.hasResultsChanged&&e.hasResultsChanged(!0),h(!0)):!s&&c&&(e.hasResultsChanged&&e.hasResultsChanged(!1),h(!1))}),[e,c]),T=n((t=>{var s=new Map(e.selectedLocations);s.delete(t),e.selectionChanged(s)}),[e]),C=new ie({interleaved:!0,types:Ie,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8,scoreThreshold:.8}),{localize:I}=F();return d(X,{fetchers:[C],onResultsChange:g,children:(s,n)=>(o=n,u("div",{className:`spXBQ ${e.className?e.className:""}`,children:[u("div",{className:"xEwzf Fq "+(r?"cVESZ":""),onClick:()=>t&&t.focus(),children:[d("span",{className:"eIAsq",children:d(D,{})}),d(ee,{inputComponentType:M,inputComponentClassName:"HIrbL _J",value:i,onChange:e=>{v(!1),a(e)},onQueryChange:e=>{o(e)},onFocus:t=>{l(!0),e.onFocus&&e.onFocus(t)},onBlur:t=>{l(!1),e.onBlur&&e.onBlur(t)},searchDelay:50,placeholder:0===e.selectedLocations.size||e.selectedLocations.size===e.maxLocations?I.string("post_video_typeahead_placeholder_text_search"):I.string("post_video_location_typeahead_add_location"),onRef:e=>{t=e}})]}),s&&s.typeaheadjson&&s.typeaheadjson.length>0&&!p?d("div",{className:"ipUak w Gi Za",children:d(P,{children:s&&s.typeaheadjson?s.typeaheadjson.map((e=>(t,s)=>d(de,{result:e,tracker:y,onMouseMove:s,onSelection:f,active:t,includeIcon:!0},`result=${e.value}`))):[]})}):null,e.showLocationsAsPoiObjects?d(ve,{selectedLocations:e.selectedLocations,onClose:T}):Array.from(e.selectedLocations.entries()).map((([e,t])=>d("div",{className:m("EfUTb S","cdoYF Gi H1 c Wc _S"),onClick:()=>T(e),children:t.displayValue},e)))]}))})},be=e=>{var[t,o]=s(e.selectedLocation.displayValue||""),i=new ie({interleaved:!0,types:["geo"],filter:"cities"===e.mode?["nobroad"]:void 0,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:e.max}),{localize:a}=F(),n=[i];return e.includeWorld&&n.unshift(new ye(a.string("dual_search_worldwide"))),d(ue,{fetchers:n,className:e.className,typeaheadTextInputValue:t,selectionChanged:t=>{e.selectionChanged(t),o(t.displayValue||"")},textInputChanged:t=>{e.textInputChanged&&e.textInputChanged(t),""===t&&e.selectionCleared&&e.selectionCleared(),o(t)},inputId:e.inputId,icon:"search"===e.iconType?D:E,placeHolder:e.placeholder,onFocus:e.onFocus,onBlur:e.onBlur,closeDropdownOnClickOutside:e.closeDropdownOnClickOutside,resultsAbove:e.resultsAbove,children:(e,t,s)=>d(P,{children:[...e.worldwide||[],...e.typeaheadjson||[]].map((e=>(o,i)=>d(de,{result:e,tracker:t,onMouseMove:i,onSelection:s,active:o,includeIcon:!0},`result=${e.value}`)))})})};return[()=>{Z=fe,X=Te,e("TypeaheadTextInput$1",z=class extends r{constructor(...e){super(...e),this.onChange=(e,t)=>{if(this.props.onChange&&this.props.onChange(t),(!e||e.keyCode!==p.KEY_ENTER)&&this.currentQuery!==t){if(e)switch(e.keyCode){case p.KEY_DOWN:case p.KEY_UP:case p.KEY_ESCAPE:case p.KEY_TAB:case p.KEY_CAPSLK:case p.KEY_LEFT:case p.KEY_RIGHT:case p.KEY_META:case p.KEY_SHIFT:case p.KEY_CTRL:return}this.updateSearchTimeout&&clearTimeout(this.updateSearchTimeout),this.currentQuery=t,this.updateSearchTimeout=setTimeout((()=>{this.props.onQueryChange&&this.props.onQueryChange(t)}),this.props.searchDelay)}},this.updateSearchTimeout=void 0,this.currentQuery=void 0}render(){var e={id:this.props.id,name:this.props.name,value:this.props.value,type:this.props.type,className:this.props.inputComponentClassName,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,placeholder:this.props.placeholder,onChange:this.onChange,onKeyUp:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onSelect:this.props.onSelect,onFocus:this.props.onFocus,onBlur:this.props.onBlur,focusOnMount:this.props.focusOnMount,focusOnUpdate:this.props.focusOnUpdate,onRef:this.props.onRef,hideAutoComplete:this.props.hideAutoComplete,autoCompleteIdentifier:this.props.autoCompleteIdentifier,disabled:this.props.disabled};return l(this.props.inputComponentType,e)}}),z.defaultProps={name:void 0,value:void 0,type:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,hideAutoComplete:!1,autoCompleteIdentifier:void 0,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0,onSelect:void 0,disabled:!1},ee=z,e("TypeaheadTextArea$1",V=class extends r{constructor(...e){super(...e),this.onChange=(e,t)=>{if(this.props.onChange&&this.props.onChange(e,t),(!e||e.keyCode!==p.KEY_ENTER)&&this.currentQuery!==t){if(e)switch(e.keyCode){case p.KEY_DOWN:case p.KEY_UP:case p.KEY_ESCAPE:case p.KEY_TAB:case p.KEY_CAPSLK:case p.KEY_LEFT:case p.KEY_RIGHT:case p.KEY_META:case p.KEY_SHIFT:case p.KEY_CTRL:return}this.updateSearchTimeout&&clearTimeout(this.updateSearchTimeout),this.currentQuery=t,this.updateSearchTimeout=setTimeout((()=>{this.props.onQueryChange&&this.props.onQueryChange(t)}),this.props.searchDelay)}},this.updateSearchTimeout=void 0,this.currentQuery=void 0}render(){var e={id:this.props.id,name:this.props.name,value:this.props.value,className:this.props.inputComponentClassName,rows:this.props.rows,cols:this.props.cols,placeholder:this.props.placeholder,disabled:this.props.disabled,focusOnMount:this.props.focusOnMount,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onChange:this.onChange,onKeyUp:this.onChange,onKeyDown:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onRef:this.props.onRef,maxLength:this.props.maxLength,autoCompleteIdentifier:this.props.autoCompleteIdentifier,hideAutoComplete:this.props.hideAutoComplete};return l(this.props.inputComponentType,e)}}),V.defaultProps={name:void 0,value:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0},te=V,e("TypeaheadTracking$1",U=class{constructor(e,t){this.interactionStart=void 0,this.uiOrigin=void 0,this.searchSessionId=void 0,this.setInteractionStart=e=>{this.interactionStart=e},this.createTrackingData=({eventType:e,userInteractionType:t,selectedItem:s})=>{var o=s&&s.query,i=s&&s.value,a=s&&s.url,n=s&&s.resultIndex,r=s&&s.type,l=s&&s.data_type,c=s&&s.totalCount,d=s&&s.document_id,h={action:"RECORD",eventType:e,uiOrigin:this.uiOrigin,type:r,value:i,source:this.uiOrigin,startTime:String(this.interactionStart),selDepth:isNaN(n)?void 0:n+1,isChild:"false",totalNum:c?String(c):void 0,userInteractionType:t,scope:"1",query:o,dataType:l,url:a,searchSessionId:this.searchSessionId,documentId:d},u={};return Object.keys(h).forEach((e=>{null!=h[e]&&(u[e]=String(h[e]))})),u},this.ajaxTrack=e=>{var t=this.createTrackingData(e);fetch(`/TypeAheadJson?${new URLSearchParams(t).toString()}`,{credentials:"same-origin"})},this.trackInteractionStart=()=>{this.ajaxTrack({eventType:"start",userInteractionType:"start"})},this.trackSelection=(e,t)=>{this.ajaxTrack({eventType:"select",userInteractionType:t,selectedItem:e})},this.uiOrigin=e,this.searchSessionId=t}}),se=U,e("RecentlyViewedFetcher$1",q=class{constructor({categories:e,limit:t}){this.id=Ce,this.categories=void 0,this.limit=10,this.results=null,this.inFlight=!1,e&&(this.categories=e),t&&(this.limit=t)}getResults(){return this.results}fetch(e,t,s){if(!this.inFlight&&null===this.results){var o=new URLSearchParams({limit:String(this.limit)});this.categories&&this.categories.forEach((e=>o.append("categories[]",e))),this.inFlight=!0,fetch(`/data/1.0/recent?${o.toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>{if(e.ok)return e;throw Error(e.statusText)})).then((e=>e.json())).then((e=>{this.results=e.data.map((e=>({resultType:e.result_type,...e.result_object}))),this.inFlight=!1,s()})).catch((e=>{console.error("recentPrefill",e),this.results=[],this.inFlight=!1,s()}))}}}),oe=q,e("TypeaheadJsonFetcher$1",G=class{constructor(e){this.id=Se,this.props=void 0,this.cache=void 0,this.mostRecentTerm=void 0,this.results=null,this.additionalParams=void 0,this.props=e,void 0===this.props.cache&&(this.props.cache=!0),this.props.cache&&(this.cache={})}setAdditionalParams(e){this.additionalParams=e}getResults(){return this.results}fetch(e,t,s){if(this.mostRecentTerm=e,v(e)<3)null!==this.results&&(this.results=null,s());else if(this.cache&&this.cache[e]){var o=this.cache[e];this.results!==o&&(this.results=o,s())}else{var i={action:"API",query:e};Object.keys(this.props).filter((e=>"cache"!==e)).forEach((e=>{var t=this.props[e];t&&(Array.isArray(t)?i[e]=t.join(","):i[e]=String(t))})),this.additionalParams&&(i={...i,...this.additionalParams}),fetch(`/TypeAheadJson?${new URLSearchParams(i).toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>{if(e.ok)return e;throw Error(e.statusText)})).then((e=>e.json())).then((t=>{t&&this.cache&&(this.cache[e]=t),e===this.mostRecentTerm&&(t?(this.results=t.map((e=>({...e,query:this.mostRecentTerm}))),s()):this.results=[])})).catch((()=>{this.results=[],s()}))}}}),G.defaultProps={scope:1,beforeGeoId:1,afterGeoId:1},ie=G,Ee.defaultProps={subtitle:void 0,active:void 0,icon:void 0,verifiedIcon:!1,chevron:void 0,paddingStyle:void 0,isRescue:!1,reverseSubtitle:!1},ae=Ee,ne=Oe,_e[b]=!0,re=_e,e("RecentlyViewedResult$1",Q=class extends r{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:o,result:i,resultIndex:a}=this.props,{location_id:n,resultType:r}=this.props.result;s.trackSelection({document_id:n,data_type:"LOCATION",fromHistory:!0,type:Ne[r]||r,resultIndex:a,...i},t),o&&o(e,{type:"recent_location_id",value:n})},this.iconFromCategoryKey=e=>{switch(e){case"attraction":return g;case"hotel":return R;case"restaurant":return x;default:return E}}}render(){var e,t,s,{result:o}=this.props,{name:i,category:a,ancestors:n=[]}=o,r=Z(this.props.addressDisplay,null==(e=n[0])?void 0:e.name,null==(t=n[1])?void 0:t.name,null==o||null==(s=o.address_obj)?void 0:s.street1),l=this.props.includeIcon?this.iconFromCategoryKey(a&&a.key||""):void 0;return d(L,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect,children:d(ae,{title:i,subtitle:r,icon:l,active:this.props.active,paddingStyle:this.props.paddingStyle})})}}),Q.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,paddingStyle:void 0,addressDisplay:"parent_geos",resultIndex:void 0},le=Q,Ae[b]=!0,ce=Ae,e("TypeaheadJsonResult$1",$=class extends r{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:o,itemType:i,result:a,resultIndex:n}=this.props,r={resultIndex:n,...a};s.trackSelection(r,t);var{value:l,scope:c,name:d}=a;o&&o(e,{type:i,value:l,displayValue:d,scope:c})}}render(){var e=this.props.result.details||{},t=e.name,s=Z(this.props.addressDisplay,e.parent_name,e.grandparent_name,e.address),o=this.props.includeIcon?ne(this.props.result.type):null;return d(L,{onSelection:this.onSelect,onMouseMove:this.props.onMouseMove,active:this.props.active,children:d(ae,{title:t,subtitle:s,icon:null!=o?o:void 0,active:this.props.active,paddingStyle:this.props.paddingStyle})})}}),$.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,addressDisplay:"parent_geos",paddingStyle:void 0,itemType:"location_id",resultIndex:void 0},de=$,(J=class extends r{constructor(...e){super(...e),this.state={closed:!1,inputFocused:!1,resultSelected:!1},this.onSelection=(e,t)=>{this.setState({closed:!1,resultSelected:!0}),this.setSelection(t)},this.onFocus=e=>{this.setState({closed:!1,inputFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{this.setState({inputFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.setSelection=e=>{e&&(this.updateSearch(""),this.textInput&&this.textInput.focus(),this.props.selectionChanged(e))},this.handleOnKeyDown=e=>{e.keyCode===p.KEY_TAB&&this.props.closeDropdownOnClickOutside&&this.setState({closed:!0})},this.tracker=new se("",""),this.textInput=void 0,this.updateSearch=void 0,this.hasMounted=!1}componentDidMount(){this.hasMounted=!0}componentWillUnmount(){this.hasMounted=!1}render(){var e=this.props.placeHolder||this.props.localize.string("common_Search"),t=this.props.icon;return u(h,{children:[d(X,{filters:this.props.filters,fetchers:this.props.fetchers,children:(s,o)=>{this.updateSearch=o;var i=s&&Object.keys(s).filter((e=>{return!(!(t=s[e])||0===t.length);var t})).length>0,a=this.props.handleEmptyResult&&s.typeaheadjson&&!s.typeaheadjson.length;return u("div",{className:"CIFNo",onKeyDown:this.handleOnKeyDown,children:[d("span",{className:"wYRPw H_",children:d(t,{size:18})}),d(ee,{inputComponentType:M,inputComponentClassName:m("CQzux w S4 R2 z _J","xRxug",this.props.className),id:this.props.inputId,value:this.props.typeaheadTextInputValue,type:this.props.inputType,onChange:e=>{this.setState({closed:!1,resultSelected:!1}),this.props.textInputChanged(e)},onQueryChange:e=>{o(e)},onFocus:this.onFocus,onBlur:this.onBlur,searchDelay:50,placeholder:e,onRef:e=>{this.textInput=e,this.props.onRef(e)},autoCompleteIdentifier:this.props.autoCompleteIdentifier,hideAutoComplete:this.props.hideAutoComplete}),(i||a)&&!1===this.state.resultSelected&&!this.state.closed&&d("div",{className:m("JfFlP Za w z",{cRwDh:this.props.resultsAbove}),children:this.props.children(s,this.tracker,this.onSelection)})]})}}),d(j,{event:"click",callback:()=>{this.hasMounted&&this.props.closeDropdownOnClickOutside&&!this.state.inputFocused&&this.setState({closed:!0})}})]})}}).defaultProps={placeHolder:null,className:void 0,inputType:void 0,icon:D,onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:()=>{},closeDropdownOnClickOutside:!0,resultsAbove:!1},he=J,xe.defaultProps={placeHolder:null,className:void 0,inputId:void 0,inputType:void 0,icon:D,onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:()=>{},closeDropdownOnClickOutside:!0,resultsAbove:!1},ue=xe,(W=class extends r{constructor(...e){super(...e),this.state={textInputValue:this.props.selectedLocation.displayValue||""},this.onResultSelected=e=>{this.props.selectionChanged(e),this.setState({textInputValue:this.props.clearValueOnSelection?"":e.displayValue||""})},this.getTypeaheadJsonFetcher=()=>new ie({interleaved:!0,types:this.props.locationTypes,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:this.props.max,scoreThreshold:.8,parentids:this.props.parentids||[],scope:1,beforeGeoId:1,afterGeoId:1}),this.textInputChanged=e=>{this.setState({textInputValue:e})},this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher()}componentDidUpdate(e){var t,s;(t=e.parentids||[])===(s=this.props.parentids||[])||t.length===s.length&&t.every(((e,t)=>e===s[t]))||(this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher())}render(){var{trailingItem:e}=this.props;return d(ue,{fetchers:[this.typeaheadJsonFetcher],typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,className:this.props.className,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeHolder:this.props.placeHolder,handleEmptyResult:this.props.handleEmptyResult,onRef:e=>{this.props.onRef&&this.props.onRef(e)},closeDropdownOnClickOutside:this.props.closeDropdownOnClickOutside,children:(t,s,o)=>{var i=[];return i=t.typeaheadjson&&!t.typeaheadjson.length?[(e,t)=>d(L,{onMouseMove:t,children:d(re,{small:!0})},"result='no-result'")]:[...t.typeaheadjson||[]].map((e=>(t,i)=>d(de,{addressDisplay:this.props.addressDisplay,result:e,tracker:s,onMouseMove:i,onSelection:o,active:t,includeIcon:!0},`result=${e.value}`))),e&&i.push(e),d(P,{children:i})}})}}).defaultProps={locationTypes:Ie,className:void 0,onFocus:void 0,onBlur:void 0,placeHolder:void 0,clearValueOnSelection:!1,parentids:[],addressDisplay:"parent_geos",trailingItem:void 0,max:8,handleEmptyResult:!1,onRef:()=>{},closeDropdownOnClickOutside:!0},pe=W,we.defaultProps={onClose:void 0},ve=we,Fe.defaultProps={hasResultsChanged:null,maxLocations:0,className:void 0,onFocus:void 0,onBlur:void 0,showLocationsAsPoiObjects:!0},me=Fe,ye=class{constructor(e){this.id="worldwide",this.results=null,this.name="",this.name=e}getResults(){return this.results}fetch(e,t,s){var{name:o}=this;this.results=e.length<3||this.name.toLowerCase().indexOf(e.toLowerCase())<0?null:[{type:"GEO",value:"1",displayValue:o,details:{name:o}}],s()}},be.defaultProps={mode:"all",includeWorld:!0,selectionCleared:()=>{},textInputChanged:()=>{},iconType:"search",placeholder:void 0,max:8,onBlur:void 0,onFocus:void 0,closeDropdownOnClickOutside:!0,resultsAbove:!1},e({BasicResult:ae,GeoSelector:be,LocationSelector:pe,MultiLocationSelector:me,NoResults:re,RecentlyViewedFetcher:oe,RecentlyViewedFetcherId:Ce,RecentlyViewedResult:le,SectionTitle:ce,Selector:ue,Typeahead:X,TypeaheadJsonFetcher:ie,TypeaheadJsonFetcherId:Se,TypeaheadJsonResult:de,TypeaheadTextArea:te,TypeaheadTextInput:ee,TypeaheadTracking:se,getIconFromResultType:ne})},[e=>(s=e.useState,o=e.useRef,i=e.useEffect,a=e.useMemo,n=e.useCallback,r=e.Component,l=e.createElement),e=>c=e.default,e=>(d=e.jsx,h=e.Fragment,u=e.jsxs),e=>p=e,e=>v=e.inputLength,e=>m=e.default,e=>y=e.default,e=>f=e.default,e=>g=e.default,e=>T=e.default,e=>C=e.default,e=>I=e.default,e=>S=e.default,e=>R=e.default,e=>E=e.default,e=>O=e.default,e=>_=e.default,e=>N=e.default,e=>A=e.default,e=>x=e.default,e=>k=e.default,e=>w=e.default,e=>F=e.useLocalize,e=>(b=e.NonNavigableItem,L=e.NavigableListItem,P=e.NavigableList),e=>D=e.default,e=>M=e.ManagedTextInput,e=>j=e.default,e=>B=e.useQuery,e=>K=e.default,e=>Y=e.ResponsiveImage,e=>H=e.default]]},["1o4yt4","7l5hpv","121h32","conwso","1eww82","fkji80","5c85y0","10hkn2","s1ymgp","kqf4x0","do522n","2l7tdf","c5kzk2","1c5q3i","b1qg3y","1p4adu","19ygz8","1jnxuv","1gbsde","o3mm96","1xnjg7","1tf8ft","17thqz","qhneqr","1qx89h","uovzt8","ltllz9","1mqwhq","1qkjm8","76j3t0","j1i9fl"]]);
