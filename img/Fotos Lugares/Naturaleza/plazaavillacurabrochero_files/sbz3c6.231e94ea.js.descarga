(this.$WP=this.$WP||[]).push(["sbz3c6",(e,r)=>{"use strict";var n,t,a,s,i,o,l,d,_,u,E,g,p,c={OFF:"Evergreen_Off",ON:"Evergreen_On"},v={CONTROL:"Control_No Ads",V1:"Creative_V1",V2:"Creative_V2"},I="recoEvergreenPromo.footerAd.hasBeenClosed",m="recoEvergreenPromo.modalAd.hasBeenDisplayed",S="recoEvergreenPromo.interstitial.hasBeenDisplayed",O=({skipImpression:e}={skipImpression:!1})=>{var r=a(),{geoId:O}=s(),f=(({skipImpression:e}={skipImpression:!1})=>{var r,{geoId:n}=s(),{countryGeoId:t,fetching:u}=i(),{featuredGeoId:E,fetching:c}=o(),{fetching:v,locationDetails:I}=l({geoId:E,pause:c}),m=u||c||t===d||n===d||!!_.get(Number(n)),{skipServiceCalls:S,pageExperimentKey:O,bucket:f,fetching:A}=(({skipImpression:e=!1,pause:r,experiment:n})=>{var t,s,i=a(),{page:o}=i,l=r||null==(t=n.Master)?void 0:t.key,d=r||null==(s=n[o])?void 0:s.key,_=[];l&&_.push(l),d&&_.push(d);var u=r||!l||0===_.length,E=g({experimentKeys:_,skipImpression:e},u);return{skipServiceCalls:u,pageExperimentKey:d,bucket:E,fetching:!u&&null===E}})({skipImpression:e,pause:m,experiment:p}),h=null==f?void 0:f[(null==p||null==(r=p.Master)?void 0:r.key)||""],V=S||null==f?void 0:f[O||""];return{pageVariant:V,masterVariant:h,enabled:!S&&!!V&&!!h,fetching:!S&&null==f||u||c||v||A,featuredGeoId:E,locationDetails:I}})({skipImpression:e}),[A,h]=n(!0);t((()=>{var e="undefined"==typeof document?"":document.referrer;h(!e.includes("tripadvisor"))}),[]);var V=u(S),R=u(m),y=u(I),T=f.fetching||R.fetching||y.fetching,D=f.enabled&&!R.isPresentInStorage,N=f.enabled&&!y.isPresentInStorage,{masterVariant:k,pageVariant:P,locationDetails:C}=f,b=String(null!=C&&C.name?`evergreen_transition_expertise_${C.name}`:"evergreen_transition_expertise").toLowerCase();return{enabled:f.enabled,fetching:T,delayShow:A,pageVariant:P,masterVariant:k,creativeVariant:b,locationDetails:C,geoId:O,medium:E(r.page),isModalEnabled:D,isFooterEnabled:N,featuredGeoId:f.featuredGeoId,interstitialWasDisplayed:V.isPresentInStorage,modalWasDisplayed:R.isPresentInStorage,footerWasDisplayed:y.isPresentInStorage,shouldFooterBeVisible:N&&P!==v.CONTROL&&k!==c.OFF}},f=()=>{var{fetching:e,isModalEnabled:r,isFooterEnabled:n}=O({skipImpression:!0});return{enabled:r||n,fetching:e}};return[()=>{p={Master:{key:"nvt_reco_acq_evergreen_1671223501",variants:{ON:c.ON,OFF:c.OFF}},Home:{key:"nvt_reco_acq_evergreen_home_1671224434",variants:{Control:v.CONTROL,V1:v.V1,V2:v.V2}},Tourism:{key:"nvt_reco_acq_evergreen_tourism_1671632286",variants:{Control:v.CONTROL,V1:v.V1,V2:v.V2}},Hotels:{key:"nvt_reco_acq_evergreen_hotels_1674223803",variants:{Control:v.CONTROL,V1:v.V1,V2:v.V2}}},e({FOOTER_HAS_BEEN_CLOSED_STORAGE_KEY:I,FOOTER_HAS_BEEN_DISPLAYED_STORAGE_KEY:"recoEvergreenPromo.footerAd.hasBeenDisplayed",MASTER_EXPERIMENT_VARIANTS:c,MODAL_HAS_BEEN_DISPLAYED_STORAGE_KEY:m,PAGE_EXPERIMENT_VARIANTS:v,RECO_INTERSTITIAL_HAS_BEEN_DISPLAYED_STORAGE_KEY:S,TRACKING_ITEM_NAME:"RecoEvergreenModal",useEvergreenAd:O,useRecoBannerGuard:f})},[e=>(n=e.useState,t=e.useEffect),e=>a=e.useRoute,e=>(s=e.useRouteInfo,i=e.useCountryGeoId,o=e.useFeaturedGeoId,l=e.useLocationDetails,d=e.US_GEO_ID,_=e.SUPPRESSED_GEOS_MAP,u=e.useStorageKeyStatus,E=e.getMedium),e=>g=e.default]]},["1o4yt4","fgwvq1","b3ve7j","gugp1d"]]);
