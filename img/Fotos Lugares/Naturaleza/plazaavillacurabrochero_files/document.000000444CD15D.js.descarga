window._bannerflow.registerModule('000000D0BA5C8A',(Color)=>{const preloadAssets=[{type:'font',id:'638f42c02251aadb36724487',value:{id:"638f42c02251aadb36724487",src:"https://c.bannerflow.net/fs/api/v2/font?u=https%3A%2F%2Ffontmanagerstorage.blob.core.windows.net%2Ffontmanagerfonts%2F59c910d931ae9c0318638256%2F47c6c5de-b140-4749-bb48-c46775dbed89.woff&t=%20Dabcdejlnorsuv",weight:300,style:"italic",fontFamilyId:"625699d103346433955b0323"}},{type:'font',id:'62569f6e03346433955b0328',value:{id:"62569f6e03346433955b0328",src:"https://c.bannerflow.net/fs/api/v2/font?u=https%3A%2F%2Ffontmanagerstorage.blob.core.windows.net%2Ffontmanagerfonts%2F59c910d931ae9c0318638256%2F4ddf24d8-65f1-464c-8978-56cd7bf0254a.woff&t=%25ACEHINPRSTX",weight:400,style:"normal",fontFamilyId:"62569f6403346433955b0327"}},{type:'font',id:'62569f6403346433955b0326',value:{id:"62569f6403346433955b0326",src:"https://c.bannerflow.net/fs/api/v2/font?u=https%3A%2F%2Ffontmanagerstorage.blob.core.windows.net%2Ffontmanagerfonts%2F59c910d931ae9c0318638256%2F690a2928-2699-41dc-9efd-aefbd433e80a.woff&t=%20-02ACDEHILNOPRSTUVX",weight:400,style:"normal",fontFamilyId:"62569f6403346433955b0327"}}];const env={FONTSERVICE_API_ORIGIN:'https://c.bannerflow.net/fs',IMAGE_OPTIMIZER_ORIGIN:'https://c.bannerflow.net/io',IN_PRODUCTION:true,FEEDS_STORAGE_ORIGIN:'https://c.bannerflow.net/sfeeds',VIDEOS_STORAGE_ORIGIN:'https://c.bannerflow.net'};const data={id:'468ceb7a-63a5-41b6-82e8-f7fc8232358c',kind:'creative',width:728,height:90,loops:0,startTime:0,stopTime:undefined,preloadImage:{frames:[11.212594227504246]},fill:Color.parse('rgba(255,255,255,1)'),elements:[{kind:'widget',id:'b6d9b4e9-28c8-439a-958d-729b9f6a151c',time:0,hidden:false,duration:14.97,animations:[],states:[],actions:[],x:0,y:0,width:728,height:90,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},html:"PGRpdiBpZD0iY29udGFpbmVyIj4KICAgIDxkaXYgaWQ9Imluc3RydWN0aW9ucyI+CiAgICAgICAgPHN0cm9uZz5WaWRlbyBwbGF5ZXI8L3N0cm9uZz48YnI+RW50ZXIgYSBVUkwgaW4gdGhlIFVSTCBwcm9wZXJ0eSBvciBzZWxlY3QgZmVlZCB3aXRoIHZpZGVvIFVSTC4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0icGxheS1wYXVzZS1vdmVybGF5IiBjbGFzcz0ic2hvdy1wbGF5Ij4KICAgICAgICA8c3ZnIGNsYXNzPSJwYXVzZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2NDBweCIgaGVpZ2h0PSI2NDBweCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0MCA2NDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+CiAgICAgICAgICAgICAgICA8cmVjdCB4PSItODAiCiAgICAgICAgICAgICAgICAgICAgICAgIHk9Ii04MCIKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheT0ibm9uZSIKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPSIjMDAwMDAwIgogICAgICAgICAgICAgICAgICAgICAgICBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPSI4MDAiIAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9IjgwMCIgLz4gCiAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICBkPSJNNTQ2LjI3Myw5My43MjZDNDg1LjgzNCwzMy4yODYsNDA1LjQ3NiwwLDMyMCwwQzIzNC41MjUsMCwxNTQuMTY2LDMzLjI4Niw5My43MjYsOTMuNzI2UzAsMjM0LjUyNSwwLDMyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYzAsODUuNDc2LDMzLjI4NiwxNjUuODM0LDkzLjcyNiwyMjYuMjczQzE1NC4xNjYsNjA2LjcxNCwyMzQuNTI0LDY0MCwzMjAsNjQwczE2NS44MzUtMzMuMjg2LDIyNi4yNzMtOTMuNzI3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDNjA2LjcxNCw0ODUuODM1LDY0MCw0MDUuNDc2LDY0MCwzMjBTNjA2LjcxNCwxNTQuMTY2LDU0Ni4yNzMsOTMuNzI2eiBNMzIwLDU4MkMxNzUuNTMzLDU4Miw1OCw0NjQuNDY3LDU4LDMyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgQzU4LDE3NS41MzMsMTc1LjUzMyw1OCwzMjAsNThjMTQ0LjQ2NywwLDI2MiwxMTcuNTMzLDI2MiwyNjJDNTgyLDQ2NC40NjcsNDY0LjQ2Nyw1ODIsMzIwLDU4MnoiIC8+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBkaXNwbGF5PSJub25lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD0iI0ZGRkZGRiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cz0iMjQzLjI4OSwzMjAgMjQzLjI4OSwxODguNjk4IDM1NywyNTQuMzUgNDcwLjcxMSwzMjAgMzU3LDM4NS42NTEgMjQzLjI4OSw0NTEuMzAyIiAvPgogICAgICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMzc1IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgeT0iMTkyLjg1NCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9IiNGRkZGRkYiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD0iNTIuNDg2IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PSIyNTQuMjkxIiAvPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjIxNSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9IjE5Mi44NTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9IjUyLjQ4NiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD0iMjU0LjI5MSIgLz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvc3ZnPgogICAgICAgIAogICAgICAgIDxzdmcgY2xhc3M9InBsYXkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2NDBweCIgaGVpZ2h0PSI2NDBweCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0MCA2NDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+CiAgICAgICAgICAgICAgICA8cmVjdCB4PSItODAiCiAgICAgICAgICAgICAgICAgICAgeT0iLTgwIgogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk9Im5vbmUiCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPSIjMDAwMDAwIgogICAgICAgICAgICAgICAgICAgIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIKICAgICAgICAgICAgICAgICAgICB3aWR0aD0iODAwIgogICAgICAgICAgICAgICAgICAgIGhlaWdodD0iODAwIiAvPgogICAgICAgICAgICAgICAgPHBhdGggZmlsbD0iI0ZGRkZGRiIKICAgICAgICAgICAgICAgICAgICBkPSJNNTQ2LjI3Myw5My43MjZDNDg1LjgzNCwzMy4yODYsNDA1LjQ3NiwwLDMyMCwwQzIzNC41MjUsMCwxNTQuMTY2LDMzLjI4Niw5My43MjYsOTMuNzI2UzAsMjM0LjUyNSwwLDMyMAogICAgICAgICAgICAgICAgICAgICAgICBjMCw4NS40NzYsMzMuMjg2LDE2NS44MzQsOTMuNzI2LDIyNi4yNzNDMTU0LjE2Niw2MDYuNzE0LDIzNC41MjQsNjQwLDMyMCw2NDBzMTY1LjgzNS0zMy4yODYsMjI2LjI3My05My43MjcKICAgICAgICAgICAgICAgICAgICAgICAgQzYwNi43MTQsNDg1LjgzNSw2NDAsNDA1LjQ3Niw2NDAsMzIwUzYwNi43MTQsMTU0LjE2Niw1NDYuMjczLDkzLjcyNnogTTMyMCw1ODJDMTc1LjUzMyw1ODIsNTgsNDY0LjQ2Nyw1OCwzMjAKICAgICAgICAgICAgICAgICAgICAgICAgQzU4LDE3NS41MzMsMTc1LjUzMyw1OCwzMjAsNThjMTQ0LjQ2NywwLDI2MiwxMTcuNTMzLDI2MiwyNjJDNTgyLDQ2NC40NjcsNDY0LjQ2Nyw1ODIsMzIwLDU4MnoiIC8+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICBwb2ludHM9IjI0My4yODksMzIwIDI0My4yODksMTg4LjY5OCAzNTcsMjU0LjM1IDQ3MC43MTEsMzIwIDM1NywzODUuNjUxIDI0My4yODksNDUxLjMwMiIgLz4KICAgICAgICAgICAgICAgIDxnIGRpc3BsYXk9Im5vbmUiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjM3NSIKICAgICAgICAgICAgICAgICAgICAgICAgeT0iMTkyLjg1NCIKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheT0iaW5saW5lIgogICAgICAgICAgICAgICAgICAgICAgICBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD0iNTIuNDg2IgogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9IjI1NC4yOTEiIC8+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMjE1IgogICAgICAgICAgICAgICAgICAgICAgICB5PSIxOTIuODU0IgogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5PSJpbmxpbmUiCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9IiNGRkZGRkYiCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPSI1Mi40ODYiCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD0iMjU0LjI5MSIgLz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMiIgCiAgICAgICAgICAgIGRpc3BsYXk9Im5vbmUiPjwvZz4KICAgICAgICA8L3N2Zz4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0idmlkZW8tY29udHJvbHMiPgogICAgICAgIDxkaXYgaWQ9InBsYXliYWNrIiBjbGFzcz0iaXNQYXVzZWQiPgogICAgICAgICAgICA8c3ZnIGNsYXNzPSJpY29uLXBhdXNlIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNjQwIDY0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQwIDY0MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+PHJlY3QgeD0iLTgwIiB5PSItODAiIGRpc3BsYXk9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIvPjxnPjxyZWN0IHg9IjM3NSIgeT0iMTkyLjg1NCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUyLjQ4NiIgaGVpZ2h0PSIyNTQuMjkxIi8+PHJlY3QgeD0iMjE1IiB5PSIxOTIuODU0IiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTIuNDg2IiBoZWlnaHQ9IjI1NC4yOTEiLz48L2c+PC9nPjxnIGlkPSJMYXllcl8yIiBkaXNwbGF5PSJub25lIj48L2c+PC9zdmc+CiAgICAgICAgICAgIDxzdmcgY2xhc3M9Imljb24tcGxheSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0MCA2NDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkxheWVyXzEiPjxyZWN0IHg9Ii04MCIgeT0iLTgwIiBkaXNwbGF5PSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjgwMCIgaGVpZ2h0PSI4MDAiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjI0My4yODksMzIwIDI0My4yODksMTg4LjY5OCAzNTcsMjU0LjM1IDQ3MC43MTEsMzIwIDM1NywzODUuNjUxIDI0My4yODksNDUxLjMwMiAiLz48ZyBkaXNwbGF5PSJub25lIj48cmVjdCB4PSIzNzUiIHk9IjE5Mi44NTQiIGRpc3BsYXk9ImlubGluZSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUyLjQ4NiIgaGVpZ2h0PSIyNTQuMjkxIi8+PHJlY3QgeD0iMjE1IiB5PSIxOTIuODU0IiBkaXNwbGF5PSJpbmxpbmUiIGZpbGw9IiNGRkZGRkYiIHdpZHRoPSI1Mi40ODYiIGhlaWdodD0iMjU0LjI5MSIvPjwvZz48L2c+PGcgaWQ9IkxheWVyXzIiIGRpc3BsYXk9Im5vbmUiPjwvZz4KICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0icHJvZ3Jlc3MtYmFyIj4KICAgICAgICAgICAgPHNwYW4gaWQ9InByb2dyZXNzLXRpbWVyIj48L3NwYW4+CiAgICAgICAgICAgIDxkaXYgaWQ9InByb2dyZXNzIj4KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJidWZmZXJCYXIiPjwvc3Bhbj4KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ0aW1lQmFyIj48L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9InZvbHVtZSI+CiAgICAgICAgICAgIDxzcGFuIGlkPSJ2b2x1bWUtaWNvbiIgY2xhc3M9InVubXV0ZWQiPgogICAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii0xMDAgLTAgMTAwMCAxMDAwIiBjbGFzcz0idW5tdXRlZCI+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA4MTkpIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMjYgNDQxbDI1MiAxODloNjN2LTYzMGgtNjNsLTI1MiAxODloLTEyNnYyNTJoMTI2ek01MzEgNDA1di0xYzI0IC0yNyAzNiAtNTggMzYgLTkwcy0xMiAtNjQgLTM2IC04OWMtMTUgLTE1IC0zMyAtMTEgLTQ0IDFzLTE2IDMwIC0xIDQ1YzI1IDI0IDI1IDY0IDAgODhjLTE1IDE1IC0xMCAzMyAxIDQ1czI5IDE2IDQ0IDF6TTYxOSA0OTJ2LTNjNTEgLTUxIDc0IC0xMTAgNzQgLTE3OHMtMjMgLTEyNyAtNzQgLTE3OCBjLTEzIC0xNSAtMzIgLTExIC00MyAwcy0xNiAzMCAtMSA0NWMzOCAzOSA1NSA4MyA1NSAxMzRzLTE3IDk1IC01NSAxMzRjLTE1IDE1IC0xMCAzNCAxIDQ1czMwIDE0IDQzIDF6TTcwOSA1Nzl2NGM3NCAtNzggMTEwIC0xNjYgMTEwIC0yNjhzLTM2IC0xOTAgLTExMCAtMjY4Yy0xNSAtMTUgLTMzIC0xMSAtNDQgMHMtMTYgMzAgLTEgNDVjNjQgNjQgOTMgMTM3IDkzIDIyMXMtMjkgMTU3IC05MyAyMjFjLTE1IDE1IC0xMCAzNCAxIDQ1IHMyOSAxNSA0NCAweiIvPjwvZz4KICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii0xMDAgLTAgMTAwMCAxMDAwIiBjbGFzcz0ibXV0ZWQiPgogICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgODE5KSI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTI2IDQ0MWwyNTIgMTg5aDYzdi02MzBoLTYzbC0yNTIgMTg5aC0xMjZ2MjUyaDEyNnpNODUxIDQxMGwtOTUgLTk1bDk1IC05NGwtNjMgLTYzbC05NSA5NGwtOTQgLTk0bC02MyA2M2w5NCA5NGwtOTQgOTVsNjMgNjNsOTQgLTk1bDk1IDk1eiIvPjwvZz4KICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDxkaXYgaWQ9InZvbHVtZS1jb250cm9sbGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InZvbHVtZS12YWx1ZSI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImZ1bGxzY3JlZW4iPgogICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAxNzkyIDE3OTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQxMSA1NDFsLTM1NSAzNTUgMzU1IDM1NSAxNDQtMTQ0cTI5LTMxIDcwLTE0IDM5IDE3IDM5IDU5djQ0OHEwIDI2LTE5IDQ1dC00NSAxOWgtNDQ4cS00MiAwLTU5LTQwLTE3LTM5IDE0LTY5bDE0NC0xNDQtMzU1LTM1NS0zNTUgMzU1IDE0NCAxNDRxMzEgMzAgMTQgNjktMTcgNDAtNTkgNDBoLTQ0OHEtMjYgMC00NS0xOXQtMTktNDV2LTQ0OHEwLTQyIDQwLTU5IDM5LTE3IDY5IDE0bDE0NCAxNDQgMzU1LTM1NS0zNTUtMzU1LTE0NCAxNDRxLTE5IDE5LTQ1IDE5LTEyIDAtMjQtNS00MC0xNy00MC01OXYtNDQ4cTAtMjYgMTktNDV0NDUtMTloNDQ4cTQyIDAgNTkgNDAgMTcgMzktMTQgNjlsLTE0NCAxNDQgMzU1IDM1NSAzNTUtMzU1LTE0NC0xNDRxLTMxLTMwLTE0LTY5IDE3LTQwIDU5LTQwaDQ0OHEyNiAwIDQ1IDE5dDE5IDQ1djQ0OHEwIDQyLTM5IDU5LTEzIDUtMjUgNS0yNiAwLTQ1LTE5eiIgZmlsbD0iI2ZmZiIvPgogICAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0icG9zdGVyIj48L2Rpdj4KICAgIDxzcGFuIGlkPSJ2b2x1bWVUb2dnbGUiIGNsYXNzPSJ1bm11dGVkIj4KICAgICAgICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwMCAtMCAxMDAwIDEwMDAiIGNsYXNzPSJ1bm11dGVkIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA4MTkpIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMjYgNDQxbDI1MiAxODloNjN2LTYzMGgtNjNsLTI1MiAxODloLTEyNnYyNTJoMTI2ek01MzEgNDA1di0xYzI0IC0yNyAzNiAtNTggMzYgLTkwcy0xMiAtNjQgLTM2IC04OWMtMTUgLTE1IC0zMyAtMTEgLTQ0IDFzLTE2IDMwIC0xIDQ1YzI1IDI0IDI1IDY0IDAgODhjLTE1IDE1IC0xMCAzMyAxIDQ1czI5IDE2IDQ0IDF6TTYxOSA0OTJ2LTNjNTEgLTUxIDc0IC0xMTAgNzQgLTE3OHMtMjMgLTEyNyAtNzQgLTE3OCBjLTEzIC0xNSAtMzIgLTExIC00MyAwcy0xNiAzMCAtMSA0NWMzOCAzOSA1NSA4MyA1NSAxMzRzLTE3IDk1IC01NSAxMzRjLTE1IDE1IC0xMCAzNCAxIDQ1czMwIDE0IDQzIDF6TTcwOSA1Nzl2NGM3NCAtNzggMTEwIC0xNjYgMTEwIC0yNjhzLTM2IC0xOTAgLTExMCAtMjY4Yy0xNSAtMTUgLTMzIC0xMSAtNDQgMHMtMTYgMzAgLTEgNDVjNjQgNjQgOTMgMTM3IDkzIDIyMXMtMjkgMTU3IC05MyAyMjFjLTE1IDE1IC0xMCAzNCAxIDQ1IHMyOSAxNSA0NCAweiIvPjwvZz4KICAgICAgICA8L3N2Zz4KICAgICAgICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwMCAtMCAxMDAwIDEwMDAiIGNsYXNzPSJtdXRlZCI+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgODE5KSI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTI2IDQ0MWwyNTIgMTg5aDYzdi02MzBoLTYzbC0yNTIgMTg5aC0xMjZ2MjUyaDEyNnpNODUxIDQxMGwtOTUgLTk1bDk1IC05NGwtNjMgLTYzbC05NSA5NGwtOTQgLTk0bC02MyA2M2w5NCA5NGwtOTQgOTVsNjMgNjNsOTQgLTk1bDk1IDk1eiIvPjwvZz4KICAgICAgICA8L3N2Zz4KICAgIDwvc3Bhbj4KICAgIDxkaXYgY2xhc3M9InZpZGVvLWhvbGRlciI+PC9kaXY+CjwvZGl2Pgo8c3R5bGUgaWQ9ImN1c3RvbS1zdHlsZXMiPjwvc3R5bGU+",css:"KiB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKaHRtbCB7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQpib2R5IHsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItciwgMHB4KTsKICBvdmVyZmxvdzogaGlkZGVuOwp9CiNjb250YWluZXIgewogIG9wYWNpdHk6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhJywgJ0FyaWFsJywgc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDE2cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnZpZGVvLWhvbGRlciB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9Ci52aWRlby1ob2xkZXIgdmlkZW8jdmlkZW8tcGxheWVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci52aWRlby1ob2xkZXIgdmlkZW8jdmlkZW8tcGxheWVyLmNvdmVyIHsKICB3aWR0aDogYXV0bzsKICBsZWZ0OiA1MCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwp9Ci52aWRlby1ob2xkZXIgdmlkZW8jdmlkZW8tcGxheWVyLmNvdmVyLXggewogIHdpZHRoOiBhdXRvOwogIGhlaWdodDogMTAwJTsKfQoudmlkZW8taG9sZGVyIHZpZGVvI3ZpZGVvLXBsYXllci5jb3Zlci15IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IGF1dG87Cn0KI3Bvc3RlciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgei1pbmRleDogMTsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7CiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluOwp9CiNwb3N0ZXIuY292ZXIgewogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7Cn0KLmltYWdlR2VuZXJhdG9yTW9kZSAjcGxheS1wYXVzZS1vdmVybGF5LAouaW1hZ2VHZW5lcmF0b3JNb2RlICN2aWRlby1jb250cm9scyB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CiNjb250YWluZXI6aG92ZXIgI3ZpZGVvLWNvbnRyb2xzIHsKICBvcGFjaXR5OiAxOwp9CiNjb250YWluZXIuaXNQYXVzZWQgI3ZpZGVvLWNvbnRyb2xzIHsKICBvcGFjaXR5OiAxOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkgewogIGRpc3BsYXk6IG5vbmU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB6LWluZGV4OiAyOwogIGN1cnNvcjogcG9pbnRlcjsKICBvcGFjaXR5OiAxOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dDsKfQojcGxheS1wYXVzZS1vdmVybGF5LnNob3cgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkuaGlkZSB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CiNwbGF5LXBhdXNlLW92ZXJsYXkuc2hvdy1wYXVzZSAucGF1c2UgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkuc2hvdy1wbGF5IC5wbGF5IHsKICBkaXNwbGF5OiBibG9jazsKfQojcGxheS1wYXVzZS1vdmVybGF5IHN2ZyB7CiAgZGlzcGxheTogbm9uZTsKICB3aWR0aDogNDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiA1MCU7CiAgdG9wOiA1MCU7CiAgaGVpZ2h0OiBhdXRvOwogIG9wYWNpdHk6IDAuNTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKICBmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7CiAgc3Ryb2tlOiByZ2JhKDAsMCwwLDAuNyk7CiAgc3Ryb2tlLXdpZHRoOiAxcHg7CiAgcGFkZGluZzogMnB4OwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dDsKfQojcGxheS1wYXVzZS1vdmVybGF5IHN2ZyAqIHsKICBmaWxsOiBpbmhlcml0Owp9CiNwbGF5LXBhdXNlLW92ZXJsYXkgc3ZnOmhvdmVyIHsKICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7Cn0KI3ZpZGVvLWNvbnRyb2xzIHsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNSk7CiAgY29sb3I6ICNmZmY7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMHB4OwogIG9wYWNpdHk6IDA7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2UtaW4tb3V0OwogIGRpc3BsYXk6IG5vbmU7CiAgei1pbmRleDogMzsKfQojdmlkZW8tY29udHJvbHMuc2hvdyB7CiAgZGlzcGxheTogZmxleDsKfQojdmlkZW8tY29udHJvbHMgPmRpdjpub3QoI3Byb2dyZXNzKSB7CiAgZmxvYXQ6IGxlZnQ7CiAgd2lkdGg6IDI1cHg7CiAgaGVpZ2h0OiAzMHB4OwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiN2aWRlby1jb250cm9scyA+ZGl2OmJlZm9yZSB7CiAgY29udGVudDogJyc7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGhlaWdodDogMTAwJTsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CiN2aWRlby1jb250cm9scyBzdmcgewogIHdpZHRoOiAyNXB4OwogIGhlaWdodDogMjVweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZmlsbDogI2ZmZjsKfQojcGxheWJhY2sgewogIHdpZHRoOiAzMHB4ICFpbXBvcnRhbnQ7Cn0KI3BsYXliYWNrLmlzUGF1c2VkIC5pY29uLXBsYXkgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQojcGxheWJhY2suaXNQbGF5aW5nIC5pY29uLXBhdXNlIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KI3BsYXliYWNrIC5pY29uLXBhdXNlIHsKICBkaXNwbGF5OiBub25lOwp9CiNwbGF5YmFjayAuaWNvbi1wbGF5IHsKICBkaXNwbGF5OiBub25lOwp9CiNwcm9ncmVzcy1iYXIgewogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWdyb3c6IDU7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9CiNwcm9ncmVzcy1iYXIgI3Byb2dyZXNzLXRpbWVyIHsKICB3aWR0aDogODdweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZm9udC1zaXplOiAxMXB4OwogIHBhZGRpbmctcmlnaHQ6IDVweDsKfQojcHJvZ3Jlc3MtYmFyICNwcm9ncmVzcyB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA3cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGN1cnNvcjogcG9pbnRlcjsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQojcHJvZ3Jlc3MtYmFyICNwcm9ncmVzcyBzcGFuIHsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIGRpc3BsYXk6IGJsb2NrOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KI3Byb2dyZXNzLWJhciAjcHJvZ3Jlc3MgI3RpbWVCYXIgewogIHotaW5kZXg6IDEwOwogIHdpZHRoOiAwOwogIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsKICBoZWlnaHQ6IDEwMCU7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjFzOwp9CiNwcm9ncmVzcy1iYXIgI3Byb2dyZXNzICNidWZmZXJCYXIgewogIHotaW5kZXg6IDU7CiAgd2lkdGg6IDA7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwp9CiN2b2x1bWUgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBmbGV4LWdyb3c6IDE7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgbWFyZ2luLXJpZ2h0OiA1cHg7Cn0KI3ZvbHVtZS5tb2JpbGUtdm9sdW1lIHsKICBmbGV4LWdyb3c6IDA7Cn0KI3ZvbHVtZSAjdm9sdW1lLXZhbHVlIHsKICB6LWluZGV4OiAxMDsKICB3aWR0aDogMDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7CiAgaGVpZ2h0OiAxMDAlOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgdHJhbnNpdGlvbjogd2lkdGggMC4yczsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9CiN2b2x1bWUgI3ZvbHVtZS1pY29uIHsKICB3aWR0aDogMjVweDsKICBmbG9hdDogbGVmdDsKICBtYXJnaW4tcmlnaHQ6IDNweDsKfQojdm9sdW1lICN2b2x1bWUtY29udHJvbGxlciB7CiAgd2lkdGg6IDgwJTsKICBoZWlnaHQ6IDdweDsKICBmbG9hdDogbGVmdDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjQpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KI3ZvbHVtZSAjdm9sdW1lLWljb24gc3ZnIHsKICBkaXNwbGF5OiBub25lOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKfQojdm9sdW1lICN2b2x1bWUtaWNvbi5tdXRlZCBzdmcubXV0ZWQgewogIGRpc3BsYXk6IGJsb2NrOwp9CiN2b2x1bWUgI3ZvbHVtZS1pY29uLnVubXV0ZWQgc3ZnLnVubXV0ZWQgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNmdWxsc2NyZWVuIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CiNmdWxsc2NyZWVuIHN2ZyB7CiAgd2lkdGg6IDE0cHg7CiAgbWFyZ2luLXJpZ2h0OiAzcHg7Cn0KI3ZvbHVtZVRvZ2dsZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDQ7CiAgd2lkdGg6IDEwJTsKICBoZWlnaHQ6IDEwJTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KI3ZvbHVtZVRvZ2dsZS5tdXRlZCBzdmcubXV0ZWQgewogIGRpc3BsYXk6IGJsb2NrOwp9CiN2b2x1bWVUb2dnbGUudW5tdXRlZCBzdmcudW5tdXRlZCB7CiAgZGlzcGxheTogYmxvY2s7Cn0KI3ZvbHVtZVRvZ2dsZSBzdmcgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBkaXNwbGF5OiBub25lOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBmaWxsOiAjZmZmOwp9CiN2b2x1bWVUb2dnbGUgc3ZnICogewogIGZpbGw6IGluaGVyaXQ7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDI5MHB4KSB7CiAgI3Byb2dyZXNzLXRpbWVyIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiAyMDBweCkgewogICN2aWRlby1jb250cm9scyAjdm9sdW1lLWljb24gewogICAgd2lkdGg6IGF1dG87CiAgfQogICN2aWRlby1jb250cm9scyAjdm9sdW1lLWNvbnRyb2xsZXIgewogICAgZGlzcGxheTogbm9uZTsKICB9Cn0KI2luc3RydWN0aW9ucyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDk5OwogIGRpc3BsYXk6IG5vbmU7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nOiAxNXB4OwogIGZvbnQtc2l6ZTogMC45cmVtOwogIGNvbG9yOiAjZjdmN2Y3OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB2ZXJ0aWNhbC1hbGlnbjogY2VudGVyOwogIGJhY2tncm91bmQ6ICMzNjM2MzY7Cn0KCiNpbnN0cnVjdGlvbnMgc3Ryb25nIHsKICBmb250LXNpemU6IDEuMXJlbTsKfQoKI2luc3RydWN0aW9ucy5zaG93IHsKICBkaXNwbGF5OiBmbGV4Owp9Cgp2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scy1mdWxsc2NyZWVuLWJ1dHRvbiB7CiAgZGlzcGxheTogbm9uZTsKfQp2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scyB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CnZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLXN0YXJ0LXBsYXliYWNrLWJ1dHRvbiB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKfQp2aWRlbzo6LWludGVybmFsLW1lZGlhLWNvbnRyb2xzLWRvd25sb2FkLWJ1dHRvbiB7CiAgZGlzcGxheTogbm9uZTsKfQp2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scy1lbmNsb3N1cmUgewogIG92ZXJmbG93OiBoaWRkZW47Cn0KdmlkZW86Oi13ZWJraXQtbWVkaWEtY29udHJvbHMtcGFuZWwgewogIHdpZHRoOiBjYWxjKDEwMCUgKyAzMHB4KTsgLyogQWRqdXN0IGFzIG5lZWRlZCAqLwp9CgojcGxheS1wYXVzZS1vdmVybGF5Lm9uSG92ZXIgLnBhdXNlIHsKICBvcGFjaXR5OiAwOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkub25Ib3ZlciAucGF1c2U6aG92ZXIgewogIG9wYWNpdHk6IDE7Cn0=",js:"dmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7DQogICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9DQogICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH0NCiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7DQogICAgfSk7DQp9Ow0KV2lkZ2V0Lm1vdXNlSW50ZXJhY3Rpb25zID0gdHJ1ZTsNCmxldCB2aWRlbzsNCmxldCBmaXJzdFBsYXlUaHJvdWdoID0gdHJ1ZTsNCmNvbnN0IHZpZGVvRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1ob2xkZXInKTsNCmNvbnN0IHZpZGVvU2V0dGluZ3MgPSB7fTsNCmxldCBoYXNTdG9wcGVkID0gZmFsc2U7DQpsZXQgbXV0ZWRTdGF0ZSA9IHRydWU7DQpsZXQgdXNlckluaXRpYXRlZFBhdXNlID0gZmFsc2U7DQpjb25zdCBpbnN0cnVjdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zdHJ1Y3Rpb25zJyk7DQpjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7DQpjb25zdCBjdXN0b21TdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLXN0eWxlcycpOw0KbGV0IGZlZWQsIGZlZWRVcmw7DQpsZXQgZmVlZEl0ZXJhdGlvbkluZGV4ID0gMDsNCmxldCBsb2NhbFVybDsNCmNvbnN0IHBsYXlQYXVzZU92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheS1wYXVzZS1vdmVybGF5Jyk7DQovKg0KKiogQmFubmVyZmxvdyBldmVudHNgDQoqLw0KbGV0IHByb21pc2VSZXNvbHZlcjsNCldpZGdldC5pc0xvYWRlZFByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsNCiAgICBwcm9taXNlUmVzb2x2ZXIgPSByZXNvbHZlOw0KfSk7DQp0cnkgew0KICAgIChmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7DQogICAgICAgICAgICBpZiAoV2lkZ2V0LnByb3BlcnRpZXMucm91bmRDb3JuZXJzKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWJvcmRlci1yJywgYCR7V2lkZ2V0LnByb3BlcnRpZXMucm91bmRDb3JuZXJzfXB4YCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB5aWVsZCBzZXRTZXR0aW5ncygpOw0KICAgICAgICAgICAgY3JlYXRlVmlkZW8oKTsNCiAgICAgICAgfSk7DQogICAgfSkoKTsNCn0NCmNhdGNoIChlKSB7DQogICAgY29uc29sZS5sb2coJ2luaXRpYWxpemF0aW9uIGVycm9yIGluIGNhdGNoOiAnLCBlKTsNCn0NCmZ1bmN0aW9uIGNyZWF0ZVZpZGVvKCkgew0KICAgIGlmICghdmlkZW8pIHsNCiAgICAgICAgdmlkZW8gPSBuZXcgQkZWaWRlbyh2aWRlb0VsZW0sIHZpZGVvU2V0dGluZ3MsIFZpZGVvVHJhY2tpbmcpOw0KICAgIH0NCn0NCmZ1bmN0aW9uIHNldFNldHRpbmdzKCkgew0KICAgIHZhciBfYTsNCiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICBjb25zdCBzZXR0aW5ncyA9IFdpZGdldC5wcm9wZXJ0aWVzOw0KICAgICAgICBmb3IgKGxldCBhdHRybmFtZSBpbiBzZXR0aW5ncykgew0KICAgICAgICAgICAgdmlkZW9TZXR0aW5nc1thdHRybmFtZV0gPSBzZXR0aW5nc1thdHRybmFtZV07DQogICAgICAgIH0NCiAgICAgICAgbGV0IGZlZWRGaWVsZE5hbWUgPSBXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGQ7DQogICAgICAgIGlmIChXaWRnZXQucHJvcGVydGllcy51c2VGZWVkICYmIGZlZWRGaWVsZE5hbWUgJiYgV2lkZ2V0LnByb3BlcnRpZXMuZHluYW1pY0NvbnRlbnQuaWQpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZmVlZCA9IHlpZWxkIFdpZGdldC5wcm9wZXJ0aWVzLmR5bmFtaWNDb250ZW50LmxvYWQoKTsNCiAgICAgICAgICAgICAgICBpZiAoZmVlZCAmJiBmZWVkLmRhdGEgJiYgZmVlZC5kYXRhLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICBmZWVkID0gZmVlZC5kYXRhOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzb21lIGVycm9yIHdpdGggZmVlZDogJywgZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGZlZWQgJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXhdICYmIGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtmZWVkRmllbGROYW1lXSkgew0KICAgICAgICAgICAgICAgIGZlZWRVcmwgPSAoX2EgPSBmZWVkW2ZlZWRJdGVyYXRpb25JbmRleF1bZmVlZEZpZWxkTmFtZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZTsNCiAgICAgICAgICAgICAgICAvLyBzZXQgdXJsIGZyb20gZmVlZA0KICAgICAgICAgICAgICAgIHZpZGVvU2V0dGluZ3MudXJsID0gZ2V0QWRqdXN0ZWRVcmwoZmVlZFVybCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAvLyBzZXQgdXJsIGZyb20gd2lkZ2V0IHByb3BlcnRpZXMNCiAgICAgICAgICAgIHZpZGVvU2V0dGluZ3MudXJsID0gZ2V0QWRqdXN0ZWRVcmwoV2lkZ2V0LnByb3BlcnRpZXMudXJsKTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgcG9zdGVyOw0KICAgICAgICBsZXQgZmFsbGJhY2tJbWFnZTsNCiAgICAgICAgaWYgKHZpZGVvU2V0dGluZ3MucG9zdGVyKSB7DQogICAgICAgICAgICBwb3N0ZXIgPSBnZXRPcHRpbWFsSW1hZ2UodmlkZW9TZXR0aW5ncy5wb3N0ZXIpOw0KICAgICAgICB9DQogICAgICAgIGlmICh2aWRlb1NldHRpbmdzLmZhbGxiYWNrSW1hZ2UpIHsNCiAgICAgICAgICAgIGZhbGxiYWNrSW1hZ2UgPSBnZXRPcHRpbWFsSW1hZ2UodmlkZW9TZXR0aW5ncy5mYWxsYmFja0ltYWdlKTsNCiAgICAgICAgfQ0KICAgICAgICB2aWRlb1NldHRpbmdzLnBvc3RlciA9IHBvc3RlcjsNCiAgICAgICAgdmlkZW9TZXR0aW5ncy5mYWxsYmFja0ltYWdlID0gZmFsbGJhY2tJbWFnZTsNCiAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnaW1hZ2UnKSB7DQogICAgICAgICAgICB2aWRlb1NldHRpbmdzLmNvbnRyb2xzID0gZmFsc2U7DQogICAgICAgICAgICB2aWRlb1NldHRpbmdzLnN0YXJ0VGltZSA9IE1hdGgubWF4KDAsIHZpZGVvU2V0dGluZ3Muc3RhcnRUaW1lKTsNCiAgICAgICAgICAgIHZpZGVvU2V0dGluZ3MuYXV0b3BsYXkgPSBmYWxzZTsNCiAgICAgICAgICAgIHZpZGVvU2V0dGluZ3MucG9zdGVyID0gbnVsbDsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KZnVuY3Rpb24gZ2V0T3B0aW1hbEltYWdlKHNyYykgew0KICAgIHJldHVybiBXaWRnZXQuZ2V0T3B0aW1pemVkSW1hZ2VVcmwoc3JjLCB7IHdpZHRoOiBXaWRnZXQud2lkdGgsIGhlaWdodDogV2lkZ2V0LmhlaWdodCwgZml0T3B0aW9uOiBXaWRnZXQucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbC50b0xvd2VyQ2FzZSgpIH0pOw0KfQ0KZnVuY3Rpb24gc3RyaXAocykgew0KICAgIGNvbnN0IHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpOw0KICAgIHRtcC5pbm5lckhUTUwgPSBzOw0KICAgIHJldHVybiB0bXAudGV4dENvbnRlbnQgfHwgdG1wLmlubmVyVGV4dCB8fCAiIjsNCn0NCmZ1bmN0aW9uIEJGVmlkZW8oZWxlbSwgb3B0aW9ucywgVmlkZW9UcmFja2luZykgew0KICAgIGxldCBfc2V0dGluZ3MgPSBkZXNlcmlhbGl6ZVNldHRpbmdzKG9wdGlvbnMpOw0KICAgIGxldCBfdmlkZW87DQogICAgY29uc3QgZWxCeUlkID0gc2VsID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbCk7DQogICAgbGV0IGV2ZW50UXVldWUgPSBbXTsNCiAgICBsZXQgZGV2aWNlSW5mbyA9IGdldERldmljZUluZm8oKTsNCiAgICBsZXQgcGxheVByb21pc2U7DQogICAgbGV0IHZpZGVvVHJhY2tpbmc7DQogICAgbGV0IGRlZmF1bHRWaWRlb1R5cGVzID0gWw0KICAgICAgICB7DQogICAgICAgICAgICBleHRlbnNpb246ICdtcDQnLA0KICAgICAgICAgICAgdHlwZTogJ3ZpZGVvL21wNCcNCiAgICAgICAgfQ0KICAgIF07DQogICAgbGV0IHRvdGFsUGxheXRpbWU7DQogICAgbGV0IHZvbHVtZSA9IDA7DQogICAgbGV0IGhhc1BsYXllZCA9IGZhbHNlOw0KICAgIGxldCByZWFkeVN0YXRlID0gMDsNCiAgICBjb25zdCBwbGF5ZXIgPSBlbEJ5SWQoJ3ZpZGVvLXBsYXllcicpOw0KICAgIGNvbnN0IHZpZGVvQ29udGFpbmVyID0gZWxCeUlkKCdjb250YWluZXInKTsNCiAgICBjb25zdCBwbGF5UGF1c2VPdmVybGF5ID0gZWxCeUlkKCdwbGF5LXBhdXNlLW92ZXJsYXknKTsNCiAgICBjb25zdCBwb3N0ZXIgPSBlbEJ5SWQoJ3Bvc3RlcicpOw0KICAgIC8vIEluaXRpYWxpemUgVmlkZW8gY29udHJvbHMNCiAgICBsZXQgdmlkZW9Db250cm9scyA9IGVsQnlJZCgndmlkZW8tY29udHJvbHMnKTsNCiAgICBsZXQgcGxheWJhY2sgPSBlbEJ5SWQoJ3BsYXliYWNrJyk7DQogICAgbGV0IHZvbHVtZUNvbnRhaW5lciA9IGVsQnlJZCgndm9sdW1lJyk7DQogICAgbGV0IHZvbHVtZUNvbnRyb2wgPSBlbEJ5SWQoJ3ZvbHVtZS1jb250cm9sbGVyJyk7DQogICAgbGV0IHZvbHVtZUNvbnRyb2xWYWx1ZSA9IGVsQnlJZCgndm9sdW1lLXZhbHVlJyk7DQogICAgbGV0IHZvbHVtZUNvbnRyb2xUb2dnbGUgPSBlbEJ5SWQoJ3ZvbHVtZS1pY29uJyk7DQogICAgbGV0IHByb2dyZXNzID0gZWxCeUlkKCdwcm9ncmVzcycpOw0KICAgIGxldCB2aWRlb0R1cmF0aW9uID0gZWxCeUlkKCdwcm9ncmVzcy10aW1lcicpOw0KICAgIGxldCBmdWxsc2NyZWVuID0gZWxCeUlkKCdmdWxsc2NyZWVuJyk7DQogICAgbGV0IHRpbWVCYXIgPSBlbEJ5SWQoJ3RpbWVCYXInKTsNCiAgICBwbGF5YmFjay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVG9nZ2xlUGxheVBhdXNlKTsNCiAgICB2b2x1bWVDb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uVm9sdW1lRHJhZyk7DQogICAgdm9sdW1lQ29udHJvbFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVm9sdW1lVG9nZ2xlKTsNCiAgICBwcm9ncmVzcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvblRpbWVTZWVrRHJhZyk7DQogICAgZnVsbHNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUZ1bGxzY3JlZW4pOw0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbkNvbnRyb2xzTW91c2VVcCk7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Db250cm9sc01vdXNlRG93bik7DQogICAgY29uc3Qgdm9sdW1lVG9nZ2xlQnV0dG9uID0gZWxCeUlkKCd2b2x1bWVUb2dnbGUnKTsNCiAgICB2b2x1bWVUb2dnbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblZvbHVtZVRvZ2dsZSk7DQogICAgdHJ5IHsNCiAgICAgICAgaWYgKHBsYXllcikgew0KICAgICAgICAgICAgcGxheWVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGxheWVyKTsNCiAgICAgICAgICAgIF92aWRlbyA9IG51bGw7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFfc2V0dGluZ3MudXJsKSB7DQogICAgICAgICAgICBfc2V0dGluZ3MudXJsID0gJyc7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVybC4nKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyBTZXQgcG9zdGVyIGJlZm9yZSBsb2FkaW5nIHZpZGVvDQogICAgICAgIGlmIChfc2V0dGluZ3MucG9zdGVyKSB7DQogICAgICAgICAgICBwb3N0ZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgX3NldHRpbmdzLnBvc3RlciArICcpJzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoX3NldHRpbmdzLmZhbGxiYWNrSW1hZ2UgJiYgQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdpbWFnZScpIHsNCiAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSArICcpJzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSAmJiBkZXZpY2VJbmZvLmlzTW9iaWxlICYmICFkZXZpY2VJbmZvLmNhblBsYXlJbmxpbmUpIHsNCiAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSArICcpJzsNCiAgICAgICAgfQ0KICAgICAgICBfdmlkZW8gPSBjcmVhdGVWaWRlb0VsZW1lbnQoX3NldHRpbmdzLnVybCk7DQogICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoX3ZpZGVvKTsNCiAgICAgICAgLy8gSW1tZWRpYXRlbHkgc2V0IGZpbGwgb3B0aW9uIHRvIGF2b2lkIHJlc2l6aW5nIHRvIGJlIHNlZW4NCiAgICAgICAgc2V0RmlsbE9wdGlvbigpOw0KICAgICAgICBpZiAoQWQucGFyYW1ldGVycy5pc09tbmlSZW5kZXIpIHsNCiAgICAgICAgICAgIF92aWRlby5wYXVzZSgpOw0KICAgICAgICAgICAgX3NldHRpbmdzLmF1dG9wbGF5ID0gZmFsc2U7DQogICAgICAgICAgICBfdmlkZW8ubXV0ZWQgPSBmYWxzZTsNCiAgICAgICAgICAgIFRpbWVsaW5lLm9uKFRpbWVsaW5lRXZlbnQuUGxheSwgdGltZSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHRpbWUgPj0gV2lkZ2V0LnRpbWUgJiYgdGltZSA8IFdpZGdldC5kdXJhdGlvbikgew0KICAgICAgICAgICAgICAgICAgICBwbGF5VmlkZW8oKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBvbk1ldGFMb2FkZWQpOw0KICAgICAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblZpZGVvRW5kZWQpOw0KICAgICAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIG9uVmlkZW9QbGF5KTsNCiAgICAgICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgb25WaWRlb1BhdXNlKTsNCiAgICAgICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3ZvbHVtZWNoYW5nZScsIG9uVm9sdW1lQ2hhbmdlKTsNCiAgICAgICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5VGhyb3VnaCk7DQogICAgICAgIC8qDQogICAgICAgICogV2UgdXNlIFJBRiBpbnN0ZWFkIG9mIG5hdGl2ZSB0aW1ldXBkYXRlIGV2ZW50IG9uIHRoZSBtZWRpYSBBUEkgdG8NCiAgICAgICAgKiBnZXQgYSBtb3JlIGFjY3VyYXRlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIHZpZGVvDQogICAgICAgICovDQogICAgICAgIGZ1bmN0aW9uIHRpbWVVcGRhdGUoKSB7DQogICAgICAgICAgICBvblRpbWVVcGRhdGVkKCk7DQogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpbWVVcGRhdGUpOw0KICAgICAgICB9DQogICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTsNCiAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spOw0KICAgIH0NCiAgICBjYXRjaCAoZSkgew0KICAgICAgICBlbEJ5SWQoJ2luc3RydWN0aW9ucycpLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsNCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUuc3RhY2spOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBVcGRhdGVzIHZpZGVvJ3Mgc2V0dGluZ3MNCiAgICAgKiBPbmx5IHNldHRpbmdzIHRoYXQgYXJlIHBhc3NlZCBhcmUgY2hhbmdlZCwgcmVzdCByZW1haW4gcGVyc2lzdGVudA0KICAgICAqIEBwYXJhbSAge30gc2V0dGluZ3MNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzZXRWaWRlb1NldHRpbmdzKHNldHRpbmdzKSB7DQogICAgICAgIC8vIE1lcmdlIGN1cnJlbnQgc2V0dGluZ3Mgd2l0aCBwb3RlbnRpYWwgbmV3IHNldHRpbmdzDQogICAgICAgIGZvciAobGV0IGF0dHJuYW1lIGluIHNldHRpbmdzKSB7DQogICAgICAgICAgICBfc2V0dGluZ3NbYXR0cm5hbWVdID0gc2V0dGluZ3NbYXR0cm5hbWVdOw0KICAgICAgICB9DQogICAgICAgIF9zZXR0aW5ncyA9IGRlc2VyaWFsaXplU2V0dGluZ3MoX3NldHRpbmdzKTsNCiAgICAgICAgdmlkZW9UcmFja2luZyA9IG5ldyBWaWRlb1RyYWNraW5nKGdldFVybE1ldGEoX3NldHRpbmdzLnVybCkpOw0KICAgICAgICB0b3RhbFBsYXl0aW1lID0gKF9zZXR0aW5ncy5zdGFydFRpbWUgPj0gMSAmJiBfc2V0dGluZ3MuZW5kVGltZSA+PSAxKQ0KICAgICAgICAgICAgPyBfc2V0dGluZ3MuZW5kVGltZSAtIF9zZXR0aW5ncy5zdGFydFRpbWUNCiAgICAgICAgICAgIDogX3ZpZGVvLmR1cmF0aW9uIC0gX3NldHRpbmdzLnN0YXJ0VGltZTsNCiAgICAgICAgaWYgKF9zZXR0aW5ncy5sb29wV2l0aEJhbm5lcikgew0KICAgICAgICAgICAgaWYgKFdpZGdldC5kdXJhdGlvbiA+IF92aWRlby5kdXJhdGlvbikgew0KICAgICAgICAgICAgICAgIHRvdGFsUGxheXRpbWUgPSBfdmlkZW8uZHVyYXRpb247DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICB0b3RhbFBsYXl0aW1lID0gV2lkZ2V0LmR1cmF0aW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8qKg0KICAgICAgICAgKiBPbmx5IHNldCBhdXRvcGxheSB0byB0cnVlIGlmIHRoZSBkZXZpY2Ugc3VwcG9ydHMgcGxheXNJbmxpbmUgYXR0cmlidXRlIGFuZCBpcyBtb2JpbGUsDQogICAgICAgICAqIGF1dG9wbGF5aW5nIGlzIG90aGVyd2lzZSBoYW5kbGVkIGZyb20gY2FuUGxheVRocm91Z2ggdG8gZW5zdXJlIHRoYXQgdGhlIHZpZGVvIGlzIHJlYWR5IGZvciBwbGF5YmFjay4NCiAgICAgICAgICogVGhpcyBpcyB0byBwcm9wZXJseSBzaG93L2hpZGUgdGhlIHBvc3RlciB3aGlsc3QgdmlkZW8gaXMgYnVmZmVyaW5nDQogICAgICAgICAqLw0KICAgICAgICBfdmlkZW8uYXV0b3BsYXkgPSBkZXZpY2VJbmZvLmNhblBsYXlJbmxpbmUgJiYgZGV2aWNlSW5mby5pc01vYmlsZQ0KICAgICAgICAgICAgPyBfc2V0dGluZ3MuYXV0b3BsYXkNCiAgICAgICAgICAgIDogZmFsc2U7DQogICAgICAgIF92aWRlby5jb250cm9scyA9IGRldmljZUluZm8uY2FuUGxheUlubGluZSAmJiBkZXZpY2VJbmZvLmlzTW9iaWxlDQogICAgICAgICAgICA/IF9zZXR0aW5ncy5jb250cm9scw0KICAgICAgICAgICAgOiBmYWxzZTsNCiAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnaW1hZ2UnICYmIEFkLnBhcmFtZXRlcnMuc2Vlaykgew0KICAgICAgICAgICAgX3ZpZGVvLmN1cnJlbnRUaW1lID0gdG9SZWxhdGl2ZVRpbWUoQWQucGFyYW1ldGVycy5zZWVrKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIF92aWRlby5jdXJyZW50VGltZSA9IF9zZXR0aW5ncy5zdGFydFRpbWU7DQogICAgICAgIH0NCiAgICAgICAgc2V0Vm9sdW1lKF9zZXR0aW5ncy52b2x1bWUpOw0KICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGF1dG9wbGF5IGFuZCB0aGVyZSdzIHZvbHVtZSB0aGVyZSdzIG5vIHBvaW50IGluIG11dGluZyB0aGUgdmlkZW8gYnkgZGVmYXVsdA0KICAgICAgICBpZiAoKCFfc2V0dGluZ3MuYXV0b3BsYXkgJiYgX3NldHRpbmdzLnZvbHVtZSkgfHwgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnICYmIF9zZXR0aW5ncy52b2x1bWUpKSB7DQogICAgICAgICAgICBfdmlkZW8ubXV0ZWQgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBfdmlkZW8ucGxheWJhY2tSYXRlID0gX3NldHRpbmdzLnBsYXliYWNrUmF0ZTsNCiAgICAgICAgLy8gVXBkYXRlIHBvc3RlciBpZiBjaGFuZ2VkDQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCAhPT0gJ2ltYWdlJyAmJiBfc2V0dGluZ3MucG9zdGVyKSB7DQogICAgICAgICAgICBwb3N0ZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgX3NldHRpbmdzLnBvc3RlciArICcpJzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdkZXNpZ24tdmlldycpIHsNCiAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7DQogICAgICAgIH0NCiAgICAgICAgdXBkYXRlRE9NKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldFByb3BlclVybCh1cmwpIHsNCiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyhcclxufFxufFxyfFxzKS9nbSwgIiIpOw0KICAgICAgICBsZXQgdXJscyA9IHVybC5zcGxpdCgnLCcpOw0KICAgICAgICBpZiAoKHVybHMubGVuZ3RoID09PSAyICYmICF1cmwubWF0Y2goL1wuKHdlYm18bW92KS8pKSB8fCB1cmxzLmxlbmd0aCA+IDIpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmICh1cmxzLmxlbmd0aCA9PT0gMSAmJiAhdXJsLm1hdGNoKCcubXA0JykpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodXJscy5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgIGlmIChnZXREZXZpY2VJbmZvKCkuaXNTYWZhcmkpIHsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmxzWzBdLm1hdGNoKCcubW92JykgPyB1cmxzWzBdIDogdXJsc1sxXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHVybCA9IHVybHNbMF0ubWF0Y2goJy53ZWJtJykgPyB1cmxzWzBdIDogdXJsc1sxXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpbnN0cnVjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgICAgICByZXR1cm4gdXJsOw0KICAgIH0NCiAgICBmdW5jdGlvbiBjcmVhdGVWaWRlb0VsZW1lbnQodXJsKSB7DQogICAgICAgIHVybCA9IGdldFByb3BlclVybCh1cmwpOw0KICAgICAgICBpZiAoIXVybCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciB1ID0gZ2V0VXJsTWV0YSh1cmwpOw0KICAgICAgICBjb25zdCB2aWRlb1R5cGUgPSBnZXRWaWRlb1R5cGVBbmRVcGRhdGVTb3VyY2VVcmwodSk7IC8vIFt7dHlwZSwgZXh0ZW5zaW9ufV0NCiAgICAgICAgbGV0IHVybFNyYyA9IHUuc291cmNlVXJsOw0KICAgICAgICBsZXQgcXVlcnlQYXJhbXMgPSB1LnBhcmFtczsNCiAgICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOw0KICAgICAgICB2aWRlby5pZCA9ICd2aWRlby1wbGF5ZXInOw0KICAgICAgICB2aWRlby5wcmVsb2FkID0gJ2F1dG8nOw0KICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpOw0KICAgICAgICAvLyBNdXRlZCBpcyBzZXQgaGVyZSBpbnN0ZWFkIG9mIHNldFZpZGVvU2V0dGluZyB0byBwcmV2ZW50IGl0IHRvIGJlIG11dGVkIHdoZW4gbm90IHdhbnRlZA0KICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdkZXNpZ24tdmlldycpIHsNCiAgICAgICAgICAgIHZpZGVvLm11dGVkID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICB2aWRlby5tdXRlZCA9IHRydWU7DQogICAgICAgIH0NCiAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnaW1hZ2UnICYmIEFkLnBhcmFtZXRlcnMuc2Vlaykgew0KICAgICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSB0b1JlbGF0aXZlVGltZShBZC5wYXJhbWV0ZXJzLnNlZWspOw0KICAgICAgICB9DQogICAgICAgIGlmIChkZXZpY2VJbmZvLmlzTW9iaWxlKSB7DQogICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpOw0KICAgICAgICB9DQogICAgICAgIGZvciAobGV0IGkgaW4gdmlkZW9UeXBlKSB7DQogICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTsNCiAgICAgICAgICAgIHNvdXJjZS5zcmMgPSB1cmxTcmMgKyAnLicgKyB2aWRlb1R5cGVbaV0uZXh0ZW5zaW9uICsgcXVlcnlQYXJhbXM7DQogICAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKCJ0eXBlIiwgdmlkZW9UeXBlW2ldLnR5cGUpOw0KICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoc291cmNlKTsNCiAgICAgICAgfQ0KICAgICAgICB2aWRlby5sb2FkKCk7DQogICAgICAgIHJldHVybiB2aWRlbzsNCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0VmlkZW9UeXBlQW5kVXBkYXRlU291cmNlVXJsKHUpIHsNCiAgICAgICAgbGV0IHZpZGVvVHlwZTsNCiAgICAgICAgaWYgKHUuZXh0Lm1hdGNoKC8od2VibXxtb3YpLykpIHsNCiAgICAgICAgICAgIGlmIChnZXREZXZpY2VJbmZvKCkuaXNTYWZhcmkpIHsNCiAgICAgICAgICAgICAgICB2aWRlb1R5cGUgPSBbew0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiAnbW92JywNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd2aWRlby9xdWlja3RpbWUnDQogICAgICAgICAgICAgICAgICAgIH1dOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgdmlkZW9UeXBlID0gW3sNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogJ3dlYm0nLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvL3dlYm0nDQogICAgICAgICAgICAgICAgICAgIH1dOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHZpZGVvVHlwZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmlkZW9UeXBlczsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiB1cGRhdGVET00oKSB7DQogICAgICAgIGlmICghX3NldHRpbmdzLmF1dG9wbGF5ICYmIF9zZXR0aW5ncy5wb3N0ZXIpIHsNCiAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5kaXNwbGF5ID0gJyc7DQogICAgICAgICAgICBfdmlkZW8uc3R5bGUuZGlzcGxheSA9ICcnOw0KICAgICAgICB9DQogICAgICAgIGlmICghZGV2aWNlSW5mby5jYW5QbGF5SW5saW5lICYmIGRldmljZUluZm8uaXNNb2JpbGUpIHsNCiAgICAgICAgICAgIGlmIChfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSkgew0KICAgICAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSArICcpJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIF92aWRlby5zdGFydFRpbWUgPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChkZXZpY2VJbmZvLmlzTW9iaWxlKSB7DQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vYmlsZScpOw0KICAgICAgICB9DQogICAgICAgIGlmICghX3NldHRpbmdzLmNvbnRyb2xzICYmICFfc2V0dGluZ3MuYXV0b3BsYXkgJiYgQ3JlYXRpdmUuZW52aXJvbm1lbnQgIT09ICdpbWFnZScpIHsNCiAgICAgICAgICAgIHBsYXlQYXVzZU92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnc2hvdycpOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKF9zZXR0aW5ncy5mYWxsYmFja0ltYWdlICYmICFkZXZpY2VJbmZvLmNhblBsYXlJbmxpbmUpIHsNCiAgICAgICAgICAgIHBsYXlQYXVzZU92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZScpOw0KICAgICAgICB9DQogICAgICAgIHBsYXlQYXVzZU92ZXJsYXkucXVlcnlTZWxlY3RvckFsbCgnc3ZnJylbMF0uc3R5bGUud2lkdGggPSBfc2V0dGluZ3MucGxheVBhdXNlQnV0dG9uU2l6ZSArICclJzsNCiAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5xdWVyeVNlbGVjdG9yQWxsKCdzdmcnKVsxXS5zdHlsZS53aWR0aCA9IF9zZXR0aW5ncy5wbGF5UGF1c2VCdXR0b25TaXplICsgJyUnOw0KICAgICAgICBpZiAoX3NldHRpbmdzLmNvbnRyb2xzICYmICFkZXZpY2VJbmZvLmlzTW9iaWxlKSB7DQogICAgICAgICAgICB2aWRlb0NvbnRyb2xzLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHZpZGVvQ29udHJvbHMuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgICAgICB9DQogICAgICAgIF92aWRlby5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBfc2V0dGluZ3MucGxheWVyQmFja2dyb3VuZDsNCiAgICAgICAgX3ZpZGVvLnN0eWxlLmZpbHRlciA9ICdncmF5c2NhbGUoJyArIF9zZXR0aW5ncy5ncmF5U2NhbGUgKyAnJSknOw0KICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IF9zZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b24gPyAnYmxvY2snIDogJ25vbmUnOw0KICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24uc3R5bGUudG9wID0gX3NldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvblBvc2l0aW9uVG9wICsgJyUnOw0KICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24uc3R5bGUubGVmdCA9IF9zZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25Qb3NpdGlvbkxlZnQgKyAnJSc7DQogICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5zdHlsZS53aWR0aCA9IF9zZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25TaXplICsgJ3B4JzsNCiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLnN0eWxlLmhlaWdodCA9IF9zZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25TaXplICsgJ3B4JzsNCiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2ZycpWzBdLnN0eWxlLmZpbGwgPSBfc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uQ29sb3I7DQogICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5xdWVyeVNlbGVjdG9yQWxsKCdzdmcnKVsxXS5zdHlsZS5maWxsID0gX3NldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvbkNvbG9yOw0KICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdpbWFnZScpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgiaW1hZ2VHZW5lcmF0b3JNb2RlIik7DQogICAgICAgICAgICBpZiAoX3NldHRpbmdzLmZhbGxiYWNrSW1hZ2UpIHsNCiAgICAgICAgICAgICAgICBwb3N0ZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgX3NldHRpbmdzLmZhbGxiYWNrSW1hZ2UgKyAnKSc7DQogICAgICAgICAgICAgICAgX3ZpZGVvLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDApJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBzZXRGaWxsT3B0aW9uKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIHNldEZpbGxPcHRpb24oKSB7DQogICAgICAgIGlmIChfc2V0dGluZ3MuYmFja2dyb3VuZEZpbGwgPT09ICdDb3ZlcicpIHsNCiAgICAgICAgICAgIHBvc3Rlci5jbGFzc05hbWUgPSAnY292ZXInOw0KICAgICAgICAgICAgKF92aWRlby52aWRlb0hlaWdodCAvIF92aWRlby52aWRlb1dpZHRoKSA8PSAodmlkZW9Db250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC8gdmlkZW9Db250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpDQogICAgICAgICAgICAgICAgPyBfdmlkZW8uY2xhc3NOYW1lID0gJ2NvdmVyIGNvdmVyLXgnDQogICAgICAgICAgICAgICAgOiBfdmlkZW8uY2xhc3NOYW1lID0gJ2NvdmVyIGNvdmVyLXknOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcG9zdGVyLmNsYXNzTmFtZSA9ICcnOw0KICAgICAgICAgICAgX3ZpZGVvLmNsYXNzTmFtZSA9ICcnOw0KICAgICAgICB9DQogICAgICAgIGlmIChfc2V0dGluZ3MucG9zdGVyKSB7DQogICAgICAgICAgICBfdmlkZW8uc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiByZXN0YXJ0VmlkZW8oKSB7DQogICAgICAgIF92aWRlby5jdXJyZW50VGltZSA9IF9zZXR0aW5ncy5zdGFydFRpbWU7DQogICAgICAgIHBsYXlWaWRlbygpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBzZXRSZWFkeVN0YXRlKCkgew0KICAgICAgICBpZiAoX3ZpZGVvLnJlYWR5U3RhdGUgPiByZWFkeVN0YXRlKSB7DQogICAgICAgICAgICByZWFkeVN0YXRlID0gX3ZpZGVvLnJlYWR5U3RhdGU7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gcGxheVZpZGVvKGZvcmNlUGxheSkgew0KICAgICAgICAvKg0KICAgICAgICAgKiBDaGVjayBpZiB0aGUgdmlkZW8gaXMgcGxheWFibGUsIG90aGVyd2lzZSBhZGQgaXQgdG8gdGhlIGV2ZW50UXVldWUgd2hpY2gNCiAgICAgICAgICogdHJpZ2dlcnMgcGxheSBvbiBjYW5QbGF5VGhyb3VnaCB3aGljaCBpcyB3aGVuIHZpZGVvIGlzIHBsYXlhYmxlDQogICAgICAgICAqLw0KICAgICAgICBzZXRSZWFkeVN0YXRlKCk7DQogICAgICAgIGlmICghVGltZWxpbmUuaXNQbGF5aW5nICYmICFmb3JjZVBsYXkpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmIChfc2V0dGluZ3MuYXV0b3BsYXkgfHwgaGFzUGxheWVkKSB7DQogICAgICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0sIDE1MCk7DQogICAgICAgIGNvbnN0IHNob3VsZFBsYXkgPSAocmVhZHlTdGF0ZSA+PSAzICYmIF9zZXR0aW5ncy5hdXRvcGxheSkgfHwgaGFzUGxheWVkIHx8IGZvcmNlUGxheTsNCiAgICAgICAgaWYgKHNob3VsZFBsYXkpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgcGxheVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBfdmlkZW8ucGxheSgpLmNhdGNoKChlKSA9PiB7IH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgcGxheVByb21pc2UgPSB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgICAgICBfdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXlUaHJvdWdoKTsNCiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlQcm9taXNlID0gX3ZpZGVvLnBhdXNlKCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcGxheVByb21pc2UgPSBfdmlkZW8ucGxheSgpLmNhdGNoKChlKSA9PiB7IH0pOw0KICAgICAgICAgICAgICAgICAgICBfdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXlUaHJvdWdoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmlkZW9UcmFja2luZy5zdGFydGVkKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIC8vIEluIGNhc2UgcHJvbWlzZXMgYXJlIG5vdCBzdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICBfdmlkZW8ucGxheSgpLmNhdGNoKCgpID0+IHsgfSk7DQogICAgICAgICAgICAgICAgX3ZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5VGhyb3VnaCk7DQogICAgICAgICAgICAgICAgdmlkZW9UcmFja2luZy5zdGFydGVkKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBoYXNQbGF5ZWQgPSB0cnVlOw0KICAgICAgICAgICAgaWYgKGRldmljZUluZm8uaXNNb2JpbGUgJiYgIWRldmljZUluZm8uY2FuUGxheUlubGluZSkgew0KICAgICAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgICAgICBfdmlkZW8uc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIF92aWRlby5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChfc2V0dGluZ3MuY29udHJvbHMgJiYgIV9zZXR0aW5ncy5hdXRvcGxheSkgew0KICAgICAgICAgICAgICAgIHBsYXlQYXVzZU92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgZXZlbnRRdWV1ZS5wdXNoKCdwbGF5Jyk7DQogICAgICAgICAgICBpZiAodmlkZW9UcmFja2luZykgew0KICAgICAgICAgICAgICAgIHZpZGVvVHJhY2tpbmcuc3RhcnRlZCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIHNlZWtUbyhzKSB7DQogICAgICAgIHNldFJlYWR5U3RhdGUoKTsNCiAgICAgICAgX3ZpZGVvLmN1cnJlbnRUaW1lID0gczsNCiAgICB9DQogICAgZnVuY3Rpb24gcGF1c2VWaWRlbygpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIHNldFJlYWR5U3RhdGUoKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgeWllbGQgcGxheVByb21pc2U7DQogICAgICAgICAgICAgICAgX3ZpZGVvLnBhdXNlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBmdW5jdGlvbiBzdG9wVmlkZW8oKSB7DQogICAgICAgIHBhdXNlVmlkZW8oKTsNCiAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIHNldFZvbHVtZSh2b2x1bWUpIHsNCiAgICAgICAgX3ZpZGVvLnZvbHVtZSA9IGRldmljZUluZm8uaXNNb2JpbGUgPyAwIDogdG9GcmFjdGlvbnModm9sdW1lKTsNCiAgICB9DQogICAgZnVuY3Rpb24gdG9nZ2xlTXV0ZShtdXRlKSB7DQogICAgICAgIGlmICghZGV2aWNlSW5mby5pc01vYmlsZSkgew0KICAgICAgICAgICAgX3ZpZGVvLm11dGVkID0gKHR5cGVvZiBtdXRlID09PSAnYm9vbGVhbicpID8gbXV0ZSA6ICFfdmlkZW8ubXV0ZWQ7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gbG9hZFZpZGVvKHVybCkgew0KICAgICAgICB1cmwgPSBnZXRQcm9wZXJVcmwodXJsKTsNCiAgICAgICAgaWYgKCF1cmwpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB1cmwgPSBnZXRBZGp1c3RlZFVybCh1cmwpOw0KICAgICAgICBjb25zdCB1ID0gZ2V0VXJsTWV0YSh1cmwpOw0KICAgICAgICBjb25zdCB2aWRlb1R5cGUgPSBnZXRWaWRlb1R5cGVBbmRVcGRhdGVTb3VyY2VVcmwodSk7DQogICAgICAgIGNvbnN0IHVybFNyYyA9IHUuc291cmNlVXJsOw0KICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHUucGFyYW1zOw0KICAgICAgICAvLyBVcGRhdGUgc291cmNlcw0KICAgICAgICBmb3IgKGxldCB2dCBpbiB2aWRlb1R5cGUpIHsNCiAgICAgICAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKVt2dF07DQogICAgICAgICAgICBzLnNyYyA9IHVybFNyYyArICcuJyArIHZpZGVvVHlwZVt2dF0uZXh0ZW5zaW9uICsgcXVlcnlQYXJhbXM7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGN1cnJlbnRWb2x1bWUgPSBfdmlkZW8udm9sdW1lOw0KICAgICAgICBfdmlkZW8ubG9hZCgpOw0KICAgICAgICBpZiAoX3NldHRpbmdzLmF1dG9wbGF5KSB7DQogICAgICAgICAgICBwbGF5VmlkZW8oKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHBhdXNlVmlkZW8oKTsNCiAgICAgICAgfQ0KICAgICAgICBzZXRWaWRlb1NldHRpbmdzKHsgdXJsOiB1cmwgfSk7DQogICAgICAgIHNldFZvbHVtZShjdXJyZW50Vm9sdW1lKTsNCiAgICB9DQogICAgZnVuY3Rpb24gdG9nZ2xlUGxheVBhdXNlQnV0dG9uKCkgew0KICAgICAgICBpZiAoX3ZpZGVvLnBhdXNlZCkgew0KICAgICAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBhdXNlJyk7DQogICAgICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Nob3ctcGxheScpOw0KICAgICAgICAgICAgcGxheWJhY2suY2xhc3NOYW1lID0gJ2lzUGF1c2VkJzsNCiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdpc1BhdXNlZCc7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctcGxheScpOw0KICAgICAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdzaG93LXBhdXNlJyk7DQogICAgICAgICAgICBwbGF5YmFjay5jbGFzc05hbWUgPSAnaXNQbGF5aW5nJzsNCiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdpc1BsYXlpbmcnOw0KICAgICAgICB9DQogICAgICAgIGlmIChfdmlkZW8ucGF1c2VkIHx8IF92aWRlby5lbmRlZCkgew0KICAgICAgICAgICAgcGxheWJhY2suY2xhc3NOYW1lID0gJ2lzUGF1c2VkJzsNCiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdpc1BhdXNlZCc7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBwbGF5YmFjay5jbGFzc05hbWUgPSAnaXNQbGF5aW5nJzsNCiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdpc1BsYXlpbmcnOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldFVybE1ldGEodXJsKSB7DQogICAgICAgIGNvbnN0IG8gPSB7fTsNCiAgICAgICAgaWYgKHVybCAmJiB1cmwubGVuZ3RoKSB7DQogICAgICAgICAgICBvLnVybCA9IHVybC5zcGxpdCgnPycpWzBdOw0KICAgICAgICAgICAgby5zb3VyY2VVcmwgPSB1cmwuc3BsaXQoJz8nKVswXS5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCIuIikpOw0KICAgICAgICAgICAgby5wYXJhbXMgPSB1cmwuaW5kZXhPZignPycpICE9IC0xID8gJz8nICsgdXJsLnNwbGl0KCc/JylbMV0gOiAnJzsNCiAgICAgICAgICAgIG8uZXh0ID0gdXJsLnNwbGl0KCc/JylbMF0uc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZigiLiIpICsgMSkgfHwgJyc7DQogICAgICAgICAgICBvLmZpbGVuYW1lID0gdXJsLm1hdGNoKC8oW14vXSskKS8sICcnKVswXS5zcGxpdCgnPycpWzBdOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvOw0KICAgIH0NCiAgICAvKg0KICAgICoqIEV2ZW50IGhhbmRsZXJzDQogICAgKi8NCiAgICBmdW5jdGlvbiBvbk1ldGFMb2FkZWQoKSB7DQogICAgICAgIGVsQnlJZCgnaW5zdHJ1Y3Rpb25zJykuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgICAgICBzZXRSZWFkeVN0YXRlKCk7DQogICAgICAgIF9zZXR0aW5ncy5zdGFydFRpbWUgPSBfc2V0dGluZ3Muc3RhcnRUaW1lIDw9IF92aWRlby5kdXJhdGlvbiA/IF9zZXR0aW5ncy5zdGFydFRpbWUgOiAwOw0KICAgICAgICBzZXRWaWRlb1NldHRpbmdzKF9zZXR0aW5ncyk7DQogICAgICAgIHRpbWVVcGRhdGUoKTsNCiAgICAgICAgb25Wb2x1bWVDaGFuZ2UoKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25DYW5QbGF5VGhyb3VnaCgpIHsNCiAgICAgICAgZWxCeUlkKCdpbnN0cnVjdGlvbnMnKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgICAgIHNldFJlYWR5U3RhdGUoKTsNCiAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRRdWV1ZSkgew0KICAgICAgICAgICAgc3dpdGNoIChldmVudCkgew0KICAgICAgICAgICAgICAgIGNhc2UgJ3BsYXknOg0KICAgICAgICAgICAgICAgICAgICBwbGF5VmlkZW8oKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSAncGF1c2UnOg0KICAgICAgICAgICAgICAgICAgICBwYXVzZVZpZGVvKCk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaGFzUGxheWVkID0gdHJ1ZTsNCiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ3BsYXknICYmIGRldmljZUluZm8uY2FuUGxheUlubGluZSkgew0KICAgICAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIF92aWRlby5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBldmVudFF1ZXVlID0gW107DQogICAgICAgIHRvZ2dsZVBsYXlQYXVzZUJ1dHRvbigpOw0KICAgICAgICBpZiAocmVhZHlTdGF0ZSA+PSAzIHx8ICFfdmlkZW8ucGF1c2VkKSB7DQogICAgICAgICAgICBfdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIG9uQ2FuUGxheVRocm91Z2gpOw0KICAgICAgICB9DQogICAgICAgIGlmIChXaWRnZXQucHJvcGVydGllcy5yb3VuZENvcm5lcnMpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ib3JkZXItcicsIGAke1dpZGdldC5wcm9wZXJ0aWVzLnJvdW5kQ29ybmVyc31weGApOw0KICAgICAgICB9DQogICAgICAgIHByb21pc2VSZXNvbHZlcigpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvblRpbWVVcGRhdGVkKCkgew0KICAgICAgICBpZiAoIV92aWRlbykgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmICghdGltZUJhci5zdHlsZS53aWR0aCkgew0KICAgICAgICAgICAgdGltZUJhci5zdHlsZS53aWR0aCA9IF92aWRlby5kdXJhdGlvbiArICclJzsNCiAgICAgICAgfQ0KICAgICAgICB0aW1lQmFyLnN0eWxlLndpZHRoID0gTWF0aC5yb3VuZCgoX3ZpZGVvLmN1cnJlbnRUaW1lIC8gX3ZpZGVvLmR1cmF0aW9uKSAqIDEwMCkgKyAnJSc7DQogICAgICAgIGlmICh2aWRlb0R1cmF0aW9uLmlubmVySFRNTC5zcGxpdCgnLycpWzBdLnRyaW0oKSAhPT0gZm9ybWF0VGltZShfdmlkZW8uY3VycmVudFRpbWUpKSB7DQogICAgICAgICAgICB2aWRlb0R1cmF0aW9uLmlubmVySFRNTCA9IGZvcm1hdFRpbWUoX3ZpZGVvLmN1cnJlbnRUaW1lKSArICcgLyAnICsgZm9ybWF0VGltZShfdmlkZW8uZHVyYXRpb24pOw0KICAgICAgICB9DQogICAgICAgIGlmIChfdmlkZW8uY3VycmVudFRpbWUgPj0gdG90YWxQbGF5dGltZSAqIDAuOTUgLSAxICYmIF92aWRlby5jdXJyZW50VGltZSA8PSB0b3RhbFBsYXl0aW1lICogMC45NSArIDEgJiYgVGltZWxpbmUuY3VycmVudFRpbWUgPj0gV2lkZ2V0LnRpbWUpIHsNCiAgICAgICAgICAgIHZpZGVvVHJhY2tpbmcuY29tcGxldGVkKCk7DQogICAgICAgIH0NCiAgICAgICAgLy8gQ2hlY2sgaWYgcmVhY2hlZCB0aGlyZCBxdWFydGlsZSAoNzUlKQ0KICAgICAgICBlbHNlIGlmIChfdmlkZW8uY3VycmVudFRpbWUgPj0gdG90YWxQbGF5dGltZSAqIDAuNzUgLSAxICYmIF92aWRlby5jdXJyZW50VGltZSA8PSB0b3RhbFBsYXl0aW1lICogMC43NSArIDEgJiYgVGltZWxpbmUuY3VycmVudFRpbWUgPj0gV2lkZ2V0LnRpbWUpIHsNCiAgICAgICAgICAgIHZpZGVvVHJhY2tpbmcudHEoKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyBDaGVjayBpZiByZWFjaGVkIG1pZHBvaW50ICg1MCUpDQogICAgICAgIGVsc2UgaWYgKF92aWRlby5jdXJyZW50VGltZSA+PSB0b3RhbFBsYXl0aW1lICogMC41MCAtIDEgJiYgX3ZpZGVvLmN1cnJlbnRUaW1lIDw9IHRvdGFsUGxheXRpbWUgKiAwLjUwICsgMSAmJiBUaW1lbGluZS5jdXJyZW50VGltZSA+PSBXaWRnZXQudGltZSkgew0KICAgICAgICAgICAgdmlkZW9UcmFja2luZy5tcCgpOw0KICAgICAgICB9DQogICAgICAgIC8vIENoZWNrIGlmIHJlYWNoZWQgZmlyc3QgcXVhcnRpbGUgKDI1JSkNCiAgICAgICAgZWxzZSBpZiAoX3ZpZGVvLmN1cnJlbnRUaW1lID49IHRvdGFsUGxheXRpbWUgKiAwLjI1IC0gMSAmJiBfdmlkZW8uY3VycmVudFRpbWUgPD0gdG90YWxQbGF5dGltZSAqIDAuMjUgKyAxICYmIFRpbWVsaW5lLmN1cnJlbnRUaW1lID49IFdpZGdldC50aW1lKSB7DQogICAgICAgICAgICB2aWRlb1RyYWNraW5nLmZxKCk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKF92aWRlby5jdXJyZW50VGltZSA+PSAoKF9zZXR0aW5ncy5lbmRUaW1lICYmIF9zZXR0aW5ncy5lbmRUaW1lIDwgX3ZpZGVvLmR1cmF0aW9uKSA/IF9zZXR0aW5ncy5lbmRUaW1lIDogX3ZpZGVvLmR1cmF0aW9uKSAmJiBUaW1lbGluZS5jdXJyZW50VGltZSA+PSBXaWRnZXQudGltZSkgew0KICAgICAgICAgICAgb25WaWRlb0VuZGVkKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gb25WaWRlb0VuZGVkKCkgew0KICAgICAgICBpZiAoIV9zZXR0aW5ncy5sb29wKSB7DQogICAgICAgICAgICBwYXVzZVZpZGVvKCk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICByZXN0YXJ0VmlkZW8oKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBvblZpZGVvUGxheSgpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ29udmlkZW9wbGF5Jyk7DQogICAgICAgIHZpZGVvVHJhY2tpbmcuc3RhcnRlZCgpOw0KICAgICAgICB0b2dnbGVQbGF5UGF1c2VCdXR0b24oKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25WaWRlb1BhdXNlKCkgew0KICAgICAgICB0b2dnbGVQbGF5UGF1c2VCdXR0b24oKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25Wb2x1bWVDaGFuZ2UoKSB7DQogICAgICAgIGxldCBjbGFzc05hbWUgPSAndW5tdXRlZCc7IC8vIGRlZmF1bHQgdmFsdWUNCiAgICAgICAgdm9sdW1lQ29udHJvbFZhbHVlLnN0eWxlLndpZHRoID0gIV92aWRlby5tdXRlZCA/IF92aWRlby52b2x1bWUgKiAxMDAgKyAnJScgOiAnMCc7DQogICAgICAgIC8vIGNoYW5nZSBjbGFzc05hbWUgdG8gbXV0ZWQNCiAgICAgICAgaWYgKF92aWRlby52b2x1bWUgPT09IDAgfHwgX3ZpZGVvLm11dGVkKSB7DQogICAgICAgICAgICBjbGFzc05hbWUgPSAnbXV0ZWQnOw0KICAgICAgICB9DQogICAgICAgIFt2b2x1bWVDb250cm9sVG9nZ2xlLCB2b2x1bWVUb2dnbGVCdXR0b25dLmZvckVhY2goZWwgPT4gZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25DbGljayhldmVudCkgew0KICAgICAgICBjb25zdCBjbGlja09uUGxheVBhdXNlQnV0dG9uID0gZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0Ow0KICAgICAgICBpZiAoIV9zZXR0aW5ncy5jb250cm9scyAmJiAhX3NldHRpbmdzLmF1dG9wbGF5ICYmIGNsaWNrT25QbGF5UGF1c2VCdXR0b24pIHsNCiAgICAgICAgICAgIGlmIChfdmlkZW8ucGF1c2VkKSB7DQogICAgICAgICAgICAgICAgdG9nZ2xlTXV0ZShmYWxzZSk7DQogICAgICAgICAgICAgICAgcGxheVZpZGVvKHRydWUpOw0KICAgICAgICAgICAgICAgIHVzZXJJbml0aWF0ZWRQYXVzZSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcGF1c2VWaWRlbygpOw0KICAgICAgICAgICAgICAgIHVzZXJJbml0aWF0ZWRQYXVzZSA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBDcmVhdGl2ZS5vcGVuKGV2ZW50LCB1bmRlZmluZWQpOw0KICAgICAgICB9DQogICAgfQ0KICAgIC8qDQogICAgKiogVmlkZW8gY29udHJvbHMNCiAgICAqLw0KICAgIGxldCB2b2x1bWVEcmFnID0gZmFsc2U7DQogICAgbGV0IHRpbWVEcmFnID0gZmFsc2U7DQogICAgZnVuY3Rpb24gb25Ub2dnbGVQbGF5UGF1c2UoKSB7DQogICAgICAgIGlmIChfdmlkZW8ucGF1c2VkIHx8IF92aWRlby5lbmRlZCkgew0KICAgICAgICAgICAgcGxheVZpZGVvKCk7DQogICAgICAgICAgICB1c2VySW5pdGlhdGVkUGF1c2UgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHBhdXNlVmlkZW8oKTsNCiAgICAgICAgICAgIHVzZXJJbml0aWF0ZWRQYXVzZSA9IHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gb25Wb2x1bWVEcmFnKGUpIHsNCiAgICAgICAgaWYgKGUuYnV0dG9uICE9IDApDQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIHZvbHVtZURyYWcgPSB0cnVlOw0KICAgICAgICB1cGRhdGVWb2x1bWUoZS5wYWdlWCk7DQogICAgfQ0KICAgIDsNCiAgICBmdW5jdGlvbiB1cGRhdGVWb2x1bWUoeCkgew0KICAgICAgICBjb25zdCBtYXhWb2x1bWUgPSAxOw0KICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHggLSB2b2x1bWVDb250YWluZXIub2Zmc2V0TGVmdCAtIHZvbHVtZUNvbnRyb2wub2Zmc2V0TGVmdCAtIDI7DQogICAgICAgIC8vIGNsYW1wIHBlcmNlbnRhZ2UgdG8gYSB2YWx1ZSBmcm9tIDAgdG8gMTAwDQogICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAgKiBwb3NpdGlvbiAvIHZvbHVtZUNvbnRyb2wub2Zmc2V0V2lkdGgsIDEwMCkpOw0KICAgICAgICBzZXRWb2x1bWUobWF4Vm9sdW1lICogcGVyY2VudGFnZSAvIDEwMCk7DQogICAgICAgIHZvbHVtZSA9IF92aWRlby52b2x1bWU7DQogICAgICAgIF92aWRlby5tdXRlZCA9IGZhbHNlOw0KICAgICAgICBvblZvbHVtZUNoYW5nZSgpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvblZvbHVtZVRvZ2dsZSgpIHsNCiAgICAgICAgX3ZpZGVvLm11dGVkID0gIV92aWRlby5tdXRlZDsNCiAgICAgICAgb25Wb2x1bWVDaGFuZ2UoKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25UaW1lU2Vla0RyYWcoZSkgew0KICAgICAgICBpZiAoZS5idXR0b24gIT0gMCkNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgdGltZURyYWcgPSB0cnVlOw0KICAgICAgICB1cGRhdGVQcm9ncmVzc2JhcihlLnBhZ2VYKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25Db250cm9sc01vdXNlVXAoZSkgew0KICAgICAgICBpZiAodm9sdW1lRHJhZykgew0KICAgICAgICAgICAgdm9sdW1lRHJhZyA9IGZhbHNlOw0KICAgICAgICAgICAgdXBkYXRlVm9sdW1lKGUucGFnZVgpOw0KICAgICAgICB9DQogICAgICAgIGlmICh0aW1lRHJhZykgew0KICAgICAgICAgICAgdGltZURyYWcgPSBmYWxzZTsNCiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzYmFyKGUucGFnZVgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uQ29udHJvbHNNb3VzZURvd24oZSkgew0KICAgICAgICBpZiAodm9sdW1lRHJhZykgew0KICAgICAgICAgICAgdXBkYXRlVm9sdW1lKGUucGFnZVgpOw0KICAgICAgICB9DQogICAgICAgIGlmICh0aW1lRHJhZykgew0KICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3NiYXIoZS5wYWdlWCk7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3NiYXIoeCkgew0KICAgICAgICBjb25zdCBtYXhkdXJhdGlvbiA9IF92aWRlby5kdXJhdGlvbjsNCiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB4IC0gcHJvZ3Jlc3Mub2Zmc2V0TGVmdDsNCiAgICAgICAgLy8gY2xhbXAgcGVyY2VudGFnZSB0byBhIHZhbHVlIGZyb20gMCB0byAxMDANCiAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCAqIHBvc2l0aW9uIC8gcHJvZ3Jlc3Mub2Zmc2V0V2lkdGgsIDEwMCkpOw0KICAgICAgICB0aW1lQmFyLnN0eWxlLndpZHRoID0gcGVyY2VudGFnZSArICclJzsNCiAgICAgICAgX3ZpZGVvLmN1cnJlbnRUaW1lID0gbWF4ZHVyYXRpb24gKiBwZXJjZW50YWdlIC8gMTAwOw0KICAgIH0NCiAgICBmdW5jdGlvbiBhbHJlYWR5UGxheWVkKCkgew0KICAgICAgICByZXR1cm4gaGFzUGxheWVkOw0KICAgIH0NCiAgICBjb25zdCBkb2MgPSBkb2N1bWVudDsNCiAgICAvLyBGdWxsc2NyZWVuDQogICAgY29uc3QgZnVsbFNjcmVlbkVuYWJsZWQgPSAhIShkb2MuZnVsbHNjcmVlbkVuYWJsZWQNCiAgICAgICAgfHwgZG9jLm1vekZ1bGxTY3JlZW5FbmFibGVkDQogICAgICAgIHx8IGRvYy5tc0Z1bGxzY3JlZW5FbmFibGVkDQogICAgICAgIHx8IGRvYy53ZWJraXRTdXBwb3J0c0Z1bGxzY3JlZW4NCiAgICAgICAgfHwgZG9jLndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkKTsNCiAgICBpZiAoIWZ1bGxTY3JlZW5FbmFibGVkKSB7DQogICAgICAgIGZ1bGxzY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICB9DQogICAgZnVuY3Rpb24gaGFuZGxlRnVsbHNjcmVlbigpIHsNCiAgICAgICAgaWYgKGlzRnVsbFNjcmVlbigpKSB7DQogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZG9jLm1vekNhbmNlbEZ1bGxTY3JlZW4pIHsNCiAgICAgICAgICAgICAgICBkb2MubW96Q2FuY2VsRnVsbFNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZG9jLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHsNCiAgICAgICAgICAgICAgICBkb2Mud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZG9jLm1zRXhpdEZ1bGxzY3JlZW4pIHsNCiAgICAgICAgICAgICAgICBkb2MubXNFeGl0RnVsbHNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEoZmFsc2UpOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgY29uc3QgdmMgPSB2aWRlb0NvbnRhaW5lcjsNCiAgICAgICAgICAgIGlmICh2Yy5yZXF1ZXN0RnVsbHNjcmVlbikgew0KICAgICAgICAgICAgICAgIHZjLnJlcXVlc3RGdWxsc2NyZWVuKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh2Yy5tb3pSZXF1ZXN0RnVsbFNjcmVlbikgew0KICAgICAgICAgICAgICAgIHZjLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh2Yy53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbikgew0KICAgICAgICAgICAgICAgIHZjLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh2Yy5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7DQogICAgICAgICAgICAgICAgdmMubXNSZXF1ZXN0RnVsbHNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEodHJ1ZSk7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gaXNGdWxsU2NyZWVuKCkgew0KICAgICAgICByZXR1cm4gISEoZG9jLmZ1bGxTY3JlZW4gfHwgZG9jLndlYmtpdElzRnVsbFNjcmVlbiB8fCBkb2MubW96RnVsbFNjcmVlbiB8fCBkb2MubXNGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2MuZnVsbHNjcmVlbkVsZW1lbnQpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBzZXRGdWxsc2NyZWVuRGF0YShzdGF0ZSkgew0KICAgICAgICB2aWRlb0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtZnVsbHNjcmVlbicsICcnICsgISFzdGF0ZSk7DQogICAgICAgIHN0YXRlID8gdmlkZW9Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZnVsbHNjcmVlbicpIDogdmlkZW9Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZnVsbHNjcmVlbicpOw0KICAgIH0NCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICBzZXRGdWxsc2NyZWVuRGF0YSghIShkb2MuZnVsbFNjcmVlbiB8fCBkb2MuZnVsbHNjcmVlbkVsZW1lbnQpKTsNCiAgICB9KTsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICBzZXRGdWxsc2NyZWVuRGF0YSghIWRvYy53ZWJraXRJc0Z1bGxTY3JlZW4pOw0KICAgIH0pOw0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgIHNldEZ1bGxzY3JlZW5EYXRhKCEhZG9jLm1vekZ1bGxTY3JlZW4pOw0KICAgIH0pOw0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21zZnVsbHNjcmVlbmNoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEoISFkb2MubXNGdWxsc2NyZWVuRWxlbWVudCk7DQogICAgfSk7DQogICAgLyoNCiAgICAqKiBVdGlscw0KICAgICovDQogICAgZnVuY3Rpb24gZ2V0RGV2aWNlSW5mbygpIHsNCiAgICAgICAgY29uc3QgaXNNb2JpbGUgPSAvQW5kcm9pZHx3ZWJPU3xTYW1zdW5nQnJvd3NlcnxpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7DQogICAgICAgIGNvbnN0IGlzQW5kcm9pZCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYW5kcm9pZCIpID4gLTE7DQogICAgICAgIGNvbnN0IGlzU2Ftc3VuZ0Jyb3dzZXIgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9TYW1zdW5nQnJvd3Nlci9pKSB8fCBmYWxzZTsNCiAgICAgICAgY29uc3QgaXNTYWZhcmkgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOw0KICAgICAgICBjb25zdCBpc0lvcyA9IChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAod2luZG93Lk1TU3RyZWFtKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgbWF0Y2ggPSAobmF2aWdhdG9yLmFwcFZlcnNpb24pLm1hdGNoKC9PUyAoXGQrKV8oXGQrKV8/KFxkKyk/Lyk7DQogICAgICAgICAgICBsZXQgdmVyc2lvbjsNCiAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gdW5kZWZpbmVkICYmIG1hdGNoICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmVyc2lvbiA9IFsNCiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSwNCiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobWF0Y2hbMl0sIDEwKSwNCiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobWF0Y2hbM10gfHwgMCwgMTApDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2ZXJzaW9uLmpvaW4oJy4nKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfSkoKTsNCiAgICAgICAgY29uc3QgY2FuUGxheUlubGluZSA9IChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBjb25zdCB2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTsNCiAgICAgICAgICAgIHYubXV0ZWQgPSB0cnVlOw0KICAgICAgICAgICAgdi5wbGF5KCkuY2F0Y2goKGUpID0+IHsgfSk7DQogICAgICAgICAgICByZXR1cm4gIXYucGF1c2VkIHx8ICgncGxheXNJbmxpbmUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykpOw0KICAgICAgICB9KSgpOw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgaXNNb2JpbGU6IGlzTW9iaWxlLA0KICAgICAgICAgICAgaXNBbmRyb2lkOiBpc0FuZHJvaWQsDQogICAgICAgICAgICBpc1NhbXN1bmdCcm93c2VyOiBpc1NhbXN1bmdCcm93c2VyLA0KICAgICAgICAgICAgaXNTYWZhcmk6IGlzU2FmYXJpLA0KICAgICAgICAgICAgaXNJb3M6IGlzSW9zLA0KICAgICAgICAgICAgY2FuUGxheUlubGluZTogY2FuUGxheUlubGluZQ0KICAgICAgICB9Ow0KICAgIH0NCiAgICBmdW5jdGlvbiBkZXNlcmlhbGl6ZVNldHRpbmdzKHNldHRpbmdzKSB7DQogICAgICAgIGNvbnN0IHMgPSB7fTsNCiAgICAgICAgLy8gVmlkZW8gc2V0dGluZ3MvcHJvcGVydGllcw0KICAgICAgICBzLnVybCA9IHNldHRpbmdzLnVybDsNCiAgICAgICAgcy5hdXRvcGxheSA9IHNldHRpbmdzLmF1dG9wbGF5Ow0KICAgICAgICBzLmxvb3AgPSBzZXR0aW5ncy5sb29wOw0KICAgICAgICBzLmNvbnRyb2xzID0gc2V0dGluZ3MuY29udHJvbHM7DQogICAgICAgIHMudm9sdW1lID0gc2V0dGluZ3Mudm9sdW1lIHx8IDA7DQogICAgICAgIHMuc3RhcnRUaW1lID0gc2V0dGluZ3Muc3RhcnRUaW1lIHx8IDA7DQogICAgICAgIHMuZW5kVGltZSA9IHNldHRpbmdzLmVuZFRpbWU7DQogICAgICAgIHMucGxheWJhY2tSYXRlID0gKHBhcnNlRmxvYXQoc2V0dGluZ3MucGxheWJhY2tSYXRlKSB8fCAxKTsNCiAgICAgICAgcy5wb3N0ZXIgPSBnZXRBZGp1c3RlZFVybChzZXR0aW5ncy5wb3N0ZXIgfHwgJycpOw0KICAgICAgICAvLyBTcGVjaWFsIHNldHRpbmdzDQogICAgICAgIHMucGxheWVyQmFja2dyb3VuZCA9IHNldHRpbmdzLnBsYXllckJhY2tncm91bmQ7DQogICAgICAgIHMuZ3JheVNjYWxlID0gc2V0dGluZ3MuZ3JheVNjYWxlOw0KICAgICAgICBzLmxvb3BXaXRoQmFubmVyID0gc2V0dGluZ3MubG9vcFdpdGhCYW5uZXI7DQogICAgICAgIHMuc3RvcFdpdGhDcmVhdGl2ZSA9IHNldHRpbmdzLnN0b3BXaXRoQ3JlYXRpdmU7DQogICAgICAgIHMuYmFja2dyb3VuZEZpbGwgPSBzZXR0aW5ncy5iYWNrZ3JvdW5kRmlsbDsNCiAgICAgICAgcy5mYWxsYmFja0ltYWdlID0gZ2V0QWRqdXN0ZWRVcmwoc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSB8fCAnJyk7DQogICAgICAgIHMucGxheVBhdXNlQnV0dG9uU2l6ZSA9IHNldHRpbmdzLnBsYXlQYXVzZUJ1dHRvblNpemUgfHwgNDA7DQogICAgICAgIHMudm9sdW1lVG9nZ2xlQnV0dG9uID0gc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uOw0KICAgICAgICBzLnZvbHVtZVRvZ2dsZUJ1dHRvblNpemUgPSBzZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25TaXplOw0KICAgICAgICBzLnZvbHVtZVRvZ2dsZUJ1dHRvbkNvbG9yID0gc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uQ29sb3I7DQogICAgICAgIHMudm9sdW1lVG9nZ2xlQnV0dG9uUG9zaXRpb25Ub3AgPSBzZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25Qb3NpdGlvblRvcCB8fCAwOw0KICAgICAgICBzLnZvbHVtZVRvZ2dsZUJ1dHRvblBvc2l0aW9uTGVmdCA9IHNldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvblBvc2l0aW9uTGVmdCB8fCAwOw0KICAgICAgICByZXR1cm4gczsNCiAgICB9DQogICAgZnVuY3Rpb24gdG9GcmFjdGlvbnMobikgew0KICAgICAgICByZXR1cm4gbiA8IDEgPyBuDQogICAgICAgICAgICA6IG4gPiAxMDAgPyAxDQogICAgICAgICAgICAgICAgOiAhbiA/IDANCiAgICAgICAgICAgICAgICAgICAgOiBuIC8gMTAwOw0KICAgIH0NCiAgICBmdW5jdGlvbiBmb3JtYXRUaW1lKHQpIHsNCiAgICAgICAgcmV0dXJuIHQgPyAodCAtICh0ICU9IDYwKSkgLyA2MCArICg5LjUgPCB0ID8gJzonIDogJzowJykgKyBNYXRoLnJvdW5kKHQpIDogJzA6MDAnOw0KICAgIH0NCiAgICAvKg0KICAgICoqIEV4cG9zZQ0KICAgICovDQogICAgdGhpcy5zZXRWaWRlb1NldHRpbmdzID0gc2V0VmlkZW9TZXR0aW5nczsNCiAgICB0aGlzLmdldFZpZGVvU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfc2V0dGluZ3M7IH07DQogICAgdGhpcy5zZXRGaWxsT3B0aW9uID0gc2V0RmlsbE9wdGlvbjsNCiAgICB0aGlzLnBsYXkgPSBwbGF5VmlkZW87DQogICAgdGhpcy5yZXN0YXJ0ID0gcmVzdGFydFZpZGVvOw0KICAgIHRoaXMucGF1c2UgPSBwYXVzZVZpZGVvOw0KICAgIHRoaXMuc3RvcCA9IHN0b3BWaWRlbzsNCiAgICB0aGlzLmxvYWRWaWRlbyA9IGxvYWRWaWRlbzsNCiAgICB0aGlzLnNldFZvbHVtZSA9IHNldFZvbHVtZTsNCiAgICB0aGlzLnRvZ2dsZU11dGUgPSB0b2dnbGVNdXRlOw0KICAgIHRoaXMuc2Vla1RvID0gc2Vla1RvOw0KICAgIHRoaXMudmlkZW8gPSBfdmlkZW87DQogICAgdGhpcy5wb3N0ZXIgPSBwb3N0ZXI7DQogICAgdGhpcy5oYXNQbGF5ZWQgPSBhbHJlYWR5UGxheWVkOw0KfQ0KZnVuY3Rpb24gVmlkZW9UcmFja2luZyhvcHRpb25zKSB7DQogICAgLyoNCiAgICAqKiAgVGhpcyBtZXRob2QgYnViYmxlcyB1cCBldmVudHMgdG8gdGhlIEJhbm5lci9DdXN0b20gc2NyaXB0DQogICAgKiogIGFuZCBpcyB1c2VkIHRvIHNlbmQgdmlkZW8gdHJhY2tpbmcgZXZlbnRzDQogICAgKi8NCiAgICBsZXQgdXJsID0gb3B0aW9ucy51cmw7DQogICAgbGV0IGZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZTsNCiAgICAvLyBPbmNlIHBlciB2aWV3ID0gT1BWDQogICAgbGV0IGhhc0NvbXBsZXRlZCA9IGZhbHNlOyAvLyBPUFYNCiAgICBsZXQgaXNJbml0ID0gZmFsc2U7IC8vIE9QVg0KICAgIGxldCBzdGFydGVkID0gZmFsc2U7IC8vIE9QVg0KICAgIGxldCByZWFjaGVkRlEgPSBmYWxzZTsgLy8gT1BWDQogICAgbGV0IHJlYWNoZWRNUCA9IGZhbHNlOyAvLyBPUFYNCiAgICBsZXQgcmVhY2hlZFRRID0gZmFsc2U7IC8vIE9QVg0KICAgIC8vIFZpZGVvIGluaXRpYWxpemVkIA0KICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgaWYgKGlzSW5pdCkNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgaXNJbml0ID0gdHJ1ZTsNCiAgICB9Ow0KICAgIC8vIFZpZGVvIHN0YXJ0ZWQgb3IgcGxheWluZyBmcm9tIGJlZ2lubmluZyBhZ2Fpbg0KICAgIHRoaXMuc3RhcnRlZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgaWYgKFRpbWVsaW5lLmN1cnJlbnRUaW1lID49IFdpZGdldC50aW1lKSB7DQogICAgICAgICAgICBpZiAoc3RhcnRlZCkNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICBBZC50cmFja0N1c3RvbVByb2dyZXNzRXZlbnQoeyBuYW1lOiAnVmlkZW8gY29tcGxldGlvbicsIGlkOiB1cmwsIGxhYmVsOiBmaWxlbmFtZSwgdmFsdWU6IDAgfSk7DQogICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy8gVmlkZW8gcmVhY2hlZCB0aGUgRmlyc3QgUXVhcnRpbGUNCiAgICB0aGlzLmZxID0gZnVuY3Rpb24gKCkgew0KICAgICAgICBpZiAocmVhY2hlZEZRIHx8ICFzdGFydGVkKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBBZC50cmFja0N1c3RvbVByb2dyZXNzRXZlbnQoeyBuYW1lOiAnVmlkZW8gY29tcGxldGlvbicsIGlkOiB1cmwsIGxhYmVsOiBmaWxlbmFtZSwgdmFsdWU6IDAuMjUgfSk7DQogICAgICAgIHJlYWNoZWRGUSA9IHRydWU7DQogICAgfTsNCiAgICAvLyBWaWRlbyByZWFjaGVkIHRoZSBNaWRwb2ludA0KICAgIHRoaXMubXAgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIGlmIChyZWFjaGVkTVApDQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIEFkLnRyYWNrQ3VzdG9tUHJvZ3Jlc3NFdmVudCh7IG5hbWU6ICdWaWRlbyBjb21wbGV0aW9uJywgaWQ6IHVybCwgbGFiZWw6IGZpbGVuYW1lLCB2YWx1ZTogMC41IH0pOw0KICAgICAgICByZWFjaGVkTVAgPSB0cnVlOw0KICAgIH07DQogICAgLy8gVmlkZW8gcmVhY2hlZCB0aGUgVGhpcmQgcXVhcnRpbGUNCiAgICB0aGlzLnRxID0gZnVuY3Rpb24gKCkgew0KICAgICAgICBpZiAocmVhY2hlZFRRKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBBZC50cmFja0N1c3RvbVByb2dyZXNzRXZlbnQoeyBuYW1lOiAnVmlkZW8gY29tcGxldGlvbicsIGlkOiB1cmwsIGxhYmVsOiBmaWxlbmFtZSwgdmFsdWU6IDAuNzUgfSk7DQogICAgICAgIHJlYWNoZWRUUSA9IHRydWU7DQogICAgfTsNCiAgICAvLyBWaWRlbyBoYXMgY29tcGxldGVkDQogICAgdGhpcy5jb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIGlmIChoYXNDb21wbGV0ZWQpDQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIEFkLnRyYWNrQ3VzdG9tUHJvZ3Jlc3NFdmVudCh7IG5hbWU6ICdWaWRlbyBjb21wbGV0aW9uJywgaWQ6IHVybCwgbGFiZWw6IGZpbGVuYW1lLCB2YWx1ZTogMSB9KTsNCiAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTsNCiAgICB9Ow0KfQ0KZnVuY3Rpb24gZ2V0QWRqdXN0ZWRVcmwodGV4dCkgew0KICAgIGlmICh0ZXh0KSB7DQogICAgICAgIGxldCB1cmwgPSB0ZXh0DQogICAgICAgICAgICAucmVwbGFjZSgvdmlkZW8uYmFubmVyZmxvdy5jb20vZywgJ2MuYmFubmVyZmxvdy5uZXQvYmYtdmlkZW9zJykNCiAgICAgICAgICAgIC5yZXBsYWNlKC8oXHJcbnxcbnxccnxccykvZ20sICcnKTsNCiAgICAgICAgaWYgKEFkLmN1c3RvbURvbWFpbikgew0KICAgICAgICAgICAgLy8gUmVtb3ZlIGh0dHB8cyByZXBsYWNlbWVudCB3aGVuIEFkLmN1c3RvbURvbWFpbiBvbmx5IGdpdmVzIHRoZSBkb21haW4NCiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdjLmJhbm5lcmZsb3cubmV0JywgQWQuY3VzdG9tRG9tYWluLnJlcGxhY2UoLyhodHRwfGh0dHBzKTpcL1wvLywgJycpKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdXJsOw0KICAgIH0NCn0NCmZ1bmN0aW9uIHRvUmVsYXRpdmVUaW1lKHRpbWUpIHsNCiAgICBpZiAodHlwZW9mIHRpbWUgPT09ICdzdHJpbmcnKSB7DQogICAgICAgIHRpbWUgPSBOdW1iZXIodGltZSk7DQogICAgfQ0KICAgIGlmIChpc05hTih0aW1lKSB8fCB0eXBlb2YgdGltZSAhPT0gJ251bWJlcicpIHsNCiAgICAgICAgdGltZSA9IDA7DQogICAgfQ0KICAgIHJldHVybiBNYXRoLmFicyh2aWRlb1NldHRpbmdzLnN0YXJ0VGltZSArIHRpbWUgLSBXaWRnZXQudGltZSk7DQp9DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50LlNlZWssIHRpbWUgPT4gew0KICAgIGlmICh2aWRlbykgew0KICAgICAgICB2aWRlby5zZWVrVG8odG9SZWxhdGl2ZVRpbWUodGltZSkpOw0KICAgIH0NCn0pOw0KVGltZWxpbmUub24oVGltZWxpbmVFdmVudC5QbGF5LCB0aW1lID0+IHsNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgaWYgKHZpZGVvKSB7DQogICAgICAgICAgICBpZiAodmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLmF1dG9wbGF5KSB7DQogICAgICAgICAgICAgICAgdmlkZW8ucG9zdGVyLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5IiwgIm5vbmUiLCAiaW1wb3J0YW50Iik7DQogICAgICAgICAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnICYmICh0aW1lID49IFdpZGdldC50aW1lICYmIHRpbWUgPCBXaWRnZXQuZHVyYXRpb24pKSB7DQogICAgICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnY3JlYXRpdmUnIHx8ICFDcmVhdGl2ZS5lbnZpcm9ubWVudCkgJiYgIXVzZXJJbml0aWF0ZWRQYXVzZSAmJiB2aWRlby5nZXRWaWRlb1NldHRpbmdzKCkuYXV0b3BsYXkgJiYgKHRpbWUgPj0gV2lkZ2V0LnRpbWUgJiYgdGltZSA8IFdpZGdldC5kdXJhdGlvbikpIHsNCiAgICAgICAgICAgICAgICBpZiAodmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLmF1dG9wbGF5KSB7DQogICAgICAgICAgICAgICAgICAgIHZpZGVvLnBvc3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsICJub25lIiwgImltcG9ydGFudCIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LCAwKTsNCn0pOw0KVGltZWxpbmUub24oVGltZWxpbmVFdmVudC5QYXVzZSwgdGltZSA9PiB7DQogICAgaWYgKHZpZGVvKSB7DQogICAgICAgIHZpZGVvLnBhdXNlKCk7DQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2Rlc2lnbi12aWV3Jykgew0KICAgICAgICAgICAgdmlkZW8udG9nZ2xlTXV0ZSh0cnVlKTsNCiAgICAgICAgICAgIHVzZXJJbml0aWF0ZWRQYXVzZSA9IGZhbHNlOw0KICAgICAgICAgICAgdmlkZW8uc2Vla1RvKE1hdGguYWJzKHRpbWUgLSBXaWRnZXQudGltZSkpOw0KICAgICAgICB9DQogICAgfQ0KfSk7DQpXaWRnZXQub24oV2lkZ2V0RXZlbnQuUmVzaXplLCAoKSA9PiB7DQogICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnKSB7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgaWYgKHZpZGVvICYmIHZpZGVvU2V0dGluZ3MudXJsKSB7DQogICAgICAgICAgICAgICAgdmlkZW8uc2V0RmlsbE9wdGlvbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LCAwKTsNCiAgICB9DQp9KTsNCldpZGdldC5vbihXaWRnZXRFdmVudC5Qcm9wZXJ0eUNoYW5nZWQsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICBpZiAoIVdpZGdldC5wcm9wZXJ0aWVzLnNob3dQbGF5UGF1c2UpIHsNCiAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdvbkhvdmVyJyk7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ29uSG92ZXInKTsNCiAgICB9DQogICAgZmVlZEl0ZXJhdGlvbkluZGV4ID0gTWF0aC5tYXgoMCwgV2lkZ2V0LnByb3BlcnRpZXMuZmVlZEluZGV4IC0gMSk7DQogICAgY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMSc7DQogICAgaWYgKFdpZGdldC5wcm9wZXJ0aWVzLnJvdW5kQ29ybmVycykgew0KICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYm9yZGVyLXInLCBgJHtXaWRnZXQucHJvcGVydGllcy5yb3VuZENvcm5lcnN9cHhgKTsNCiAgICB9DQogICAgeWllbGQgc2V0U2V0dGluZ3MoKTsNCiAgICBsZXQgdXJsOw0KICAgIGlmIChXaWRnZXQucHJvcGVydGllcy51c2VGZWVkICYmIGZlZWRVcmwpIHsNCiAgICAgICAgdXJsID0gZmVlZFVybDsNCiAgICB9DQogICAgZWxzZSBpZiAoV2lkZ2V0LnByb3BlcnRpZXMudXJsKSB7DQogICAgICAgIHVybCA9IFdpZGdldC5wcm9wZXJ0aWVzLnVybDsNCiAgICB9DQogICAgaWYgKCF1cmwpIHsNCiAgICAgICAgaW5zdHJ1Y3Rpb25zLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgICAgaW5zdHJ1Y3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsNCiAgICB9DQogICAgaWYgKCF2aWRlbykgew0KICAgICAgICBjcmVhdGVWaWRlbygpOw0KICAgIH0NCiAgICBpZiAodmlkZW8gJiYgdXJsICE9PSB2aWRlby5nZXRWaWRlb1NldHRpbmdzKCkudXJsKSB7DQogICAgICAgIHZpZGVvLmxvYWRWaWRlbyhzdHJpcCh1cmwpKTsNCiAgICB9DQogICAgaWYgKHZpZGVvICYmIHZpZGVvU2V0dGluZ3MudXJsKSB7DQogICAgICAgIHZpZGVvLnNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncyk7DQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2Rlc2lnbi12aWV3Jykgew0KICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCn0pKTsNCldpZGdldC5vbihXaWRnZXRFdmVudC5BbmltYXRpb25TdGFydCwgKCkgPT4gew0KICAgIGlmICh2aWRlbyAmJiAhaGFzU3RvcHBlZCkgew0KICAgICAgICBpZiAodmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLmF1dG9wbGF5KSB7DQogICAgICAgICAgICBpZiAoZmlyc3RQbGF5VGhyb3VnaCAmJiBUaW1lbGluZS5pc1BsYXlpbmcpIHsNCiAgICAgICAgICAgICAgICBpZiAoV2lkZ2V0LnByb3BlcnRpZXMubG9vcFdpdGhCYW5uZXIgfHwgZmlyc3RQbGF5VGhyb3VnaCkgew0KICAgICAgICAgICAgICAgICAgICB2aWRlby5zZWVrVG8oV2lkZ2V0LnByb3BlcnRpZXMuc3RhcnRUaW1lKTsNCiAgICAgICAgICAgICAgICAgICAgZmlyc3RQbGF5VGhyb3VnaCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7DQogICAgICAgICAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnKSB7DQogICAgICAgICAgICAgICAgICAgIGZpcnN0UGxheVRocm91Z2ggPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKHZpZGVvLmdldFZpZGVvU2V0dGluZ3MoKS5sb29wV2l0aEJhbm5lciAmJiAhdXNlckluaXRpYXRlZFBhdXNlKSB7DQogICAgICAgICAgICBpZiAoVGltZWxpbmUuaXNQbGF5aW5nICYmIHZpZGVvLmhhc1BsYXllZCgpKSB7DQogICAgICAgICAgICAgICAgdmlkZW8uc2Vla1RvKFdpZGdldC5wcm9wZXJ0aWVzLnN0YXJ0VGltZSk7DQogICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2ltYWdlJykgew0KICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAodmlkZW8gJiYgIXZpZGVvLmdldFZpZGVvU2V0dGluZ3MoKS5hdXRvcGxheSkgew0KICAgICAgICBpZiAoVGltZWxpbmUuZHVyYXRpb24gIT09IFdpZGdldC5kdXJhdGlvbikgew0KICAgICAgICAgICAgdmlkZW8udG9nZ2xlTXV0ZShtdXRlZFN0YXRlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0pOw0KV2lkZ2V0Lm9uKFdpZGdldEV2ZW50LkFuaW1hdGlvbkVuZCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgIGlmIChUaW1lbGluZS5kdXJhdGlvbiAhPT0gV2lkZ2V0LmR1cmF0aW9uKSB7DQogICAgICAgIG11dGVkU3RhdGUgPSB2aWRlby52aWRlby5tdXRlZDsNCiAgICAgICAgdmlkZW8udG9nZ2xlTXV0ZSh0cnVlKTsNCiAgICB9DQogICAgaWYgKCFXaWRnZXQucHJvcGVydGllcy5zdGF0aWNJbmRleCAmJiBXaWRnZXQucHJvcGVydGllcy51c2VGZWVkKSB7DQogICAgICAgIGlmIChmZWVkICYmIGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4ICsgMV0gJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXggKyAxXVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdKSB7DQogICAgICAgICAgICBmZWVkSXRlcmF0aW9uSW5kZXgrKzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGZlZWRJdGVyYXRpb25JbmRleCA9IDA7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGZlZWQgJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXhdICYmIGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdKSB7DQogICAgICAgICAgICB5aWVsZCBzZXRTZXR0aW5ncygpOw0KICAgICAgICAgICAgZmVlZFVybCA9IGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdLnZhbHVlOw0KICAgICAgICAgICAgdmlkZW8ubG9hZFZpZGVvKHN0cmlwKGZlZWRVcmwpKTsNCiAgICAgICAgICAgIHZpZGVvLnNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncyk7DQogICAgICAgIH0NCiAgICB9DQp9KSk7DQpXaWRnZXQub24oV2lkZ2V0RXZlbnQuU2hvd1ByZWxvYWRJbWFnZSwgKCkgPT4gew0KICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICBpZiAoV2lkZ2V0LnByb3BlcnRpZXMuZmFsbGJhY2tJbWFnZSkgew0KICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgICAgIHZpZGVvLnBvc3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsICJibG9jayIsICJpbXBvcnRhbnQiKTsNCiAgICAgICAgICAgIHZpZGVvLnBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyB2aWRlby5nZXRWaWRlb1NldHRpbmdzKCkuZmFsbGJhY2tJbWFnZSArICcpJzsNCiAgICAgICAgfQ0KICAgIH0sIDApOw0KfSk7DQpXaWRnZXQucHJvcGVydGllcy5keW5hbWljQ29udGVudC5jaGFuZ2UoKGZlZWREYXRhKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7DQogICAgZmVlZEl0ZXJhdGlvbkluZGV4ID0gTWF0aC5tYXgoMCwgV2lkZ2V0LnByb3BlcnRpZXMuZmVlZEluZGV4IC0gMSk7DQogICAgZmVlZCA9IGZlZWREYXRhLmRhdGE7DQogICAgaWYgKGZlZWQgJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXhdICYmIGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdKSB7DQogICAgICAgIHlpZWxkIHNldFNldHRpbmdzKCk7DQogICAgICAgIGZlZWRVcmwgPSBmZWVkW2ZlZWRJdGVyYXRpb25JbmRleF1bV2lkZ2V0LnByb3BlcnRpZXMuZmVlZEZpZWxkXS52YWx1ZTsNCiAgICAgICAgdmlkZW8ubG9hZFZpZGVvKHN0cmlwKGZlZWRVcmwpKTsNCiAgICAgICAgdmlkZW8uc2V0VmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzKTsNCiAgICB9DQp9KSk7DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50Lkxvb3AsICgpID0+IHsNCiAgICBpZiAoaGFzU3RvcHBlZCkgew0KICAgICAgICB2aWRlby5wYXVzZSgpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KfSk7DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50LlN0b3AsICgpID0+IHsNCiAgICBpZiAodmlkZW8gJiYgdmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLnN0b3BXaXRoQ3JlYXRpdmUpIHsNCiAgICAgICAgdmlkZW8uc3RvcCgpOw0KICAgICAgICBoYXNTdG9wcGVkID0gdHJ1ZTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdjcmVhdGl2ZScpIHsNCiAgICAgICAgdmlkZW8ucGxheSgpOw0KICAgIH0NCn0pOw0K",customProperties:[{label:"Url",name:"url",unit:"text",value:"{\"text\":\"https://productsup.melia.com/production/WhatIf-Generico-1920x540.mp4\",\"styles\":[{\"type\":\"word\",\"length\":68,\"position\":0,\"styleIds\":[]}]}",versionPropertyId:"14d08281-2304-4d9f-8978-902f1f268e80"},{label:"Use feed",name:"useFeed",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Feed",name:"dynamicContent",unit:"feed",value:"{\"id\":\"\",\"path\":\"\",\"step\":{\"start\":1,\"size\":1,\"occurrence\":\"loop\"},\"fallback\":\"\",\"styles\":[]}",versionPropertyId:"ff41ff35-872a-4ae0-9c8b-4bda4f23a7f0"},{label:"Feed field",name:"feedField",unit:"text",value:"{\"text\":\"\",\"styles\":[]}",versionPropertyId:"dd6936e3-1b56-4deb-b11c-49ee09a65835"},{label:"Feed index",name:"feedIndex",unit:"number",value:1,versionPropertyId:undefined},{label:"Static index",name:"staticIndex",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Autoplay",name:"autoplay",unit:"boolean",value:"true",versionPropertyId:undefined},{label:"Controls",name:"controls",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Show play/pause when playing",name:"showPlayPause",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Loop",name:"loop",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Loop with creative",name:"loopWithBanner",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Volume toggle button",name:"volumeToggleButton",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Volume",name:"volume",unit:"number",value:0,versionPropertyId:undefined},{label:"Volume button color",name:"volumeToggleButtonColor",unit:"color",value:"rgba(255,255,255,1)",versionPropertyId:undefined},{label:"Volume button size",name:"volumeToggleButtonSize",unit:"number",value:0,versionPropertyId:undefined},{label:"Volume button left",name:"volumeToggleButtonPositionLeft",unit:"number",value:5,versionPropertyId:undefined},{label:"Volume button top",name:"volumeToggleButtonPositionTop",unit:"number",value:5,versionPropertyId:undefined},{label:"Play/Pause button size",name:"playPauseButtonSize",unit:"number",value:0,versionPropertyId:undefined},{label:"Start time",name:"startTime",unit:"number",value:0,versionPropertyId:undefined},{label:"End time",name:"endTime",unit:"number",value:13,versionPropertyId:undefined},{label:"Preload image",name:"fallbackImage",unit:"image",value:"undefined undefined",versionPropertyId:undefined},{label:"Poster",name:"poster",unit:"image",value:"undefined undefined",versionPropertyId:undefined},{label:"Fill",name:"backgroundFill",unit:"select",value:"W3sidmFsdWUiOiJDb3ZlciIsInNlbGVjdGVkIjp0cnVlfSx7InZhbHVlIjoiQ29udGFpbiIsInNlbGVjdGVkIjpmYWxzZX1d",versionPropertyId:undefined},{label:"Playback rate",name:"playbackRate",unit:"select",value:"W3sidmFsdWUiOiIxIiwic2VsZWN0ZWQiOnRydWV9LHsidmFsdWUiOiIwLjI1Iiwic2VsZWN0ZWQiOmZhbHNlfSx7InZhbHVlIjoiMC41MCIsInNlbGVjdGVkIjpmYWxzZX0seyJ2YWx1ZSI6IjAuNzUiLCJzZWxlY3RlZCI6ZmFsc2V9LHsidmFsdWUiOiIxLjI1Iiwic2VsZWN0ZWQiOmZhbHNlfSx7InZhbHVlIjoiMS41MCIsInNlbGVjdGVkIjpmYWxzZX0seyJ2YWx1ZSI6IjEuNzUiLCJzZWxlY3RlZCI6ZmFsc2V9LHsidmFsdWUiOiIyIiwic2VsZWN0ZWQiOmZhbHNlfV0=",versionPropertyId:undefined},{label:"Gray Scale",name:"grayScale",unit:"number",value:0,versionPropertyId:undefined},{label:"Player background",name:"playerBackground",unit:"color",value:"rgba(0,0,0,0)",versionPropertyId:undefined},{label:"Stop with creative",name:"stopWithCreative",unit:"boolean",value:"false",versionPropertyId:undefined},{label:"Round corners",name:"roundCorners",unit:"number",value:0,versionPropertyId:undefined}],},{kind:'text',id:'db204bd1-122f-47fb-a050-bfb50d9233cb',time:0.29,hidden:false,duration:3.47,animations:[{id:'c60f63c0-5d3b-4f79-872d-01358a48a41d',type:'in',timingFunction:'easeOutExpo',templateId:'slide-in',settings:{direction:{"name":"Direction","value":270}},keyframes:[{id:"c9100dc1-7cfa-4f27-8c97-ffde704de31e",stateId:"c608bf1b-a67e-4505-ac8a-972932dce201",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"4d85f7dd-4deb-4e56-b03a-62c406fc8ca6",stateId:undefined,time:0.9626315789473685,timingFunction:"@timingFunction",value:undefined,duration:0}]},{id:'dd271232-5cbc-4905-91fb-c59cc0847bfa',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"1339345a-885c-4d1f-9bf8-5e0abe209125",stateId:undefined,time:2.839677419354839,timingFunction:undefined,value:undefined,duration:0},{id:"376324ad-e23a-4df1-9dfa-981a9026f920",stateId:"146c4d6e-acc1-4655-9136-e5d099b43e81",time:3.465483870967742,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'c608bf1b-a67e-4505-ac8a-972932dce201',x:-336.38,y:"@edgePoint(@transition.direction).y",opacity:0,},{id:'146c4d6e-acc1-4655-9136-e5d099b43e81',opacity:0,},],actions:[],x:325,y:12,width:194,height:17,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"bottom",horizontalAlignment:"left",maxRows:1,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:false,underline:false,strikethrough:false,fontSize:14,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"bottom",maxRows:1,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"Descubre",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"una",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"nueva",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'638f42c02251aadb36724487'},{kind:'text',id:'a61cfd15-3b05-4a6f-8a72-9727e2157987',time:0.29,hidden:false,duration:3.47,animations:[{id:'2ea706a0-8b31-4439-9f16-65d846540978',type:'in',timingFunction:'easeOutExpo',templateId:'slide-in',settings:{direction:{"name":"Direction","value":270}},keyframes:[{id:"613dba00-9107-4409-8e9f-a31eceff0f60",stateId:"cdbb6151-577e-4edc-b9fb-c196cd946956",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"f88dd5ec-f6e3-43d9-bcd4-d48b92c6b856",stateId:undefined,time:0.9626315789473685,timingFunction:"@timingFunction",value:undefined,duration:0}]},{id:'9f7ad78e-0c0e-404b-8af2-1f6b9bb2561f',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"8b64b538-1371-41bd-a180-1073269050ae",stateId:undefined,time:2.839677419354839,timingFunction:undefined,value:undefined,duration:0},{id:"12a792a8-32e5-4b53-b737-f7a1b46f3143",stateId:"c48e03fa-399a-4667-b906-f83a0bd0ab7e",time:3.465483870967742,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'cdbb6151-577e-4edc-b9fb-c196cd946956',x:-336.38,y:"@edgePoint(@transition.direction).y",opacity:0,},{id:'c48e03fa-399a-4667-b906-f83a0bd0ab7e',opacity:0,},],actions:[],x:325,y:31,width:189,height:31,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"middle",horizontalAlignment:"center",maxRows:1,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:30,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"middle",maxRows:1,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"EXPERIENCIA",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6e03346433955b0328'},{kind:'text',id:'d9d0a5d9-0e7f-4abb-af1f-f4bb1c3dfc32',time:0.29,hidden:false,duration:3.47,animations:[{id:'10a9f077-0ead-476a-9d39-6e91f7b6693a',type:'in',timingFunction:'easeOutExpo',templateId:'slide-in',settings:{direction:{"name":"Direction","value":90}},keyframes:[{id:"5c732462-6f0f-4718-8795-e6c0c9b46a1b",stateId:"bb2c90e9-f235-4c2a-bcc3-c7a337541d41",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"44b34807-fb98-43e0-bb4c-033c22ad8352",stateId:undefined,time:0.9626315789473685,timingFunction:"@timingFunction",value:undefined,duration:0}]},{id:'cc1f3dcf-abb4-40d9-b647-62d32e77c202',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"f5461f4b-f7b6-4c9b-8dfb-fed3999454e6",stateId:undefined,time:2.839677419354839,timingFunction:undefined,value:undefined,duration:0},{id:"bc672bd6-52f7-475f-a99d-65ec80f742b8",stateId:"9beba32f-c624-40ca-920f-8b0108b57f0c",time:3.465483870967742,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'bb2c90e9-f235-4c2a-bcc3-c7a337541d41',x:336.38,y:"@edgePoint(@transition.direction).y",opacity:0,},{id:'9beba32f-c624-40ca-920f-8b0108b57f0c',opacity:0,},],actions:[],x:259,y:61,width:254,height:18,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"top",horizontalAlignment:"right",maxRows:1,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:false,underline:false,strikethrough:false,fontSize:14,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"top",maxRows:1,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"de",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"lujo",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'638f42c02251aadb36724487'},{kind:'text',id:'4b444fe9-be0a-4817-99f2-d8c70dd6ec11',time:6.59,hidden:false,duration:8.38,animations:[{id:'6a34d969-4fb8-45d8-87a9-432477c3a54e',type:'in',timingFunction:'easeOutQuad',templateId:'ascend-in',settings:{direction:{"name":"Direction","value":0},distance:{"name":"Distance","value":10}},keyframes:[{id:"63ba54b6-b04d-4c52-95f5-80aa79dd3f24",stateId:"5fef01a4-6eec-4a9f-8a76-60f3ac4425ef",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"b2cc6176-aaa9-452c-9768-83747fb7853a",stateId:undefined,time:0.5551578947368405,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'5fef01a4-6eec-4a9f-8a76-60f3ac4425ef',x:"sin(@transition.direction * (pi / 180)) * @transition.distance",y:"-cos(@transition.direction * (pi / 180)) * @transition.distance",opacity:0,},],actions:[],x:260,y:36,width:21,height:14,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"bottom",horizontalAlignment:"left",maxRows:0,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:10,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"bottom",maxRows:0,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6e03346433955b0328'},{kind:'button',id:'9fd29d81-cd70-4f01-8d0c-3f5fd344d850',time:8.03,hidden:false,duration:6.94,animations:[{id:'54b6cc16-12db-418d-a5d8-8f5b71417e23',type:'keyframe',timingFunction:'easeInOutCubic',keyframes:[{id:"69c72144-c4ee-427e-b385-cbbe3de0abae",stateId:"9d11d92a-9952-4cf7-a11e-de0d864af13f",time:0,timingFunction:"easeInOutCubic",value:undefined,duration:0},{id:"037393ce-fb7c-42be-b3cb-9f5e31321b96",stateId:"3b134f5e-bb1f-447a-afd2-6b5fc4ae8635",time:1.4355816211265624,timingFunction:"easeInOutCubic",value:undefined,duration:0}]},],states:[{id:'9d11d92a-9952-4cf7-a11e-de0d864af13f',x:0,y:-10,opacity:0,},{id:'3b134f5e-bb1f-447a-afd2-6b5fc4ae8635',x:0,y:0,opacity:1,},],actions:[],x:460,y:40,width:113,height:17,fill:Color.parse('rgba(255,255,255,1)'),radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(88,102,83,1)'),textOverflow:"shrink",verticalAlignment:"middle",horizontalAlignment:"center",maxRows:1,lineHeight:1,padding:{"top":2,"left":2,"right":2,"bottom":2},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:10,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":2,"left":2,"right":2,"bottom":2},verticalAlignment:"middle",maxRows:1,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"Reserve",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"ahora",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6403346433955b0326'},{kind:'image',id:'3b48ce18-2635-4ffa-829d-f3c5952e1d85',time:0,hidden:false,duration:7.21,animations:[{id:'0f455976-fcd9-4d22-bb43-c5b60765043d',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"8b16a325-08b2-44bd-a482-bd08b931587c",stateId:undefined,time:6.58,timingFunction:undefined,value:undefined,duration:0},{id:"b50d710f-a14a-44aa-aa46-21ad0f9989cf",stateId:"c3c15bb5-cbf2-4691-9505-bec3624c9ca5",time:7.21,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'c3c15bb5-cbf2-4691-9505-bec3624c9ca5',opacity:0,},],actions:[],x:590,y:-7,width:105,height:105,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},imageSettings:{x:0.5,y:0.5,quality:85,sizeMode:"fit",highDpi:false},imageAsset:{id:"783083",url:"https://c.bannerflow.net/accounts/melia-hotels-international/59ddbd5fb9879d1534a831a9/images/5906a0cf-afd9-4143-af4b-6c44789809ff.svg",width:539,height:166}},{kind:'text',id:'b9efc126-c83c-4da3-976f-12f18ed9b93a',time:3.56,hidden:false,duration:3.65,animations:[{id:'8720f0fe-375c-42a0-94ca-05b25be2c5e6',type:'in',timingFunction:'easeOutQuad',templateId:'ascend-in',settings:{direction:{"name":"Direction","value":0},distance:{"name":"Distance","value":10}},keyframes:[{id:"096a62a0-d17e-4bdc-aa01-0fc49fd03f43",stateId:"969ed2f5-e665-4c7a-8e3a-27da8fb2613b",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"c2e1dfeb-2d1f-41fe-9284-aede8d766feb",stateId:undefined,time:1.3375042444821732,timingFunction:"@timingFunction",value:undefined,duration:0}]},{id:'8b4583d5-ea2f-4553-a2a9-aedb44ab74c9',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"f66d9070-5210-4a18-88e7-4b0f9d20de47",stateId:undefined,time:2.939354838709677,timingFunction:undefined,value:undefined,duration:0},{id:"264d09ff-caae-49b7-944d-3bb9a4efba77",stateId:"c8ea569c-9f68-4509-8061-728fdfb0e3bf",time:3.6516129032258076,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'969ed2f5-e665-4c7a-8e3a-27da8fb2613b',x:"sin(@transition.direction * (pi / 180)) * @transition.distance",y:-4.64,opacity:0,},{id:'c8ea569c-9f68-4509-8061-728fdfb0e3bf',opacity:0,},],actions:[],x:288,y:13,width:244,height:74,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"middle",horizontalAlignment:"center",maxRows:3,lineHeight:1.2,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:20,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"middle",maxRows:3,textOverflow:"shrink",characterSpacing:0,lineHeight:1.2,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"Un",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"oasis",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"exclusivo",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"solo",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"para",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"adultos",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6403346433955b0326'},{kind:'image',id:'bb4b6b96-ce27-40f1-8fb6-b58fc183b08b',time:7.31,hidden:false,duration:7.66,animations:[{id:'c351c992-f026-4677-9442-830ca34e33e3',type:'in',timingFunction:'linear',templateId:'fade-in',keyframes:[{id:"d2a5131e-6697-467c-9346-f53d666e87ec",stateId:"f4c36fb1-0233-407a-8841-cec2ef8a52b5",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"539d2a52-fc51-4b9a-a011-964a9ec5c1cc",stateId:undefined,time:0.7032258064516128,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'f4c36fb1-0233-407a-8841-cec2ef8a52b5',opacity:0,},],actions:[],x:616,y:18,width:91,height:50,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},imageSettings:{x:0.5,y:0.5,quality:85,sizeMode:"fit",highDpi:false},imageAsset:{id:"420659",url:"https://c.bannerflow.net/accounts/melia-hotels-international/59ddbd5fb9879d1534a831a9/images/22ca4670-d3a4-4668-a40d-4c8178f707b0.svg",width:300,height:164}},{kind:'image',id:'6b59f1f5-ae63-4e96-9ad2-358085d48acc',time:7.31,hidden:false,duration:7.66,animations:[{id:'a87ba4a7-19b1-4332-a9a2-0869458b56d1',type:'in',timingFunction:'linear',templateId:'fade-in',keyframes:[{id:"ef10e710-d318-48aa-875a-028c9f40eec6",stateId:"1c971d5c-d648-47f8-9140-8318df41c568",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"903305c1-4988-4182-adf5-ec91ff6335b3",stateId:undefined,time:0.7032258064516128,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'1c971d5c-d648-47f8-9140-8318df41c568',opacity:0,},],actions:[],x:616,y:18,width:91,height:50,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},imageSettings:{x:0.5,y:0.5,quality:85,sizeMode:"fit",highDpi:false},imageAsset:{id:"420659",url:"https://c.bannerflow.net/accounts/melia-hotels-international/59ddbd5fb9879d1534a831a9/images/22ca4670-d3a4-4668-a40d-4c8178f707b0.svg",width:300,height:164}},{kind:'text',id:'24840db8-6413-4325-b2a9-b6a5560180c9',time:6.91,hidden:false,duration:8.06,animations:[{id:'08e90206-7302-4063-b1a5-84d6f2bc2398',type:'in',timingFunction:'easeOutQuad',templateId:'ascend-in',settings:{direction:{"name":"Direction","value":0},distance:{"name":"Distance","value":10}},keyframes:[{id:"a2d5bfe1-d190-4668-87f7-23ea2a94e386",stateId:"ed12ed1e-ecf7-4db6-99bc-f1da9f65b52d",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"7c771cea-55cb-412a-aa6b-91d6e7a08ab9",stateId:undefined,time:0.5551578947368405,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'ed12ed1e-ecf7-4db6-99bc-f1da9f65b52d',x:"sin(@transition.direction * (pi / 180)) * @transition.distance",y:"-cos(@transition.direction * (pi / 180)) * @transition.distance",opacity:0,},],actions:[],x:300,y:20,width:82,height:72,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"middle",horizontalAlignment:"right",maxRows:1,lineHeight:1.3,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:-0.07,uppercase:true,underline:false,strikethrough:false,fontSize:53,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"middle",maxRows:1,textOverflow:"shrink",characterSpacing:-0.07,lineHeight:1.3,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"-",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"20",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6403346433955b0326'},{kind:'text',id:'93f6a52d-f327-4626-a442-842970872c33',time:6.91,hidden:false,duration:8.06,animations:[{id:'f8115fd3-112d-4240-82a9-76da2149ad1c',type:'in',timingFunction:'easeOutQuad',templateId:'ascend-in',settings:{direction:{"name":"Direction","value":0},distance:{"name":"Distance","value":10}},keyframes:[{id:"ddb0202b-c37c-47a4-af36-733b5a38cc44",stateId:"a7ac4aa3-eee0-4c04-b602-e65100013397",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"e83284bb-7781-4b2d-bf26-7c336b68cb00",stateId:undefined,time:0.5551578947368405,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'a7ac4aa3-eee0-4c04-b602-e65100013397',x:"sin(@transition.direction * (pi / 180)) * @transition.distance",y:"-cos(@transition.direction * (pi / 180)) * @transition.distance",opacity:0,},],actions:[],x:383,y:35,width:31,height:27,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"bottom",horizontalAlignment:"left",maxRows:0,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:30,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"bottom",maxRows:0,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"%",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6e03346433955b0328'},{kind:'text',id:'d4c82032-d660-4e9a-a446-f2ed39c20c8f',time:6.91,hidden:false,duration:8.06,animations:[{id:'a6889630-1537-425a-8efd-959731acc659',type:'in',timingFunction:'easeOutQuad',templateId:'ascend-in',settings:{direction:{"name":"Direction","value":0},distance:{"name":"Distance","value":10}},keyframes:[{id:"af3e0bb4-00a7-4d5d-9e56-93f4b64c919e",stateId:"f7cc19bb-ef9b-411a-a314-a88223b5dd6f",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"2b7688f7-2039-4437-95cb-2fd02bd4e4de",stateId:undefined,time:0.5551578947368405,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'f7cc19bb-ef9b-411a-a314-a88223b5dd6f',x:"sin(@transition.direction * (pi / 180)) * @transition.distance",y:"-cos(@transition.direction * (pi / 180)) * @transition.distance",opacity:0,},],actions:[],x:383,y:58,width:39,height:19,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"bottom",horizontalAlignment:"left",maxRows:0,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:14,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"bottom",maxRows:0,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6403346433955b0326'},{kind:'text',id:'e70fdc1e-a0c8-4f8f-8254-c78f222f0afe',time:6.91,hidden:false,duration:8.06,animations:[{id:'b219e7ad-2389-42c1-9f1b-ed5b8e5f5b82',type:'in',timingFunction:'easeOutQuad',templateId:'ascend-in',settings:{direction:{"name":"Direction","value":0},distance:{"name":"Distance","value":10}},keyframes:[{id:"4000dcda-21e8-43ac-b35d-fee22ea5d611",stateId:"cec3dd8c-5fc1-40bd-b5db-a602ff178aeb",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"685b8722-23f8-4a51-89e1-99ff0d6ceee8",stateId:undefined,time:0.5551578947368405,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'cec3dd8c-5fc1-40bd-b5db-a602ff178aeb',x:"sin(@transition.direction * (pi / 180)) * @transition.distance",y:"-cos(@transition.direction * (pi / 180)) * @transition.distance",opacity:0,},],actions:[],x:294,y:8,width:123,height:24,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"bottom",horizontalAlignment:"center",maxRows:1,lineHeight:1,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,fontSize:14,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"bottom",maxRows:1,textOverflow:"shrink",characterSpacing:0,lineHeight:1,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"Hasta",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'62569f6e03346433955b0328'}]};return{env,data,preloadAssets};});