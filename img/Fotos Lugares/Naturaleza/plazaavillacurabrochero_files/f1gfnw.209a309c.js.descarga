(this.$WP=this.$WP||[]).push(["f1gfnw",(e,t)=>{"use strict";var n,a,r,l,i,o,s,u,c,d,f,g,v,h,p,D,m,k,y,P,b,_,B,w,C,A,x,O,T,R,S,I,F,M,V,z,E,N,j,q,U,$,W,H,L,G,K,Y,Z,J,Q="kCuqr";function X(e,t){return{selected:!t.isDimmed,onClick:t.onClick,key:e.name,ref:e.ref}}function ee({picker:e,inputField:t,onClose:a,inline:r,alignEdge:l,onReset:i,autoAdvance:o=!0,showResetOnDesktop:s=!1,renderApplyButton:g,fullWidthDatePicker:v=!1,pickerFooter:h=null,sticky:p=!0,isOptimizedDatePicker:D=!1,isOptimizedPicker:m=!1,fixedWidthDatePicker:P=!1,overlayPosition:_="below"}){var B=C(),[w,O]=n(!1),T=e&&"renderPicker"in e&&(null==e.renderPicker?void 0:e.renderPicker({setValue:e.setValue,onApply:e.onApply,value:e.value})),S=(t=!1)=>{var n=()=>{null==e||e.onApply(),o||a()};return g?g({onClick:n,disabled:t}):M(c,{disabled:t,size:"small",onClick:n,children:M(x,{id:"phoenix_picker_apply"})})},I=i?M(d,{onClick:i,variant:m?void 0:"accent",children:M(f,{variant:m?"button-02":"body-01",children:M(x,{id:"sng_fusion_list_filters_modal_reset"})})}):null;return"MOBILE"===B?e?M(k,{header:t,stickyHeader:!0,slideFrom:r?"right":"bottom",onClose:a,heightOption:"full",closeButtonPosition:r?"left":void 0,closeButtonIcon:r?y:void 0,footer:F("div",{className:u("ZVcWm O",{uUptg:D}),children:[M("div",{className:u({ZCvUd:D}),children:e.showFooterDescription&&F("div",{children:[M(f,{variant:"supporting-01",children:h}),D&&M(f,{variant:"supporting-01",marginTop:"spacing-01",children:M(x,{id:"attractions_adult_shown_calendar"})})]})}),F("div",{className:u("xgjOw H",{uCoiJ:!!I}),children:[I,S(e.isApplyButtonDisabled)]})]}),children:M("div",{className:u("VBIgR F1",{JjjAo:D}),children:T||""})}):null:F(V,{children:[r&&e&&M("div",{className:"vXbge",children:T}),M(R,{children:!r&&null!=e&&e.ref.current?F(V,{children:[M(A,{unstyled:!0,position:_,shiftY:12,arrowType:"none",alignEdge:"center"!==l?l:void 0,target:e.ref.current,autoFocus:!0,fixed:w,children:F("div",{className:u("SBfDE Gi B2 Z BC Ra",{VCoZP:v,KfinA:P}),children:[T,(e.showApplyButton||e.showFooterDescription)&&F("div",{className:u("phddl",{SqbIP:D}),children:[h&&e.showFooterDescription&&F("div",{className:u("yDrFn",{[Q]:D}),children:[M(f,{variant:"supporting-01",children:h}),D&&M(f,{variant:"supporting-01",marginTop:"spacing-01",children:M(x,{id:"attractions_adult_shown_calendar"})})]}),F("div",{className:u("jxRew",{[Q]:D}),children:[S(e.isApplyButtonDisabled),s&&D&&M("span",{className:"uOMEW",children:I}),s&&!D&&I]})]})]})}),M(b,{event:"click",callback:a}),"DESKTOP"===B&&p&&M(b,{event:"scroll",callback:()=>{var t,n=(null==e||null==(t=e.ref.current)?void 0:t.getBoundingClientRect().top)||Number.MAX_VALUE;O(n<=16)}})]}):null})]})}function te({pickers:e,autoAdvance:t=!0,onBeforeAdvance:u=(()=>!0),onOpen:c,onClose:d,onComplete:f=(()=>{}),autoOpen:h=!1,autoOpenDelay:p=2e3,inputFieldVariant:D,inline:m=!1,children:k,alignEdge:y="left",mapSurface:b,renderApplyButton:B,showResetOnDesktop:w=!1,fullWidthDatePicker:C=!1,pickerFooter:A=null,sticky:x=!0,isOptimizedPicker:O=!1,fixedWidthDatePicker:T=!1,overlayPosition:R="below",getPickerButtonContainerStyle:V,refocusOnReset:z=!0}){var E=r(null),N=r(null),j=r(null),{trackClick:q}=_(),U=S(),$=a((()=>{U&&null!=N.current&&N.current.ref.current.focus()}),[U]),W=a((e=>{e&&j.current?j.current(e):t&&E.current&&N.current&&u(N.current)&&null==E.current()&&($(),f())}),[t,u,f,$]),H=l((()=>Array.from({length:e.length},(()=>i()))),[e.length]),L=a((e=>{var n=e.onApply?e.onApply():null;t||n?W(n):($(),f())}),[W,t,$,f]),G=l((()=>e.map(((e,t)=>({...e,setValue:t=>{var n=e.setValue?e.setValue(t):null;W(n)},onApply:()=>L(e),ref:H[t]})))),[e,L,H,W]),K=h&&0===p,{openPicker:Y,nextPicker:Z,closePicker:J,currentPicker:Q,getPickerValues:te}=function(e,t=!1){var r,[l,i]=n(t?null==(r=e[0])?void 0:r.name:null),o=e.find((e=>e.name===l)),s=a((()=>{var t;if(!l)return null;var n=e.findIndex((e=>e===o)),a=null==(t=e[n+1])?void 0:t.name;return i(a),a}),[l,e,o]),u=a((()=>{i(null)}),[i]),c=a((t=>{var n=t||e[0].name;i(n)}),[e]),{trackClick:d}=_();return{isOpen:!!l,nextPicker:s,closePicker:u,openPicker:c,getPickerValues:e=>({isOpen:e.name===(null==o?void 0:o.name),isDimmed:null==o||e!==o,onClick:()=>{d({clientContext:`click${e.name[0].toUpperCase()}${e.name.substring(1)}PickerButton`}),e.name===(null==o?void 0:o.name)?i(null):i(e.name)}}),currentPicker:o}}(G,K),ne=null==Q?void 0:Q.name;o((()=>{var e,n;!t&&ne&&null!=(e=N.current)&&e.value&&null!=(n=N.current)&&n.name&&N.current.name!==ne&&(null==N.current.setValue||N.current.setValue(N.current.value))}),[t,ne]),o((()=>{E.current=Z,N.current=Q,j.current=Y})),o((()=>{var e=h&&!K&&j.current?setTimeout(j.current,p):null;return()=>clearTimeout(e)}),[h,p,K]),o((()=>{Q&&(q({clientContext:b?"mapDatepicker":"pickerOpened",clientParameter:Q.name}),null==c||c(Q))}),[Q,q,c,b]);var ae=()=>{$(),J(),Q&&(null==d||d(Q))},re=e=>F("div",{children:[M(v,{variant:D,children:M((({children:t})=>{var n=null==V?void 0:V(e);return n?M("div",{className:n,children:t}):t}),{children:G.filter((t=>!e||"renderPicker"in t)).map((t=>M(s,{children:t.renderButton(null==Q?void 0:Q.name,X(t,te(t)),e)},t.name)))})}),e&&M("div",{className:"qhbsC",children:M(g,{marginY:"spacing-05"})})]}),le=null==Q?void 0:Q.onReset,ie=le?()=>{le(),W("startDate")}:void 0,oe=()=>F(P,{events:["onClick","onTouchStart"],children:[re(!1),M(ee,{picker:Q,inputField:re(!0),onClose:ae,inline:m,alignEdge:y,onReset:z?ie:le,autoAdvance:t,showResetOnDesktop:w,renderApplyButton:B,fullWidthDatePicker:"date"===(null==Q?void 0:Q.name)&&C,pickerFooter:A,sticky:x,isOptimizedDatePicker:"date"===(null==Q?void 0:Q.name)&&O,isOptimizedPicker:O,fixedWidthDatePicker:"date"===(null==Q?void 0:Q.name)&&T,overlayPosition:R})]});return I("Escape",ae),k?k({renderPickerFlow:oe,currentPicker:Q,closePicker:J}):oe()}var ne=(e,t,n)=>{var a=n?e.formatDate("week_date_long",n):null;return n?t.string("fusion_date_picker_label_with_date",{date:a}):t.string("fusion_date_picker_default_label")},ae=(e,t,n,a)=>{var r=n?e.formatDate("week_date_long",n):"",l=a?e.formatDate("week_date_long",a):"";return n&&a?t.string("fusion_date_range_picker_label_with_date_range",{from:r,to:l}):t.string("fusion_date_range_picker_default_label")};function re(e,t,n,a,r,l,i,o,s,u,c=!1,d=!1){if(n||d){var{ref:f,...g}=i,v=l?e:t;return M(h,{ref:f,date:v,disabled:l&&c,"aria-label":ne(s,u,v),...g})}if(l){var D=a?null:e,m=a?null:t;return M(p,{from:D,to:m,disabled:o,"aria-label":ae(s,u,D,m),...i})}return null}function le({startDate:e,endDate:t,isDefaultDates:n,setDates:a,resetDates:r,maxRangeDays:i,disableBefore:o,fromMonth:s,disabled:u=!1,startDisabled:c=!1,separatePickers:d=!1}){var f=C(),g="MOBILE"===f,v="DESKTOP"===f,h=O(),{localize:p}=T();return l((()=>{var l=a=>({setValue:l})=>M(z,{fromMonth:s||new Date,monthRange:g?13:12,numberOfMonths:v?2:1,maxRangeDays:null==i?30:i,onDateReset:n?void 0:r,startDate:e,endDate:t,layoutStyle:g?"infiniteVerticalScroll":"paginated",onDateSelect:l,isEndDate:a,disableBefore:o||new Date,fullWidth:!0});return[{name:"startDate",value:e,setValue:e=>{a(e,!0)},onApply:()=>{n&&a(e,!0)},renderButton:(a,r)=>re(e,t,a,n,0,!0,r,u,h,p,c,d),renderPicker:l()},{name:"endDate",value:t,setValue:t=>t<e?(a(t,!0),"endDate"):(a(t,!1),null),renderButton:(a,r)=>re(e,t,a,n,0,!1,r,u,h,p,c,d),renderPicker:l(!0)}]}),[d,c,u,t,n,v,g,r,a,e,i,o,s,h,p])}function ie({startDate:e,endDate:t,isDefaultDates:n,setDates:a,setDateRange:r,resetDates:i,maxRangeDays:o,disableBefore:s,fromMonth:u,disabled:c=!1,useHeatMapData:d=(()=>null),onReset:f,quickFilters:g=!1}){var v=C(),D="MOBILE"===v,m="DESKTOP"===v,k=O(),{localize:y}=T(),{trackClick:P}=j({clientContext:"DateQuickFilters"});return l((()=>{var l=({setValue:a})=>{var r=d();return M(z,{fromMonth:u||new Date,monthRange:D?13:12,numberOfMonths:m?2:1,maxRangeDays:null==o?30:o,onDateReset:n?void 0:i,startDate:e,endDate:t,layoutStyle:D?"infiniteVerticalScroll":"paginated",onDateSelect:a,disableBefore:s||new Date,fullWidth:!0,heatMapData:r})};return{name:"dateRange",value:e,setValue:e=>a(e)?null:"dateRange",renderButton:(a,l,i)=>D&&g&&r&&!i?function(e,t,n,a,r,l,i,o,s,u,c,d){var f=a?null:e,g=a?null:t,v=(null==f?void 0:f.getTime())===(null==g?void 0:g.getTime()),D=new Date,m=D.getDay();D.setHours(0,0,0,0);var k=new Date(new Date(D).setDate(D.getDate()+1)),y=new Date(new Date(D).setDate(D.getDate()+(6-D.getDay()))),P=new Date(new Date(y).setDate(y.getDate()+1)),b=v&&(null==f?void 0:f.getTime())===D.getTime(),_=v&&(null==f?void 0:f.getTime())===k.getTime(),B=(null==f?void 0:f.getTime())===y.getTime()&&(null==g?void 0:g.getTime())===(null==P?void 0:P.getTime()),w=!(B||b||_||!f),C=0!==m,A={key:i.key,selected:i.selected,ref:i.ref,onClick:i.onClick},x={...i,selected:i.selected||w};return M("div",{className:"wOOqG F1",children:M(N,{children:F("div",{className:"xHVkR f",children:[F("div",{className:"jhlyv",children:[v&&M(h,{date:f,disabled:o,"aria-label":ae(s,u,f,g),...A}),!v&&M(p,{from:f,to:g,disabled:o,"aria-label":ae(s,u,f,g),...x})]}),M(E,{onClick:()=>{d({clientParameter:"DateQuickFilters_today"}),c(D,D,!0)},selected:b,marginRight:"spacing-01",children:u.string("exp_quickfilter_today")}),M(E,{onClick:()=>{d({clientParameter:"DateQuickFilters_tomorrow"}),c(k,k,!0)},selected:_,marginRight:"spacing-01",children:u.string("exp_quickfilter_tomorrow")}),C&&M(E,{onClick:()=>{d({clientParameter:"DateQuickFilters_weekend"}),c(y,P,!0)},selected:B,marginRight:"spacing-01",children:u.string("exp_quick_filter_this_weekend")})]})})})}(e,t,0,n,0,0,l,c,k,y,r,P):function(e,t,n,a,r,l,i,o,s,u){var c=a?null:e,d=a?null:t;return M(p,{from:c,to:d,disabled:o,"aria-label":ae(s,u,c,d),...i})}(e,t,0,n,0,0,l,c,k,y),renderPicker:({setValue:e})=>M(l,{setValue:e}),onReset:f}}),[c,t,n,m,D,i,a,e,o,s,u,d,f,k,y,r,g,P])}var oe=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/,se=e=>{if(null!=e&&oe.test(e)){var t=new Date(`${e}T00:00`);if(!isNaN(t.getTime()))return t}return null},ue=(e,t)=>{var n=se(e);if(null!==n)return n;var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate()+t)};function ce({date:e,setDate:t,availableDates:n,isDefaultDates:r,showApplyButton:i,showFooterDescription:s,onReset:c,priceMap:d,variant:f="text-and-icon",numberOfMonths:g,optimizeCalendarBucket:v}){var p=C(),D="MOBILE"===p,m="DESKTOP"===p,k=a((e=>{if(!n)return!1;var t=`${e.getDate()}`.padStart(2,"0"),a=`${e.getMonth()+1}`.padStart(2,"0"),r=`${e.getFullYear()}-${a}-${t}`;return!n.has(r)}),[n]),y=e;n&&k(e)&&(y=((e,t)=>{if(!t)return null;for(var n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=null,l=t.values(),i=l.next();!i.done;){var o=se(i.value);if(o&&o>=a)if(null===r)r=o;else{var s=Math.abs(r-e);if(!(Math.abs(o-e)<s))return r;r=o}i=l.next()}return r})(e,n)),o((()=>{y&&y.getTime()!==e.getTime()&&t(y,!1,!1)}),[e,y,t]);var P=(e=>{var t=O(),{localize:n}=T();return ne(t,n,e)})(y),b=Y[null!=v?v:"control"];return l((()=>({name:"date",value:y,showApplyButton:i,showFooterDescription:s,setValue:e=>{t(e,!0)},onApply:()=>(r&&t(e,!0),null),onReset:c,renderButton:(e,t)=>"icon"===f?M("button",{disabled:t.disabled,"aria-label":P,onClick:t.onClick,className:u("hTTVW z B2 Z BC _S",t.selected&&"PjBDd"),ref:t.ref,children:M(q,{size:18})}):M(h,{date:y,onClick:t.onClick,selected:t.selected,disabled:t.disabled,"aria-label":P,"aria-haspopup":"dialog",ref:t.ref,withIcon:"text"!==f}),renderPicker({setValue:e}){var t=null!=g?g:m?2:1;return M(U,{fromMonth:new Date,monthRange:24,numberOfMonths:t,selectedDate:y,layoutStyle:D?"infiniteVerticalScroll":"paginated",onDateSelect:e,fullWidth:!0,disabledDates:k,priceMap:d,dayStyle:b})}})),[m,D,t,k,i,s,y,r,e,c,d,f,P,g,b])}function de({direction:e,currentDate:t,setDate:n,availableDates:a}){var{localize:r}=T(),i=O(),o=l((()=>"forward"===e?((e,t)=>{if(!t)return null;for(var n=t.values(),a=n.next();!a.done;){var r=se(a.value);if(r&&r>e)return r;a=n.next()}return null})(t,a):((e,t)=>{if(!t)return null;for(var n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=t.values(),l=r.next(),i=null;!l.done;){var o=se(l.value);if(o&&o<e&&o>=a&&(i=o),o&&o>=e)return i;l=r.next()}return null})(t,a)),[e,t,a]),s=o?i.formatDate("week_date_long",o):"",u=r.string("accessibility_attraction_date_picker_set_date",{0:s});return l((()=>({name:`${e}DateChanger`,value:t,renderButton:function(){return M("button",{disabled:!o,"aria-label":u,onClick:()=>{o&&n(o,!0)},className:"pwiGV z B2 Z BC _S",children:M("forward"===e?W:$,{size:24})})}})),[n,t,e,o,u])}var fe=e=>e.toString().padStart(2,"0");function ge({offset:e,currentDate:t,setDate:n,availableDates:a}){var{localize:r}=T(),i=O(),o=((e,t)=>{var n=new Date(e);return n.setDate(n.getDate()+t),n})(t,e),s=o?i.formatDate("week_short_month_short_date",o):"",u=o?i.formatDate("week_date_long",o):"",c=r.string("accessibility_attraction_date_picker_set_date",{0:u}),d=!o||!(null!=a&&a.has(`${o.getFullYear()}-${fe(o.getMonth()+1)}-${fe(o.getDate())}`));return l((()=>({name:`DateChanger-${e}`,value:t,renderButton:function(){return M(D,{disabled:d,selected:0===e,"aria-label":c,onClick:()=>{n(o,!0)},children:s})}})),[n,t,o,s,d,e,c])}function ve(e={}){var{defaults:t,trackSetDatesClientContext:n="setAttractionsDates"}=e,{commerce:r,setDateCallback:l}=G(),{update:{attractions:{setDates:i}}}=H(),{trackClick:o}=_(),{startDate:s,endDate:u,setByUser:c}=r||{},d=se(s),f=se(u),g=a(((e,t,a)=>{o({clientContext:n,clientParameter:JSON.stringify({startDate:B(e),endDate:B(t),setByUser:a})})}),[o,n]),v=a(((e,t,n)=>{g(e,t,n),i(e,t),l({startDate:e,endDate:t}),L()}),[l,i,g]),h=a(((e,t,n=!0)=>{g(e,e,t),n&&i(e,e),l({startDate:e,endDate:e})}),[i,l,g]),p=a((()=>{i(null,null),o({clientContext:"resetAttractionsDates"}),l(null)}),[l,i,o]),D=ue(null==t?void 0:t.startDate,0),m=ue(null==t?void 0:t.endDate,1),k=c&&d?d:D;return{isDefaultDates:!(c||null!=t&&t.setByUser),singleDate:k,startDate:k,endDate:c&&f?f:m,setDateRange:v,setSingleDate:h,resetDates:p}}var he=(e,t)=>{var n,a,r=new Map;return null==t||null==(n=t.filter(Boolean))||n.forEach((e=>r.set(e.ageBand,0))),null==e||null==(a=e.filter(Boolean))||a.forEach((e=>r.set(e.ageBand,e.count))),r};function pe(e){var{commerce:t,setPaxCallback:n}=G(),{update:{attractions:{setPassengers:r}}}=H(),{trackClick:i}=_({clientContext:"setAttractionsPax"}),o=l((()=>{var t,n,a=[{ageBand:"ADULT",count:2}],r=(null==e||null==(t=e.find((e=>"ADULT"===(null==e?void 0:e.ageBand))))?void 0:t.minTravelersPerBooking)||0,l=(null==a||null==(n=a.find((e=>"ADULT"===(null==e?void 0:e.ageBand))))?void 0:n.count)||0;return he(l<r?[{ageBand:"ADULT",count:r}]:a,e)}),[e]),s=null==t?void 0:t.pax;return{pax:l((()=>he(s,e)),[e,s]),defaultPax:o,setPax:a(((e,t)=>{var a=[];e.forEach(((e,t)=>a.push({ageBand:t,count:e}))),i({clientParameter:JSON.stringify({pax:a,setByUser:t})});var l=e.get("ADULT")||0,o=e.get("CHILD")||0;r(l,o),n(a)}),[r,n,i])}}function De(e){var t,n,r,{hotels:l,update:{hotels:{setStayDates:i}}}=H(),o=a((({checkIn:e,checkOut:t})=>{i(e,t)}),[i]);return null===l||l.defaultDates?(t=ue(null==e?void 0:e.checkIn,0),n=ue(null==e?void 0:e.checkOut,1),r=(null==e?void 0:e.setByUser)||null):(t=l.checkInDate,n=l.checkOutDate,r=!l.defaultDates),{dates:{checkIn:t,checkOut:n},setByUser:r,setDates:o}}function me(e){var t,{hotels:n,update:{hotels:{setGuestInfo:r,setTravelInfo:i}}}=H(),{defaultRooms:o,defaultAdults:s,defaultChildrenAges:u,checkIn:c,checkOut:d}=l((()=>(e=>{if(null==(null==e?void 0:e.rooms))return Z;var t=0,n=[],{rooms:a}=e;return a.filter(Boolean).forEach((e=>{t+=null==e.adults?0:e.adults,null!=e.childrenAges&&n.push(...e.childrenAges.filter(Boolean))})),{defaultRooms:a.length,defaultAdults:t,defaultChildrenAges:n,checkIn:e.checkIn,checkOut:e.checkOut}})(e)),[e]),f=a((({rooms:e,adults:t,childrenAges:a})=>((e,t,n,a,r)=>(l,i,o)=>{var s=w(o,l);null!=n?e(i,l,s):t(a,r,i,l,s)})(r,i,n,c,d)(e,t,a)),[r,i,n,c,d]);return[{rooms:(null==n?void 0:n.rooms)||o,adults:(null==n?void 0:n.adults)||s,childrenAges:(null==n||null==(t=n.childAgesPerRoom)?void 0:t.flat())||u},f]}function ke(){var{update:{hotels:{setTravelInfo:e}}}=H();return{setTravelInfo:a((({dates:{checkIn:t,checkOut:n},guests:{rooms:a,adults:r,childrenAges:l}})=>{e(t,n,r,a,w(l,a))}),[e])}}var ye=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var a,r,l;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(r=a;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((a=t.length)!=n.length)return!1;for(r=a;0!=r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((a=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=a;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,l[r]))return!1;for(r=a;0!=r--;){var i=l[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n},Pe=e=>Array.from(e.values()).reduce(((e,t)=>e+t),0);function be({passengerInfo:e,defaultPax:t,currentPax:r,setPax:i,showApplyButton:s,queueSelections:u=!0,onReset:c,isPaxOptimization:d}){var[f,g]=n(r),[v,h]=n(null),{localize:p}=T(),D=u?f:r;o((()=>{u&&g(r)}),[u,r,g]),o((()=>{var t;if(e){var n=!1,a=new Map(r),l=null==(t=e.ageBands)?void 0:t.filter(Boolean);l&&l.length&&(l.forEach((e=>{var t=null!=e.minTravelersPerBooking?e.minTravelersPerBooking:0,l=null!=e.maxTravelersPerBooking?e.maxTravelersPerBooking:10,i=r.get(e.ageBand)||0;i<t?(a.set(e.ageBand,t),n=!0):i>l&&(a.set(e.ageBand,l),n=!0)})),r.forEach(((e,t)=>{l.find((e=>e.ageBand===t))||(a.delete(t),n=!0)}))),n&&i(a,!1)}}),[r,e,i]);var k=a(((e,t)=>{h(null),g((n=>new Map([...n.entries(),[e,t]])))}),[]),y=l((()=>Pe(r)),[r]),P=a((t=>{return n=t,!1!==(null==e?void 0:e.requiresAdultForBooking)&&0===n.get("ADULT")&&0===n.get("SENIOR")?(h(p.string("attractions.booking.errors.no_travelers")),!1):0===Pe(t)?(h(p.string("attractions.booking.select_travelers_to_see_availability")),!1):!!(e=>{var t=!0;return e.forEach(((e,n)=>{"INFANT"!==n&&e>0&&(t=!1)})),!t})(t)||(h(p.string("exp_booking_no_only_infants")),!1);var n}),[p,e]),b=a((e=>{P(e)&&(h(null),J(e,r)||i(e,!0))}),[r,i,P]),_=a(((e,t)=>{var n=new Map([...r,[e,t]]);b(n)}),[r,b]),B=l((()=>t&&J(t,f)?void 0:c),[t,f,c]),w=a((()=>P(D)?(J(D,r)||i(D,!0),null):"pax"),[D,i,P,r]);return l((()=>({name:"pax",showApplyButton:s,value:D,onApply:w,onReset:B,setValue:b,renderButton:(e,t)=>M(m,{guests:y,...t}),renderPicker:()=>e?M(K,{passengerInfo:e,selections:D,onAgeBandChange:u?k:_,errorMessage:v,isPaxOptimization:d}):null})),[v,w,e,u,B,D,_,b,k,s,y,d])}return e({default:te,useAttractionDates:ve,useAttractionPax:pe,useDateRangePicker:ie,useDateRangePickers:le,useHotelDates:De,useHotelGuests:me,useHotelTravelInfo:ke,usePaxPicker:be,useSingleDateChangerArrow:de,useSingleDateChangerText:ge,useSingleDatePicker:ce}),[()=>{Y={"Treatment 1":"large","Treatment 2":"medium",control:void 0},Z={defaultRooms:1,defaultAdults:2,defaultChildrenAges:[],checkIn:new Date,checkOut:new Date},J=ye,e({default:te,useAttractionDates:ve,useAttractionPax:pe,useDateRangePicker:ie,useDateRangePickers:le,useHotelDates:De,useHotelGuests:me,useHotelTravelInfo:ke,usePaxPicker:be,useSingleDateChangerArrow:de,useSingleDateChangerText:ge,useSingleDatePicker:ce})},[e=>(n=e.useState,a=e.useCallback,r=e.useRef,l=e.useMemo,i=e.createRef,o=e.useEffect,s=e.Fragment),e=>u=e.default,e=>(c=e.default,d=e.BorderlessButton),e=>f=e.default,e=>g=e.default,e=>(v=e.InputField,h=e.DateInputFieldItem,p=e.DateRangeInputFieldItem,D=e.InputFieldItem,m=e.GuestsInputFieldItem),e=>k=e.SlideInModal,e=>y=e.default,e=>P=e.default,e=>b=e.default,e=>(_=e.useTracking,B=e.toISODateString,w=e.assignHotelChildrenToRooms),e=>C=e.useViewportCategory,e=>A=e.default,e=>(x=e.default,O=e.useIntlFormatter,T=e.useLocalize),e=>R=e.AfterConsent,e=>S=e.useKeyboardNavigationMode,e=>I=e.useKeyboardEvent,e=>(F=e.jsxs,M=e.jsx,V=e.Fragment),e=>z=e.default,e=>E=e.ChipButton,e=>N=e.ActionBar,e=>j=e.useFusionTracking,e=>q=e.default,e=>U=e.default,e=>$=e.default,e=>W=e.default,e=>H=e.useTravelInfo,e=>L=e.scrollToTop,e=>G=e.useAttractionCommerceParametersContext,e=>K=e.default]]},["1o4yt4","fkji80","jppfwt","1essqv","covaqn","1gnzc4","1i3sz5","17nq86","65rb8q","ltllz9","rmpbxq","1ys6v1","1x9dv9","17thqz","1973cc","12r4qu","1gttbj","121h32","l6h0jh","1b1clj","1t9h7j","1shtzu","100mpx","1tefbk","a6i9w3","6qmqhw","1etaac","1p8t7k","1jy16c","1nqx3j"]]);
