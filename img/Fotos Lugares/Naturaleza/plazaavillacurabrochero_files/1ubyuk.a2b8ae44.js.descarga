(this.$WP=this.$WP||[]).push(["1ubyuk",(e,i)=>{"use strict";var n,t,r,a,o,l,s,c,d,u,p,m,g,v,h,y,w,f,k,b,I,_,T,N,C,z,x={__key:21141499094481,id:"133a638b25d10ae02c878080670c2b16",loc:{},definitions:[]},O={__key:0xe2d10c582155,id:"e2d10c5821558d9eb8d4a2b752a139e3",loc:{},definitions:[]},U={__key:0xff54c874f65d,id:"ff54c874f65df7eb578d22e01adc4211",loc:{},definitions:[]},D=e=>{var i,n=Array.isArray(null==e?void 0:e.response)?null==e||null==(i=e.response)?void 0:i[0]:null==e?void 0:e.response;if(!n||!n.content)return null;var{campaignId:t=null,sponsorId:r=null,sponsorDisplayName:a=null,content:o=null}=n,l={campaignId:t,sponsorId:r,sponsorDisplayName:a};switch(o.__typename){case"SponsorshipManager_ArticleContent":return((e,i)=>{var n,t,r,a,o;if(!i||!i.title||null==(n=i.route)||!n.url)return null;var{title:l,content:s,route:{url:c}}=i,d=null!=s&&"__typename"in s&&"RichContent_SlateJsContent"===(null==s?void 0:s.__typename)?s:null;return{...e,campaignType:"ARTICLE",title:l,description:(null==d||null==(t=d.seoInfo)?void 0:t.metaDescription)||null,authors:(null==d||null==(r=d.authors)?void 0:r.map((e=>{var i;return null==e||null==(i=e.author)?void 0:i.name})).join(", "))||null,clickUrl:c,photo:(null==d||null==(a=d.thumbnail)||null==(o=a.photo)?void 0:o.photoSizeDynamic)||null}})(l,o.articleContent);case"SponsorshipManager_GeoContent":return((e,i)=>{if(!i||!i.url)return null;var{url:n,thumbnail:t,locationV2:r}=i,a=(null==r?void 0:r.names)||null;return a&&a.name?{...e,campaignType:"GEO",name:a.name,stateAndCountryOrEquivalent:a.stateAndCountryOrEquivalent,clickUrl:n,photo:(null==t?void 0:t.photoSizeDynamic)||null}:null})(l,o.geoContent);case"SponsorshipManager_TripContent":return((e,i)=>{var n,t;if(!i||null==(n=i.route)||!n.url||!i.title)return null;var{title:r,description:a,photo:o,route:{url:l},owner:s}=i,c=null!=o&&"photoSizeDynamic"in o?null==o?void 0:o.photoSizeDynamic:null;return{...e,campaignType:"TRIP",title:r,description:a,ownerDisplayName:(null==s||null==(t=s.profile)?void 0:t.displayName)||null,clickUrl:l,photo:c}})(l,o.tripContent);default:return null}},H=e=>{var i=s(),a=1===i||2===i,l=t(),c=o(Date.now().toString()),d=!l||e||!1,u=r(),{params:p}=u,m=["geoId"in p&&p.geoId||0,"detailId"in p&&p.detailId||0].filter((e=>0!==e)),[{data:g}]=n({query:x,variables:{locationIds:m},pause:1!==i||d||0===(null==m?void 0:m.length)});1===i&&((null==g?void 0:g.locations)||[]).forEach((e=>{var i,n,t=null==e||null==(i=e.parents)||null==(n=i[0])?void 0:n.locationId;null!=t&&(null==m||m.push(t))}));var v=a?{request:{locationIds:m,timestamp:c.current}}:{request:c.current},[{data:h,fetching:y}]=n({query:a?U:O,variables:v,pause:d});return{fetching:y,randomSponsorshipCampaign:D(h)}},S="Qbkpw",W="cmfsL o W",E="plus",$="on-dark",q=({titleText:e,campaignId:i,subtitleText:n="",ctaText:t,image:o,clickUrl:s,sponsorId:T=0,sponsorName:N="",campaignType:C="",buttonVariant:z=$,backgroundColor:x="plusBackground",isHorizon:O=!1,viewportOverride:U})=>{var{localize:D}=c(),H=d(),q=p(x),A="MOBILE"===(U||H),L=124!==T,P=()=>A&&O?"onLightText":q||A?"onDarkText":void 0,{page:R}=r(),G=a(),B=b(),j=k(),J=f((()=>{j({itemType:`ContentWidget${C}`,itemGroup:"ContentWidget",itemName:N,itemId:`${i}`,customData:JSON.stringify({campaignType:C,clickUrl:s,sponsorId:T}),team:"TAPS",page:R,pageUid:G})})),M=l((()=>{B({itemType:`ContentWidget${C}Click`,itemGroup:"ContentWidget",itemId:`${i}`,itemName:N,customData:JSON.stringify({campaignType:C,clickUrl:s,sponsorId:T}),page:R,team:"TAPS",actionType:"click",pageUid:G})}),[i,C,s,B,R,G,T,N]);return I("div",A&&O?{className:S,children:I(g,{href:s,display:"block",theme:"none",target:"_blank",onClick:()=>M(),children:_("section",{ref:J,"aria-label":`${e} ${n} ${t}`,className:u("yWTQN",m({backgroundColor:x})),children:[o&&I("div",{className:u("mOZIw _U"),children:I(v,{source:o,width:"100%",height:"100%",sizeHint:"40vw"})}),_("div",{className:"SozsP H Fb o",children:[L&&I("div",{className:"oStfU",children:I(w,{variant:"supporting-02",color:P(),children:I("div",{className:u("yXcuw o W"),children:D.string("content_widget_sponsored_by_low",{name:N})})})}),I("div",{className:u("JLfla u",{EJdwc:!L}),children:I(w,{variant:"input-01",color:P(),children:I("div",{className:u("HpDFG o W"),children:e})})}),I("div",{className:u("hgAEJ"),children:I(w,{variant:"button-04",color:P(),children:I("div",{className:u("zWvZE Wb"),children:t})})})]})]})})}:{className:u(S,{jQUcx:O}),children:I(g,{href:s,display:"block",theme:"none",target:"_blank",onClick:()=>M(),children:_("section",{ref:J,"aria-label":`${e} ${n} ${t}`,className:u("vEXdk",{IfzFI:O},m({backgroundColor:x}),{giteA:A}),children:[o&&I("div",{className:u("XfIiI Gi H",{iLoaf:A}),children:I(v,{source:o,width:"100%",height:"100%",sizeHint:"30vw"})}),_("div",{className:u("ycgdb H Fb o",{xGwkQ:A}),children:[L&&I("div",{className:u("MHxOK o",{DLhsI:A}),children:I(h,{variant:q||A?"secondary":"primary",children:D.string("content_widget_sponsored_by",{name:N})})}),_("div",{className:u("wbZRt",{BGuiv:A}),children:[I(w,{variant:"title-03",color:P(),children:I("div",{className:u(W),children:e})}),null!=n&&I(w,{variant:"body-01",color:P(),children:I("div",{className:u(W,{"nsvzk o W":A}),children:n})})]}),I("div",{className:"CPUap s",children:I(y,{variant:A||z!==E?A&&z===E?o?$:E:A||q?$:void 0:E,tabIndex:-1,fullWidth:!0,children:t})})]})]})})})},A=({data:e,isHorizon:i,viewportOverride:n})=>{var{localize:t}=c(),{name:r,clickUrl:a,sponsorId:o,sponsorDisplayName:l,photo:s,campaignId:d,campaignType:u}=e;return I(T,{sponsorName:l,titleText:t.string("content_widget_discover_geo",{geo:r}),subtitleText:t.string("content_widget_travelers_like",{geo:r}),ctaText:t.string("content_widget_explore"),image:s||"",clickUrl:a,sponsorId:o,campaignId:d,campaignType:u,backgroundColor:"pinkBackground",isHorizon:i,viewportOverride:n})},L=({data:e,isHorizon:i,viewportOverride:n})=>{var{localize:t}=c(),{title:r,clickUrl:a,sponsorId:o,description:l,sponsorDisplayName:s,photo:d,campaignId:u,campaignType:p}=e;return I(T,{sponsorName:s,titleText:r,subtitleText:l||"",ctaText:t.string("content_widget_view_now"),image:d||"",clickUrl:a,sponsorId:o,campaignId:u,campaignType:p,backgroundColor:"creamBackground",isHorizon:i,viewportOverride:n})},P=({data:e,isHorizon:i,viewportOverride:n})=>{var{localize:t}=c(),{title:r,clickUrl:a,sponsorId:o,description:l,sponsorDisplayName:s,photo:d,campaignId:u,campaignType:p}=e;return I(T,{sponsorName:s,titleText:r,subtitleText:l||"",ctaText:t.string("content_widget_read_now"),image:d||"",clickUrl:a,sponsorId:o,campaignId:u,campaignType:p,backgroundColor:"purple80Background",isHorizon:i,viewportOverride:n})},R=({data:e,isHorizon:i,viewportOverride:n})=>{switch(e.campaignType){case"GEO":return I(N,{data:e,isHorizon:i,viewportOverride:n});case"TRIP":return I(C,{data:e,isHorizon:i,viewportOverride:n});case"ARTICLE":return I(z,{data:e,isHorizon:i,viewportOverride:n});default:return null}};return[()=>{T=q,N=A,C=L,z=P,e({ContentWidget:R,useRandomSponsorshipCampaign:H})},[e=>n=e.useQuery,e=>t=e.useIsMounted,e=>(r=e.useRoute,a=e.usePageviewUid),e=>(o=e.useRef,l=e.useCallback),e=>s=e.useNewRandomContentPrioritizationLogic,e=>c=e.useLocalize,e=>d=e.useViewportCategory,e=>(u=e.default,p=e.isDarkBackgroundColor,m=e.backgroundColor),e=>g=e.default,e=>v=e.default,e=>h=e.default,e=>y=e.default,e=>w=e.default,e=>f=e.useOnVisible,e=>k=e.default,e=>b=e.default,e=>(I=e.jsx,_=e.jsxs)]]},["1mqwhq","1mb2nz","fgwvq1","1o4yt4","1nexzi","17thqz","1ys6v1","gw8uw6","lr6tb6","34bu7w","oz3g7e","jppfwt","1essqv","13btuy","xg719z","1r73jw","121h32"]]);
