(this.$WP=this.$WP||[]).push(["1k2n36",(e,t)=>{"use strict";var i,n,a,l,o,r,d,c,u,s,h,m,g,w,p,v,C,b,I,f,_,y,k,S,P,x,W,M,H,R,A,T,z,L,N,O,B,D,E,$,U,q,G,j,F,V,K,Q,Z,Y,J,X,ee,te,ie,ne,ae,le,oe,re,de,ce,ue,se,he,me,ge,we,pe="Kxegy _R w _Z GA",ve=({locationId:e,albumId:t,client:a,dataStrategy:l,configuration:o,numItemsInRow:r,numRows:c,getSSISContainerDimensions:u,getAlbumPaneDimensions:s,showAlbumPane:h,showCta:m,overlay:g,hideIndicatorDots:w,actionHandler:p,onHeroClick:v,onThumbnailClick:C,Wrapper:b,noContent:I,thinGeoContent:f,children:_,renderMediaWithImageTag:k,getDynamicSizingEnabled:S})=>{var x,E,G,K,Q,Z,Y,J,X,ee,te,ie,ne=i(null),ae=y(),le=$(),oe=a||le,re=l||"a",ce=t||U.ALL_PHOTOS_ALBUM,ue=n((()=>({locationId:e,albumId:ce,client:oe,dataStrategy:re,filter:de,offset:0,limit:20})),[e,ce,oe,re]),[se,he]=N({query:O,variables:ue,pause:!0}),me={locationId:e,configuration:o,client:oe,filter:de},[ge]=W({query:B,variables:me}),{fetching:we,data:ve,error:Ce}=ge,be=(null==ve||null==(x=ve.mediaWindow)||null==(E=x.windowPanes)||null==(G=E[0])||null==(K=G.albums)||null==(Q=K[0])?void 0:Q.totalMediaCount)||0,Ie=null==ve||null==(Z=ve.mediaWindow)||null==(Y=Z.windowPanes)||null==(J=Y[0])||null==(X=J.albums)?void 0:X[0],fe=null==Ie?void 0:Ie.mediaList,_e=(null==Ie?void 0:Ie.albumId)===U.THIN_GEO_PHOTO_ALBUM,ye=M();if(!we&&0===be&&I)return I;var ke=null==ve||null==(ee=ve.mediaWindow)||null==(te=ee.windowPanes)||null==(ie=te[1])?void 0:ie.albums,Se=h&&ke&&ke.map((e=>{var t,i,n,a,l;return{albumId:null==e?void 0:e.albumId,title:null==e?void 0:e.name,count:null==e?void 0:e.totalMediaCount,thumbnail:(i=null==e||null==(t=e.mediaList)?void 0:t[0],n=s(ae),a=null==i?void 0:i.photoSizes,l=a&&H(n.clientWidth,n.clientHeight,a,{getImageBasedOnClientInfo:ye,allowedStretch:0}),j("div",l?{className:pe,style:{backgroundImage:`url(${l.url})`}}:{}))}})),Pe=e=>{var t,i,n;if(we)return null;if(fe&&fe[e])return fe[e];var a,l,o=(a=e,l=Math.floor(a/20),null!=se&&se[l]?null==se?void 0:se[l]:(he({offset:20*l,limit:20}),{fetching:!0,data:null}));return null!=o&&o.fetching?null:null==o||null==(t=o.data)||null==(i=t.mediaAlbumPage)||null==(n=i.mediaList)?void 0:n[e%20]},xe=R(oe),We=A(re),Me=D(ve,Ce),He=F(L,{errorRenderer:()=>F(V,{children:[j(T,{client:xe,approach:We,status:z.RenderError}),j(T,{enabled:!we,client:xe,approach:We,status:Me,decrement:!0})]}),children:[j(P,{itemRenderer:e=>{var t=Pe(e);return t?k?(e=>{var t=u(ae),i=ne.current?{w:ne.current.clientWidth,h:ne.current.clientHeight}:{w:t.clientWidth,h:t.clientHeight},n=e.photoSizes,a=S(n),l=n&&H(i.w,i.h,n,{dynamicSizingEnabled:a,dynamicSource:a?{maxWidth:2400,maxHeight:2400,urlTemplate:e.photoSizes[0].url.replace("w=100","w={width}").replace("h=100","h={height}")}:void 0,getImageBasedOnClientInfo:!0,allowedStretch:0});return l?j("div",{className:"APPMP _O _Z w _C",onClick:()=>{v&&e.mediaId&&e.type&&!_e&&v({id:e.mediaId,type:q(e.type)})},children:j(d,{source:l.url,width:"100%",height:"100%",alt:""})}):j("img",{alt:""})})(t):(e=>{var t=u(ae),i=ne.current?{w:ne.current.clientWidth,h:ne.current.clientHeight}:{w:t.clientWidth,h:t.clientHeight},n=e.photoSizes,a=n&&H(i.w,i.h,n,{getImageBasedOnClientInfo:ye,allowedStretch:0});return a?j(V,{children:j("div",{className:pe,style:{backgroundImage:`url(${a.url})`},onClick:()=>{v&&e.mediaId&&e.type&&!_e&&v({id:e.mediaId,type:q(e.type)})}})}):j("div",{})})(t):null},thumbnailRenderer:e=>{var t=Pe(e);return t?k?(e=>{var t=e.photoSizes,i=S(t),n=t&&H(60,50,t,{getImageBasedOnClientInfo:!0,allowedStretch:0,dynamicSizingEnabled:i,dynamicSource:i?{maxWidth:2400,maxHeight:2400,urlTemplate:e.photoSizes[0].url.replace("w=100","w={width}").replace("h=100","h={height}")}:void 0});return j("div",n?{className:pe,onClick:()=>{C&&C(e.mediaId)},children:j(d,{source:n.url,width:"100%",height:"100%",alt:""})}:{})})(t):(e=>{var t=e.photoSizes,i=t&&H(60,50,t,{getImageBasedOnClientInfo:!0,allowedStretch:0});return i?j(V,{children:j("div",{className:pe,style:{backgroundImage:`url(${i.url})`},onClick:()=>{C&&C(e.mediaId)}})}):j("div",{})})(t):null},totalCount:be,alwaysShowArrows:!0,alwaysShowMobileArrows:!0,hideIndicatorDots:w,wrap:!1,showCta:!_e&&m,overlay:_e?"thinGeoMessaging":g,numItemsInRow:r,numRows:Number(c),setCarouselRef:e=>{ne.current=e},albums:Se||void 0,actionHandler:p,children:_},e),_e&&f,j(T,{enabled:!we,client:xe,approach:We,status:Me})]});return b?j(b,{children:He}):He},Ce=e=>"MOBILE"===e?{clientWidth:415,clientHeight:200}:{clientWidth:620,clientHeight:380},be=e=>{switch(e){case"MOBILE":return{clientWidth:0,clientHeight:0};case"TABLET":return{clientWidth:360,clientHeight:130};default:return{clientWidth:180,clientHeight:260}}},Ie=e=>{if(null==e)return!1;var t=e.map((e=>{var{url:t,width:i,height:n}=e||{};return null!=t&&null!=i&&null!=n?{url:t,width:i,height:n}:null})).filter(Boolean).sort(((e,t)=>e.width*e.height-t.width*t.height)),[i]=t.length>0&&0===t[0].width&&0===t[0].height?t.splice(0,1):[];return null!=i},fe=e=>{switch(e){case"AttractionProductReview":return"AttractionProducts_LocationPhotoAlbum";case"Attraction_Review":return"Attractions_LocationPhotoAlbum";case"Hotel_Review":return"Hotels_LocationPhotoAlbum";case"Restaurant_Review":return"Restaurants_LocationPhotoAlbum";default:return e}},_e=()=>{var{params:{detailId:e=0,geoId:t=0}}=_(),{trackClick:i}=m(),n=`/PostPhotos-g${t}-d${e}`;return F("div",{className:"oLcGR c",children:[j("div",{className:"eocLI",children:j(ie,{variant:"title-02",children:j(ne,{id:"fusion_media_empty_state_title"})})}),j("div",{className:"xPafk",children:j(u,{variant:"secondary",href:n,onClick:()=>i({clientContext:"MediaWindow_UploadPhoto"}),children:j(ne,{id:"sng_upload_a_photo"})})})]})},ye=()=>{var e=le(),t=(null==e?void 0:e.MAIN_H1)||null,{params:{detailId:i=0,geoId:n=0}}=_(),{trackClick:a}=m(),l=`/PostPhotos-g${n}-d${i}`,o=`/UserReview-g${n}-d${i}`;return j("div",{className:"UHzid",children:F(ie,{variant:"title-05",children:[j(ne,{id:"seo_empty_photo_prompt",args:{0:t}}),F("span",{className:"Yzkgq",children:[j(s,{variant:"primary",href:l,onClick:()=>a({clientContext:"MediaWindow_GeoPhotoUpload"}),children:j(ne,{id:"sng_upload_a_photo"})}),j(s,{variant:"primary",href:o,onClick:()=>a({clientContext:"MediaWindow_GeoUserReview"}),marginLeft:"spacing-03",children:j(ne,{id:"hr_write_a_review"})})]})]})})},ke=({model:e,sticky:t=!1})=>{var a,d=y(),u=w(),h="MOBILE"===d,{scrollOffset:g}=Z(),{isStickyHeaderOpen:p}=Y(),P=I(null==e?void 0:e.businessContact),{path:W,params:M,page:H}=_(),R="detailId"in M&&M.detailId||0,A=l((()=>W),[W]),T=String(H),z=X(T),L=b("TTD-22882"),N="AttractionProductReview"===T&&L?"AttractionProductReviewTest":T,O={...ee,...te(N)},B=(null==(a=O.mediaWindowRows)?void 0:a[h?"mobile":"desktop"])||0,[D,E]=o(null),{numberOfReviews:$,averageRating:U}=Q(),{trackClick:q}=m(),{actionHandler:V}=C(),ie=l(((e,t)=>{q({clientContext:e,clientParameter:t})}),[q]),ne=n((()=>{var t,i=null==e||null==(t=e.heroStandardContent)?void 0:t[0];return"WebPresentation_BasicPhotoUpload"===(null==i?void 0:i.__typename)?null:v(i)}),[e]),ae=c(ne,1200,1200);k({image:ae});var le=l((e=>{q({clientContext:"MediaWindow_HeroPhoto"}),E({mediaId:e,albumId:z})}),[z,q]),oe=l((e=>{q({clientContext:"MediaWindow_ThumbnailPhoto"})}),[q]),re=l((()=>{q({clientContext:P.trackingContext})}),[q,P]),de=l((e=>{switch(e.type){case x.albumSelect:q({clientContext:"MediaWindow_AlbumSelect"}),E({albumId:e.albumId});break;case x.photoCountClick:q({clientContext:"MediaWindow_PhotoCountClick"}),E({albumId:z});break;case x.arrowClick:case x.photoSwipe:q({clientContext:"MediaWindow_HeroPhotoSwipe"})}}),[z,q]),he=i(0),[me,ge]=o(0),we=()=>{he.current=0,ge((e=>e+1))},pe=l((e=>{switch(V(e),e.type){case G.albumSelect:case G.fullscreenClose:we();break;case G.galleryItemClicked:e.selectedIndex>=0&&we();break;case G.fullscreenNav:he.current++,5===he.current&&we()}}),[V]),ve=l((()=>{q({clientContext:"MediaViewer_Close"}),E(null)}),[q]),Ce=l((({children:e})=>j("div",{className:"bKoxT f e",children:e})),[]),be=!h&&t?{top:`${p?g:10}px`}:void 0;return F("div",{className:"hsimV",children:[F("div",{className:J("jyaPp",t&&"drnir"),style:be,children:[j(ce,{locationId:R,actionHandler:de,onHeroClick:le,onThumbnailClick:oe,numRows:B,hideIndicatorDots:!1,overlay:h?"countOnly":"visible",...O.mediaWindowParams,Wrapper:Ce,noContent:j(ue,{}),thinGeoContent:j(se,{}),showCta:!0,renderMediaWithImageTag:"attraction"===u}),j(r,{locationId:R})]}),j(S,{locationId:R,initialSettings:D,onClose:ve,routeFragmentIdentifier:"atf",leftRailSlot:()=>j(K,{refreshKey:me.toString(),pageTypeTargeting:fe(T)}),actionHandler:pe,getShareUrlForMedia:A,trackingCallback:ie,businessContact:()=>null!=(null==P?void 0:P.text)&&null!=P.url&&j(s,{variant:"on-dark",leftAlign:!0,href:P.url,showExternalLinkIcon:!0,target:"_blank",onClick:re,children:j(f,{model:P.text})}),numberOfReviews:$,averageRating:U,...O.mediaViewerParams})]})},Se=e=>{if(null!=e&&e.__typename){var t=null,i=null;switch(null==e?void 0:e.__typename){case"WebPresentation_Media":e.data&&(i={id:e.data.id,type:"PHOTO"===e.data.mediaType?"p":"u"},"Media_PhotoResult"===e.data.__typename&&(t=e.data.photoSizeDynamic));break;case"WebPresentation_BasicPhotoWithLink":e.id&&(i={id:e.id,type:"p"}),t=e.photoSizes;break;default:console.error("Unsupported type",e.__typename)}return{source:t,id:i}}},Pe=()=>{var{actionHandler:e}=C(),t=i(0),[a,r]=o(0),d=l((()=>{t.current=0,r((e=>e+1))}),[]),c=l((i=>{switch(e(i),i.type){case G.albumSelect:case G.fullscreenClose:d();break;case G.galleryItemClicked:i.selectedIndex>=0&&d();break;case G.fullscreenNav:t.current++,5===t.current&&d()}}),[e,d]);return n((()=>[a,c]),[a,c])},xe=({model:e})=>{var{heroStandardContent:t,businessContact:i,photoCount:n}=e,a=I(i),{path:r,params:c,page:u}=_(),g="detailId"in c&&c.detailId||0,w=l((()=>r),[r]),p=String(u),v=X(p),C={...ee,...te(p)},[b,y]=o(null),{localize:k}=ae(),{trackClick:P}=m(),W=l(((e,t)=>{P({clientContext:e,clientParameter:t})}),[P]),[M,H]=ge(),R=l((e=>{P({clientContext:"MediaWindow_HeroPhoto"}),y({mediaId:e,albumId:v})}),[v,P]),A=l((()=>{P({clientContext:"MediaWindow_SeeAll"}),y({albumId:v})}),[v,P]),T=l((()=>{P({clientContext:a.trackingContext})}),[P,a]),z=l((()=>{P({clientContext:"MediaViewer_Close"}),y(null)}),[P]),L=l((e=>{switch(e.type){case x.albumSelect:P({clientContext:"MediaWindow_AlbumSelect"}),y({albumId:e.albumId});break;case x.photoCountClick:P({clientContext:"MediaWindow_PhotoCountClick"}),y({albumId:v});break;case x.arrowClick:case x.photoSwipe:P({clientContext:"MediaWindow_HeroPhotoSwipe"})}}),[v,P]),N=null!=t&&n&&t.length<n,O=null==t?void 0:t.filter(Boolean).map(((e,t)=>{var i,{id:n,source:a}={...me(e)};return null!=a&&j("button",{className:"MsVIC _S B- G- w",onClick:()=>R(n),"aria-label":k.string("mobile_tablet_see_all_photos_no_count"),children:j(d,{source:a,width:"100%",aspectRatio:"4:3"})},null!=(i=null==n?void 0:n.id)?i:`item-${t}`)})).filter(Boolean);return O&&0!==O.length?F("div",{className:"_T",children:[j("div",{className:"AEMGn",children:F(oe,{size:"medium",variableHeight:!0,children:[O,N&&j("div",{className:"RhMUW u j",children:j(h,{onClick:A,icon:re,size:"medium",variant:"primary-border",children:j(ne,{id:"mobile_tablet_see_all_photos_no_count"})})})]})}),j("div",{className:"rwnVD",children:j(ce,{locationId:g,actionHandler:L,onHeroClick:R,numRows:0,hideIndicatorDots:!1,overlay:"countOnly",...C.mediaWindowParams,showCta:!0,renderMediaWithImageTag:!0})}),j(S,{locationId:g,initialSettings:b,onClose:z,routeFragmentIdentifier:"atf",leftRailSlot:()=>j(K,{refreshKey:M.toString(),pageTypeTargeting:fe(p)}),actionHandler:H,getShareUrlForMedia:w,trackingCallback:W,businessContact:()=>null!=(null==a?void 0:a.text)&&null!=(null==a?void 0:a.url)&&j(s,{variant:"on-dark",leftAlign:!0,href:a.url,showExternalLinkIcon:!0,target:"_blank",onClick:T,children:j(f,{model:a.text})}),...C.mediaViewerParams})]}):null};return[()=>{de=E(),ve.defaultProps={configuration:"mm",numItemsInRow:10,numRows:2,getSSISContainerDimensions:Ce,getAlbumPaneDimensions:be,overlay:"visible",hideIndicatorDots:!0,getDynamicSizingEnabled:Ie},ce=ve,ue=a(_e),se=a(ye),he=g(ke,{memoize:!0}),me=Se,ge=Pe,we=p(xe),e({PoiHeroShelf:we,PoiHeroStandardWeb:he,getHeroImageInfo:me})},[e=>(i=e.useRef,n=e.useMemo,a=e.memo,l=e.useCallback,o=e.useState),e=>r=e.default,e=>(d=e.default,c=e.useImageSource),e=>(u=e.default,s=e.BorderlessButton,h=e.CircularButton),e=>(m=e.useTracking,g=e.fused,w=e.useContentType,p=e.fusionComponent),e=>v=e.getImageSource,e=>C=e.default,e=>b=e.useShowFeature,e=>I=e.deriveLinkInfoFromExternalLink,e=>f=e.default,e=>_=e.useRoute,e=>y=e.useViewportCategory,e=>k=e.usePageContentAnnotations,e=>S=e.default,e=>(P=e.MediaWindow,x=e.mwActions),e=>W=e.useQuery,e=>M=e.useIsMounted,e=>H=e.getSource,e=>(R=e.getClient,A=e.getApproach,T=e.PrimaryPhotoStatusCounter,z=e.Status),e=>L=e.ErrorBoundary,e=>(N=e.usePaginatedQuery,O=e.windowPageQuery,B=e.windowQuery,D=e.getPrimaryPhotoStatusForWindow),e=>(E=e.getMediaFilterToRetrieveAllPhotos,$=e.useClientName,U=e.AlbumTypes,q=e.validateMediaType,G=e.actions),e=>(j=e.jsx,F=e.jsxs,V=e.Fragment),e=>K=e.default,e=>Q=e.useProductReviewsCount,e=>(Z=e.useSectionScrollContext,Y=e.useStickyHeaderContext),e=>J=e.default,e=>(X=e.getDefaultAlbumId,ee=e.defaultMediaSettings,te=e.getPageMediaSettings),e=>ie=e.default,e=>(ne=e.default,ae=e.useLocalize),e=>le=e.default,e=>oe=e.Carousel,e=>re=e.default]]},["1o4yt4","bw5mmp","34bu7w","jppfwt","rmpbxq","aikxox","vmhwnp","2heyv0","3j2edp","1lg8go","fgwvq1","1ys6v1","1llqsf","ejmcf4","37xlc4","1mqwhq","1mb2nz","76j3t0","tsg6fc","183pm0","cboiod","13w1vr","121h32","1bmouz","wuy6gz","efgdqy","fkji80","1r144n","1essqv","17thqz","6hf0eg","17yaz6","lnxtb7"]]);
