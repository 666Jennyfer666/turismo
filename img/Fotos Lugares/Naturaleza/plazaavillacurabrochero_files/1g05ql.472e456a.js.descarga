(this.$WP=this.$WP||[]).push(["1g05ql",(e,n)=>{"use strict";var t,r,o,u,a,i,c,s,l,h,d,v,f,m,g,T,y,p,b,S,P=()=>null!=g&&g.matches?"DARK":"LIGHT",w=e=>{"removeEventListener"in g?g.removeEventListener("change",e):"removeListener"in g&&g.removeListener(e)},L={__key:0x5d38d9a2ef9c,id:"5d38d9a2ef9c32d279740ba2bd4b3201",loc:{},definitions:[]},O=()=>T,x=(e=!0)=>{var n=d(L);return[T,r((e=>n({themeStore:e})),[n])]},C={};function k(e){return new Promise((function(n,t){e.oncomplete=e.onsuccess=function(){return n(e.result)},e.onabort=e.onerror=function(){return t(e.error)}}))}function A(e,n){var t=indexedDB.open(e);t.onupgradeneeded=function(){return t.result.createObjectStore(n)};var r=k(t);return function(e,t){return r.then((function(r){return t(r.transaction(n,e).objectStore(n))}))}}function I(){return y||(y=A("keyval-store","keyval")),y}function B(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I();return n("readonly",(function(n){return k(n.get(e))}))}function D(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I();return t("readwrite",(function(t){return t.put(n,e),k(t.transaction)}))}function E(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I();return n("readwrite",(function(n){return e.forEach((function(e){return n.put(e[1],e[0])})),k(n.transaction)}))}function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I();return n("readonly",(function(n){return Promise.all(e.map((function(e){return k(n.get(e))})))}))}function M(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I();return t("readwrite",(function(t){return new Promise((function(r,o){t.get(e).onsuccess=function(){try{t.put(n(this.result),e),r(k(t.transaction))}catch(e){o(e)}}}))}))}function W(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I();return n("readwrite",(function(n){return n.delete(e),k(n.transaction)}))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return e("readwrite",(function(e){return e.clear(),k(e.transaction)}))}function _(e,n){return e("readonly",(function(e){return e.openCursor().onsuccess=function(){this.result&&(n(this.result),this.result.continue())},k(e.transaction)}))}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I(),n=[];return _(e,(function(e){return n.push(e.key)})).then((function(){return n}))}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I(),n=[];return _(e,(function(e){return n.push(e.value)})).then((function(){return n}))}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I(),n=[];return _(e,(function(e){return n.push([e.key,e.value])})).then((function(){return n}))}var F="theme",U=()=>p(F).then((e=>{if(null!=e&&"object"==typeof e&&"theme"in e&&"themePreferenceOrAuto"in e){var{theme:n,themePreferenceOrAuto:t}=e;return{theme:n,themePreferenceOrAuto:t}}})).catch((e=>{console.error("Error getting theme from IndexedDB",e)})),V=()=>{var{isWebview:e}=v();return f(),e?{enableTheming:!0,canChangeThemes:!0}:{enableTheming:!1,canChangeThemes:!1}},$="themeChanged",G=({initialThemeStore:e,children:n})=>{var r,d,v,f,{canChangeThemes:T,enableTheming:y}=S(),[p,L]=x(y),[O,C]=t.useState(null!=(r=null==(d=null!=e?e:p)?void 0:d.theme)?r:s),[k,A]=t.useState(null!=(v=null==(f=null!=e?e:p)?void 0:f.themePreferenceOrAuto)?v:l),I=t.useRef((()=>{}));t.useEffect((()=>()=>w(I.current)),[]);var B=t.useCallback(((e,n)=>{var t=y?e:s;A(t);var r=document.body;if(null!=r){var a=o(t);r.classList.remove(...Object.values(u).map(String)),null!=a&&r.classList.add(a)}if(!1!==(null==n?void 0:n.syncToTabs))try{window.localStorage.setItem($,t),window.localStorage.removeItem($)}catch(e){}var i,c=e=>{C(e);var r={theme:e,themePreferenceOrAuto:t};!1!==(null==n?void 0:n.saveToService)&&L(r),!1!==(null==n?void 0:n.saveToIndexedDB)&&(e=>{b(F,e).catch((e=>console.error("Error saving theme to IndexedDB",e)))})(r)};"AUTO"===t?(c(P()),w(I.current),I.current=()=>{c(P())},i=I.current,"addEventListener"in g?g.addEventListener("change",i):"addListener"in g&&g.addListener(i)):(c(t),w(I.current))}),[L,y]),D=t.useCallback((e=>{B(e,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})}),[B]),{serviceWorker:E}=t.useContext(a);t.useEffect((()=>{null!=e?B(e.themePreferenceOrAuto,E?{saveToIndexedDB:!1}:{saveToService:!1}):E?B(l,{saveToIndexedDB:!1,saveToService:!1}):U().then((e=>{null!=e?B(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):B(l,{saveToIndexedDB:!1,saveToService:!1})}))}),[B,E,e]),c("storage",(e=>{var n=e;n.key===$&&null!=n.newValue&&D(n.newValue)}));var j=i();t.useEffect((()=>{y&&j({itemType:"theme",customData:JSON.stringify({theme:O})})}),[y,j,O]);var M=t.useMemo((()=>y?{theme:O,themePreferenceOrAuto:k,canChangeThemes:T,setTheme:B,setThemeLocal:D}:{theme:s,themePreferenceOrAuto:s,canChangeThemes:!1,setTheme:()=>{},setThemeLocal:()=>{}}),[O,k,y,T,B,D]);return m(h,{value:M,children:n})};return[()=>{g=null==globalThis.matchMedia?void 0:globalThis.matchMedia("(prefers-color-scheme: dark)"),Object.defineProperty(C,"__esModule",{value:!0}),C.clear=R,C.createStore=A,C.del=W,C.entries=N,p=C.get=B,C.getMany=j,C.keys=q,C.promisifyRequest=k,b=C.set=D,C.setMany=E,C.update=M,C.values=z,S=V,e({LithiumThemeProvider:G,getInitialThemeStoreForServerSideRenderer:O,getInitialThemeStoreForServiceWorkerRenderer:U})},[e=>(t=e,r=e.useCallback),e=>(o=e.getBodyElementClassName,u=e.themeClassNames),e=>a=e.LithiumBootstrapContext,e=>i=e.default,e=>c=e.useWindow,e=>(s=e.defaultTheme,l=e.defaultThemePreferenceOrAuto,h=e.ThemeProvider),e=>d=e.useStatelessMutation,e=>v=e.useUserAgent,e=>f=e.useLanguage,e=>m=e.jsx]]},["1o4yt4","vpo3wt","p5p2yo","xg719z","ltllz9","1u9jlw","1fbuhs","1nnprh","17thqz","121h32"]]);
