(this.$WP=this.$WP||[]).push(["q7jm9a",(e,o)=>{"use strict";var n,r,t,a,l,u,d,h,i,c=null,s=null,g=()=>{s=null},C=(e,o)=>{var n=new URLSearchParams({phoneNumber:e,region:o});return fetch(`/data/1.0/vr/validatePhoneNumber?${n.toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>e.json())).then((e=>e))},p="setData",v=(e,o)=>{var{type:n,value:r}=o;return n===p?{...e,data:r}:e},m=e=>{var[{data:o},n]=t(v,e);return[o,e=>{n({type:p,value:e})}]},y=(e=!1)=>{var[o,n]=a(!1),[r,t]=a(!1),[u,h]=d({data:[]}),i=e=>{n(!1),h(e.options||[])},C=()=>{n(!1),t(!0)};return l((()=>()=>{e&&g()}),[e]),{data:u,fetching:o,error:r,clearCache:g,fetchCodes:()=>(n(!0),t(!1),new Promise(((e,o)=>{e(s||c||(c=fetch("/data/1.0/vr/countryRegionCodesForPhone",{method:"GET",credentials:"same-origin"}).then((e=>e.json().then((e=>(c=null,s=e,e))).catch((e=>(console.error(e.message),o(e))))))))})).then(i).catch(C))}},P=(e,o)=>{var{data:n,fetchCodes:r,fetching:t,error:a}=h(o),u=e&&e.length?e:n.map((e=>{var o,n;return{regionISOCode:(null==e||null==(o=e.countryValue)?void 0:o.countryRegionCode)||"",regionPhoneCode:(null==e||null==(n=e.countryValue)?void 0:n.countryPhoneCode)||"",label:(null==e?void 0:e.countryCodeDropDownValue)||""}}));return l((()=>{u.length||t||a||r()}),[a,t,u.length,r]),u},f=({value:e,onChange:o,onFocus:t=(()=>{}),onBlur:a=(()=>{}),options:l,hideAutoComplete:d,autoCompleteIdentifier:h,hasError:c,errorText:s})=>{var{phone:g="",countryISOCode:C}=e||{},{localize:p}=n(),v=i(l),m=v.map((({label:e,regionISOCode:o})=>({displayName:e,value:o}))),[y]=v.filter((e=>e.regionISOCode===C)),{regionISOCode:P,regionPhoneCode:f}=y||{};return u(r,{dropdownValue:f?`+${f}`:void 0,dropdownOptions:m,onDropdownChange:e=>{var[n]=v.filter((o=>o.regionISOCode===e)),{regionISOCode:r,regionPhoneCode:t}=n||{};o({phone:g,countryISOCode:r,countryPhoneCode:t})},dropdownPlaceholder:"+1",menuLabel:p.string("createlisting_phone_country_label"),name:"phone-number",value:g,onFocus:t,onBlur:a,onChange:e=>{o({countryISOCode:P,countryPhoneCode:f,phone:e.currentTarget.value})},placeholder:p.string("createlisting_phone_placeholder"),autoComplete:d?"off":h||"on",errorText:c?s:void 0})};return[()=>{d=m,h=y,e({PhoneInput:f,useCountryCodeValues:i=P,validatePhone:C})},[e=>n=e.useLocalize,e=>r=e.TextInput,e=>(t=e.useReducer,a=e.useState,l=e.useEffect),e=>u=e.jsx]]},["17thqz","1u3aio","1o4yt4","121h32"]]);
