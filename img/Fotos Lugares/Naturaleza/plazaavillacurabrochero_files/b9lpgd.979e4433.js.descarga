(this.$WP=this.$WP||[]).push(["b9lpgd",(e,t)=>{"use strict";var i,a,l,s,c,n,o,d,u,r,f,b,v,h,g,p,k,y,S={__key:0xe99ca02f4b3a,id:"e99ca02f4b3aac3736b05f5b8fab0fc7",loc:{},definitions:[]},j=e=>{var t=({variables:t})=>String(t.objectId)===String(e.objectId)&&t.objectType===e.objectType?"invalidateAndRefetch":"validate",[{data:i,fetching:a,error:l}]=p({query:S,variables:{socialObjects:[e]}},{addLikeV2:t,deleteLikeV2:t});return!a&&!l&&i&&i.socialStatistics&&i.socialStatistics.length&&i.socialStatistics[0]||null},_={__key:0x5c3f35360736,id:"5c3f35360736675070515627892f4efc",loc:{},definitions:[]},I={__key:0xd80ef1944285,id:"d80ef1944285523c3c5d6f7bb7a248d7",loc:{},definitions:[]},m=({item:e,socialObject:t,onClick:p})=>{var S,j,[,m]=n(_),[,L]=n(I),T=r(),q=f(),[O]=i(d),w=h(),x=b(),[C,M]=a(null),P=l((()=>t||{objectType:g[e.__typename],objectId:String(e.id)}),[t,e]),U=(null==(S=e.socialStatistics)?void 0:S.isLiked)||!1,z=(null==(j=e.socialStatistics)?void 0:j.likeCount)||0,A=y(P);s((()=>{M(null)}),[A]);var E=o(U,(A||{}).isLiked),N=o(z,(A||{}).likeCount),R=c((()=>!0===E?L(P):m(P)),[E=null===C?E:C,P,L,m]),V=c((()=>e=>{var t;"NO_PERMISSION"===(null==(t=e.addLike)?void 0:t.statusType)&&O({node:k(u,{children:k(v,{id:"social_no_permission"})}),timeout:8e3})}),[O]);return[c((()=>{x({flowOrigin:"login",pid:40469}).then((()=>{p&&p();var e={actorUserId:q,uid:T};w({UgcDetail:!0===E?{unhelpful:e}:{helpful:e}}),M(!E)})).then(R).then(V)}),[E,M,R,V,x,w,p,q,T]),!0===E,N||0]};return[()=>{y=j,e("useLikeAction",m)},[e=>(i=e.useContext,a=e.useState,l=e.useMemo,s=e.useEffect,c=e.useCallback),e=>n=e.useMutation,e=>o=e.default,e=>(d=e.Toast,u=e.ToastItem),e=>r=e.usePageviewUid,e=>f=e.useUserId,e=>b=e.default,e=>v=e.default,e=>h=e.useInteractionLogger,e=>g=e.SocialObjectTypeMap,e=>p=e.useInvalidatableQuery,e=>k=e.jsx]]},["1o4yt4","1mqwhq","fbyv8z","tr3542","fgwvq1","52far5","lchj5q","17thqz","32pwc7","1nev0g","1fbuhs","121h32"]]);
