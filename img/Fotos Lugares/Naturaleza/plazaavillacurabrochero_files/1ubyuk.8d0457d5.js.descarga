(this.$WP=this.$WP||[]).push(["1ubyuk",(e,i)=>{"use strict";var n,t,r,a,o,l,s,c,d,u,p,m,v,g,h,y,w,b,f,k,I,_,T,N,z,C,x,O={__key:21141499094481,id:"133a638b25d10ae02c878080670c2b16",loc:{},definitions:[]},U={__key:0xe2d10c582155,id:"e2d10c5821558d9eb8d4a2b752a139e3",loc:{},definitions:[]},D={__key:0xff54c874f65d,id:"ff54c874f65df7eb578d22e01adc4211",loc:{},definitions:[]},H=e=>{var i,n=Array.isArray(null==e?void 0:e.response)?null==e||null==(i=e.response)?void 0:i[0]:null==e?void 0:e.response;if(!n||!n.content)return null;var{campaignId:t=null,sponsorId:r=null,sponsorDisplayName:a=null,content:o=null}=n,l={campaignId:t,sponsorId:r,sponsorDisplayName:a};switch(o.__typename){case"SponsorshipManager_ArticleContent":return((e,i)=>{var n,t,r,a,o;if(!i||!i.title||null==(n=i.route)||!n.url)return null;var{title:l,content:s,route:{url:c}}=i,d=null!=s&&"__typename"in s&&"RichContent_SlateJsContent"===(null==s?void 0:s.__typename)?s:null;return{...e,campaignType:"ARTICLE",title:l,description:(null==d||null==(t=d.seoInfo)?void 0:t.metaDescription)||null,authors:(null==d||null==(r=d.authors)?void 0:r.map((e=>{var i;return null==e||null==(i=e.author)?void 0:i.name})).join(", "))||null,clickUrl:c,photo:(null==d||null==(a=d.thumbnail)||null==(o=a.photo)?void 0:o.photoSizeDynamic)||null}})(l,o.articleContent);case"SponsorshipManager_GeoContent":return((e,i)=>{if(!i||!i.url)return null;var{url:n,thumbnail:t,locationV2:r}=i,a=(null==r?void 0:r.names)||null;return a&&a.name?{...e,campaignType:"GEO",name:a.name,stateAndCountryOrEquivalent:a.stateAndCountryOrEquivalent,clickUrl:n,photo:(null==t?void 0:t.photoSizeDynamic)||null}:null})(l,o.geoContent);case"SponsorshipManager_TripContent":return((e,i)=>{var n,t;if(!i||null==(n=i.route)||!n.url||!i.title)return null;var{title:r,description:a,photo:o,route:{url:l},owner:s}=i,c=null!=o&&"photoSizeDynamic"in o?null==o?void 0:o.photoSizeDynamic:null;return{...e,campaignType:"TRIP",title:r,description:a,ownerDisplayName:(null==s||null==(t=s.profile)?void 0:t.displayName)||null,clickUrl:l,photo:c}})(l,o.tripContent);default:return null}},S=(e,i)=>{var a=s(),l=1===a||2===a,c=t(),d=o(Date.now().toString()),u=!c||e||!1,p=r(),{params:m}=p,v="geoId"in m&&m.geoId||0,g=[i||v,"detailId"in m&&m.detailId||0].filter((e=>0!==e)),[{data:h}]=n({query:O,variables:{locationIds:g},pause:1!==a||u||0===(null==g?void 0:g.length)});1===a&&((null==h?void 0:h.locations)||[]).forEach((e=>{var i,n,t=null==e||null==(i=e.parents)||null==(n=i[0])?void 0:n.locationId;null!=t&&(null==g||g.push(t))}));var y=l?{request:{locationIds:g,timestamp:d.current}}:{request:d.current},[{data:w,fetching:b}]=n({query:l?D:U,variables:y,pause:u});return{fetching:b,randomSponsorshipCampaign:H(w)}},W="Qbkpw",E="cmfsL o W",L="MOBILE",$="plus",q="on-dark",A=({titleText:e,campaignId:i,subtitleText:n="",ctaText:t,image:s,clickUrl:N,sponsorId:z=0,sponsorName:C="",campaignType:x="",buttonVariant:O=q,backgroundColor:U="plusBackground",isHorizon:D=!1,viewportOverride:H})=>{var{page:S}=r(),{localize:A}=c(),R=a(),P=k(),G=f(),j=d(),B=p(U),J=o(null),{width:M}=I.useElementRect(J,2e3),Q=((void 0!==M&&!D&&M<550?L:void 0)||H||j)===L,V=124!==z,F=()=>Q&&D?"onLightText":B||Q?"onDarkText":void 0,X=b((()=>{G({itemType:`ContentWidget${x}`,itemGroup:"ContentWidget",itemName:C,itemId:`${i}`,customData:JSON.stringify({campaignType:x,clickUrl:N,sponsorId:z}),team:"TAPS",page:S,pageUid:R})})),Z=l((()=>{P({itemType:`ContentWidget${x}Click`,itemGroup:"ContentWidget",itemId:`${i}`,itemName:C,customData:JSON.stringify({campaignType:x,clickUrl:N,sponsorId:z}),page:S,team:"TAPS",actionType:"click",pageUid:R})}),[i,x,N,P,S,R,z,C]);return _("div",Q&&D?{className:W,children:_(v,{href:N,display:"block",theme:"none",target:"_blank",onClick:()=>Z(),children:T("section",{ref:X,"aria-label":`${e} ${n} ${t}`,className:u("yWTQN",m({backgroundColor:U})),children:[s&&_("div",{className:u("mOZIw _U"),children:_(g,{source:s,width:"100%",height:"100%",sizeHint:"40vw"})}),T("div",{className:"SozsP H Fb o",children:[V&&_("div",{className:"oStfU",children:_(w,{variant:"supporting-02",color:F(),children:_("div",{className:u("yXcuw o W"),children:A.string("content_widget_sponsored_by_low",{name:C})})})}),_("div",{className:u("JLfla u",{EJdwc:!V}),children:_(w,{variant:"input-01",color:F(),children:_("div",{className:u("HpDFG o W"),children:e})})}),_("div",{className:u("hgAEJ"),children:_(w,{variant:"button-04",color:F(),children:_("div",{className:u("zWvZE Wb"),children:t})})})]})]})})}:{ref:J,className:u(W,{jQUcx:D}),children:_(v,{href:N,display:"block",theme:"none",target:"_blank",onClick:()=>Z(),children:T("section",{ref:X,"aria-label":`${e} ${n} ${t}`,className:u("vEXdk",{IfzFI:D},m({backgroundColor:U}),{giteA:Q}),children:[s&&_("div",{className:u("XfIiI Gi H",{iLoaf:Q}),children:_(g,{source:s,width:"100%",height:"100%",sizeHint:"30vw"})}),T("div",{className:u("ycgdb H Fb o",{xGwkQ:Q}),children:[V&&_("div",{className:u("MHxOK o",{DLhsI:Q}),children:_(h,{variant:B||Q?"secondary":"primary",children:A.string("content_widget_sponsored_by",{name:C})})}),T("div",{className:u("wbZRt",{BGuiv:Q,OLLkV:V}),children:[_(w,{variant:"title-03",color:F(),children:_("div",{className:u(E),children:e})}),null!=n&&_(w,{variant:"body-01",color:F(),children:_("div",{className:u(E,{"nsvzk o W":Q}),children:n})})]}),_("div",{className:"CPUap s",children:_(y,{variant:Q||O!==$?Q&&O===$?s?q:$:Q||B?q:void 0:$,tabIndex:-1,fullWidth:!0,children:t})})]})]})})})},R=({data:e,isHorizon:i,viewportOverride:n})=>{var{localize:t}=c(),{name:r,clickUrl:a,sponsorId:o,sponsorDisplayName:l,photo:s,campaignId:d,campaignType:u}=e;return _(N,{sponsorName:l,titleText:t.string("content_widget_discover_geo",{geo:r}),subtitleText:t.string("content_widget_travelers_like",{geo:r}),ctaText:t.string("content_widget_explore"),image:s||"",clickUrl:a,sponsorId:o,campaignId:d,campaignType:u,backgroundColor:"pinkBackground",isHorizon:i,viewportOverride:n})},P=({data:e,isHorizon:i,viewportOverride:n})=>{var{localize:t}=c(),{title:r,clickUrl:a,sponsorId:o,description:l,sponsorDisplayName:s,photo:d,campaignId:u,campaignType:p}=e;return _(N,{sponsorName:s,titleText:r,subtitleText:l||"",ctaText:t.string("content_widget_view_now"),image:d||"",clickUrl:a,sponsorId:o,campaignId:u,campaignType:p,backgroundColor:"creamBackground",isHorizon:i,viewportOverride:n})},G=({data:e,isHorizon:i,viewportOverride:n})=>{var{localize:t}=c(),{title:r,clickUrl:a,sponsorId:o,description:l,sponsorDisplayName:s,photo:d,campaignId:u,campaignType:p}=e;return _(N,{sponsorName:s,titleText:r,subtitleText:l||"",ctaText:t.string("content_widget_read_now"),image:d||"",clickUrl:a,sponsorId:o,campaignId:u,campaignType:p,backgroundColor:"purple80Background",isHorizon:i,viewportOverride:n})},j=({data:e,isHorizon:i,viewportOverride:n})=>{switch(e.campaignType){case"GEO":return _(z,{data:e,isHorizon:i,viewportOverride:n});case"TRIP":return _(C,{data:e,isHorizon:i,viewportOverride:n});case"ARTICLE":return _(x,{data:e,isHorizon:i,viewportOverride:n});default:return null}};return[()=>{N=A,z=R,C=P,x=G,e({ContentWidget:j,useRandomSponsorshipCampaign:S})},[e=>n=e.useQuery,e=>t=e.useIsMounted,e=>(r=e.useRoute,a=e.usePageviewUid),e=>(o=e.useRef,l=e.useCallback),e=>s=e.useNewRandomContentPrioritizationLogic,e=>c=e.useLocalize,e=>d=e.useViewportCategory,e=>(u=e.default,p=e.isDarkBackgroundColor,m=e.backgroundColor),e=>v=e.default,e=>g=e.default,e=>h=e.default,e=>y=e.default,e=>w=e.default,e=>b=e.useOnVisible,e=>f=e.default,e=>k=e.default,e=>I=e.ElementSizeObserver,e=>(_=e.jsx,T=e.jsxs)]]},["1mqwhq","1mb2nz","fgwvq1","1o4yt4","1nexzi","17thqz","1ys6v1","gw8uw6","lr6tb6","34bu7w","oz3g7e","jppfwt","1essqv","13btuy","xg719z","1r73jw","j8mzb2","121h32"]]);
