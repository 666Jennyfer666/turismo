(this.$WP=this.$WP||[]).push(["gugp1d",(e,r)=>{"use strict";var a,l,t,u,n,s,i,v,o,d,p={__key:0xcbaf2ab926a0,id:"cbaf2ab926a0cb4b47012023d0db2bac",loc:{},definitions:[]},b=(e,r)=>{var l,t,u,[{data:n,fetching:s}]=a({query:p,variables:e,pause:0===e.experimentKeys.length||r});return s?null:(null==n||null==(l=n.AbTesting_evaluateTests)||null==(t=l[0])||null==(u=t.testResults)?void 0:u.reduce(((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:r.bucket}:e),{}))||{}},m=e=>{var r=r=>{var a=s(e),t=l.useContext(i),n=l.useMemo((()=>null!==a?{...t,...a}:t),[a,t]);return u(i.Provider,{value:n,children:r.children})};return l.memo(r)},c=({userId:e,experimentKeys:r,children:a})=>{var t=s({experimentKeys:r,userId:e}),n=l.useContext(i),v=l.useMemo((()=>null!==t?{...n,...t}:n),[t,n]);return u(i.Provider,{value:v,children:a})},V=e=>{var r=l.useContext(i);return l.useMemo((()=>e.reduce(((e,a)=>({...e,[a]:r[a]})),{})),[e,r])},y=e=>{var{page:r}=n();return t((()=>Object.keys(e).map((e=>e)).filter((a=>{var{routes:l}=e[a];return"object"==typeof l?l.some((e=>e.page===r)):"*"===l}))),[r,e])},g=e=>{var[r,a]=l.useState(!0),t=l.useContext(o);s({experimentKeys:[e]},r);var u=t[e],n=l.useCallback((()=>{null!=u&&a(!1)}),[a,u]);return l.useMemo((()=>[u||null,n]),[u,n])},h=({children:e,deferredImpressionExperiments:r})=>{var a=v(r),t=s({experimentKeys:a,skipImpression:!0}),n=l.useMemo((()=>null!=t?t:{}),[t]);return u(o.Provider,{value:n,children:e})},x=({children:e,experiments:r,deferredImpressionExperiments:a})=>{var l=v(r);return u(c,{experimentKeys:l,children:u(d,{deferredImpressionExperiments:a,children:e})})},f={__key:80079938137729,id:"48d510442e81516b543a39a73faa90c2",loc:{},definitions:[]},_=(e,r)=>{var l,t,u,[{data:n,fetching:s}]=a({query:f,variables:e,pause:0===e.experimentKeys.length||r});return s?null:(null==n||null==(l=n.AbTesting_evaluateTests)||null==(t=l[0])||null==(u=t.testResults)?void 0:u.reduce(((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:r.bucket}:e),{}))||{}},T=(e,r)=>{var l,t,u,[{data:n,fetching:s}]=a({query:p,variables:{...e,fetchVariables:!0},pause:0===e.experimentKeys.length||r});return s?null:(null==n||null==(l=n.AbTesting_evaluateTests)||null==(t=l[0])||null==(u=t.testResults)?void 0:u.reduce(((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:{bucket:r.bucket,variables:void 0!==r.variables?A(r.variables):{}}}:e),{}))||{}},A=e=>(null==e?void 0:e.reduce(((e,r)=>{var a;return null!=r&&null!=(a=r.varValue)&&a.__typename&&null!=r&&r.varName?{...e,[r.varName]:K(r)}:e}),{}))||{},K=e=>{var r,a,l,t,u,n={type:"null",value:null};if("AbTesting_BooleanVarValue"===(null==e||null==(r=e.varValue)?void 0:r.__typename))return null!==e.varValue.varValueBool?{type:"boolean",value:e.varValue.varValueBool}:n;if("AbTesting_DoubleVarValue"===(null==e||null==(a=e.varValue)?void 0:a.__typename))return null!==e.varValue.varValueDouble?{type:"double",value:e.varValue.varValueDouble}:n;if("AbTesting_IntegerVarValue"===(null==e||null==(l=e.varValue)?void 0:l.__typename))return null!==e.varValue.varValueInteger?{type:"integer",value:e.varValue.varValueInteger}:n;if("AbTesting_JsonVarValue"!==(null==e||null==(t=e.varValue)?void 0:t.__typename))return"AbTesting_StringVarValue"===(null==e||null==(u=e.varValue)?void 0:u.__typename)?null!==e.varValue.varValueStr?{type:"string",value:e.varValue.varValueStr}:n:(console.error(`useAbTestWithVariables hook got an unsupported variable type for variable ${e.varName}. Please update ab-testing version in services.js and add support for new types`),{type:"unsupported"});if(null===e.varValue.varValueJson)return n;try{return{type:"json",value:JSON.parse(e.varValue.varValueJson)}}catch(r){return console.error(`useAbTestWithVariables received variable ${e.varName} with invalid JSON string: ${e.varValue.varValueJson}`),n}};return[()=>{s=b,i=l.createContext({}),v=y,o=l.createContext({}),d=l.memo(h),e({AbTestContext:i,AbTestProvider:c,AbTestingWithDeferredImpressionsProvider:l.memo(x),createAbTestContext:m,default:s,useAbTestContext:V,useAbTestWithSegments:_,useAbTestWithVariables:T,useExperimentWithDeferredImpression:g})},[e=>a=e.useQuery,e=>(l=e,t=e.useMemo),e=>u=e.jsx,e=>n=e.useRoute]]},["1mqwhq","1o4yt4","121h32","fgwvq1"]]);
