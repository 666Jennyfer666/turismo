(this.$WP=this.$WP||[]).push(["1k7dpq",(e,s)=>{"use strict";var t,i,o,r,n,a,c,l,d,u,v,p,w,S={tripId:0},C={__key:0xa83a4bcee22c,id:"a83a4bcee22c4b5195e55911b4ff5e57",loc:{},definitions:[]},m={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},h=e=>e&&m[e]?m[e].toUpperCase():void 0,k=e=>e&&(h(e)||h(e.replace(/^Mobile/,""))),R=({source:e,pageAsContext:s,saveObject:n,trackingContext:a,withSaveSession:c,withOrganizeSession:l})=>{var{page:u}=o(),{sessionUuid:w,sessionOrder:S,incrementOrder:m}=t.useContext(d),{sessionUuid:h,sessionOrder:R,incrementOrder:f}=t.useContext(v),O=t.useContext(r).impressionId||"",g=a||s&&u||void 0,{id:x,type:U}=n||{},{tripId:H}=t.useContext(p),T=t.useMemo((()=>({detailId:x?`${x}`:void 0,saveType:U,tripId:H})),[x,U,H]),A=t.useMemo((()=>c?{sessionType:"SAVE",sessionUuid:w,sessionOrder:S}:l?{sessionType:"ORGANIZE",sessionUuid:h,sessionOrder:R}:null),[R,h,S,w,l,c]),[,L]=i(C);return[t.useCallback(((s,t)=>{var i;c?m():l&&f();var o=T;t&&(o={detailId:`${t.id}`,saveType:t.type});var r,n,a=window.location.pathname,d="Unknown"===g?(null==(i=a.match(/^\/([a-zA-Z0-9_]+)/))?void 0:i[1])||"Home":g,u={elementClick:s.elementClick&&{puid:O,...o,context:d,...A,...s.elementClick},filterClick:s.filterClick&&{puid:O,...s.filterClick},modalSuccess:s.modalSuccess&&{puid:O,...T,context:d,...A,...s.modalSuccess},overflowClick:s.overflowClick&&{puid:O,...s.overflowClick,...A},overflowSuccess:s.overflowSuccess&&{puid:O,...A,...T,...s.overflowSuccess},linkReferenceClick:s.linkReferenceClick&&{puid:O,...s.linkReferenceClick}};return L({interaction:{[e]:(r=u,n=r,["elementClick","modalSuccess"].forEach((e=>{n[e]&&n[e].context&&(n[e].context=k(n[e].context)||null),n[e]&&n[e].saveType&&(n[e].saveType=n[e].saveType.toUpperCase()),n[e]&&n[e].action&&(n[e].action=n[e].action.toUpperCase())})),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach((e=>{n[e]&&n[e].element&&(n[e].element=n[e].element.toUpperCase())})),["modalSuccess"].forEach((e=>{n[e]&&n[e].fields&&(n[e].fields=n[e].fields.map((e=>e.toUpperCase())))})),n)}})}),[c,l,O,T,g,A,L,e,m,f]),O]},f=({children:e,source:s,pageAsContext:t,saveObject:i,trackingContext:o,withSaveSession:r,withOrganizeSession:n})=>{var[l,d]=R({source:s,pageAsContext:t,saveObject:i,trackingContext:o,withSaveSession:r,withOrganizeSession:n});return a(c,{children:e(l,d)})},O=()=>{var[e,s]=t.useState({sessionUuid:n(),sessionOrder:0});return t.useMemo((()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>s((e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1}))),resetSession:()=>s({sessionUuid:n(),sessionOrder:0})})),[e])},g=({children:e})=>{var s=w();return a(d.Provider,{value:s,children:e})},x=({children:e})=>{var s=w();return a(v.Provider,{value:s,children:e})};return[()=>{l={sessionUuid:n(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},d=t.createContext(l),u={sessionUuid:n(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},v=t.createContext(u),p=t.createContext(S),f.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},w=O,e({LogInteractionMutation:C,OrganizeSessionProvider:x,OrganizeSessionTrackingContext:v,SaveSessionProvider:g,SaveSessionTrackingContext:d,SponsorshipTrackingContext:p,TripInteraction:f,getInteractionsContext:k,useTripInteraction:R})},[e=>t=e,e=>i=e.useMutation,e=>o=e.useRoute,e=>r=e.TripTrackingImpression,e=>n=e.uuid,e=>(a=e.jsx,c=e.Fragment)]]},["1o4yt4","1mqwhq","fgwvq1","665v5s","1eww82","121h32"]]);
