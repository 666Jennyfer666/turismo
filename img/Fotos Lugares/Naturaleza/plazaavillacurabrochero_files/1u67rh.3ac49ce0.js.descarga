(this.$WP=this.$WP||[]).push(["1u67rh",(n,a)=>{"use strict";var e,i,s,t,o,r,p,m,c,l=(n,a)=>{var e;if((n.width||0)<1||(n.height||0)<1)return console.error(`StaticMapSnapshot - Width (${n.width}) and height (${n.height}) params must be positive values`),null;if(n.zoom&&(n.zoom<1||n.zoom>19))return console.error(`StaticMapSnapshot - Zoom (${n.zoom}) must be between 1 and 19.`),null;var i,s,t={center:[n.center.lat,n.center.lng].join(","),width:n.width,height:n.height,zoom:n.zoom,geoId:n.geoId,servletName:n.servlet,scale:n.scale,forceMapProvider:n.forceMapProvider,mapId:n.mapId},o=(i=t,s=[],Object.keys(i).forEach((n=>{var a=i[n];if(null!=a){var e=a.toString();s.push([encodeURIComponent(n),encodeURIComponent(e)].join("="))}})),s.join("&"));return null!=(e=n.markers)&&e.length&&(o+=`&${(n=>{var a={},e={};return n&&n.length?(n.forEach((n=>{if(n){var i=n.iconUrl,{scale:s}=n,t=[n.position.lat,n.position.lng];a[i]?a[i].push(t):a[i]=[t],e[i]=s?`scale:${s}|`:""}})),Object.keys(a).map((n=>`markers=${n}|${e[n]}${a[n].join("|")}`)).join("&")):""})(n.markers)}`),n.useImageTag&&(o+=`&redirectKey=${a}`),`/data/1.0/maps/staticmap?${o}`},_=n=>{var[a,_]=e(null),g=p(),u=r(),h=o(),v=l(n,u),[d,P]=e(v),f=i(m((n=>P(l(n,u))),100),[u]),A=s(null);return t((()=>{n.useImageTag&&f(n)}),[n,f]),t((()=>{if(!n.useImageTag&&v){var a=setTimeout((()=>{var n=fetch(v,{credentials:"same-origin"});A.current=n,n.then((n=>n.json())).then((a=>{n===A.current&&(_(a.url),h({module:"staticmap",action:"load",context:a.mapProvider}))})).catch((a=>{n===A.current&&(_(null),h({module:"staticmap",action:"failed",context:v}),console.error("Error loading snapshot",a))}))}),100);return()=>{clearTimeout(a)}}}),[n.useImageTag,v,h]),t((()=>{n.useImageTag&&d&&h({module:"staticmap",action:"load",context:"zh-Hans"===g?"STATIC_MAP_AUTONAVI":"STATIC_MAP_GOOGLE"})}),[n.useImageTag,d,g,h]),n.useImageTag&&d?c("img",{"data-test-target":"staticMapSnapshot",alt:n.alt,className:n.imgClassName,src:d}):c("span",{"data-test-target":"staticMapSnapshot",children:a&&c("img",{alt:n.alt,className:n.imgClassName,src:a})})},g={imgClassName:null,alt:"",scale:1,zoom:13,forceMapProvider:null,markers:[]},u={attractionPin:"img2/maps/icons/component_map_pins_v1/A_Pin_Small.png",miniAttractionPin:"img2/maps/icons/component_map_pins_v1/A_Pin_xs.png",anchorAttractionPin:"img2/maps/icons/responsive_map_pins_v2/AR_Anchor_pin.png",hotelPin:"img2/maps/icons/component_map_pins_v1/H_Pin_Small.png",miniHotelPin:"img2/maps/icons/component_map_pins_v1/H_Pin_xs.png",anchorHotelPin:"img2/maps/icons/responsive_map_pins_v2/H_Anchor_pin.png",restaurantPin:"img2/maps/icons/component_map_pins_v1/R_Pin_Small.png",miniRestaurantPin:"img2/maps/icons/component_map_pins_v1/R_Pin_xs.png",anchorRestaurantPin:"img2/maps/icons/responsive_map_pins_v2/R_Anchor_pin.png",rentalPin:"img2/maps/icons/responsive_map_pins_v1/VR_green_pin.png",anchorRentalPin:"img2/maps/icons/responsive_map_pins_v2/VR_Anchor_pin.png",carPin:"img2/maps/icons/component_map_pins_v1/C_Pin_Small.png",miniCarPin:"img2/maps/icons/component_map_pins_v1/C_Pin_xs.png",anchorCarPin:"img2/maps/icons/responsive_map_pins_v2/C_Anchor_pin.png"};return[()=>{_.defaultProps=g,n({SnapshotAssetCatalogue:u,default:_})},[n=>(e=n.useState,i=n.useCallback,s=n.useRef,t=n.useEffect),n=>o=n.useGARecorder,n=>r=n.useSecurityToken,n=>p=n.useLocale,n=>m=n.default,n=>c=n.jsx]]},["1o4yt4","32pwc7","ahlu9q","17thqz","dsbyen","121h32"]]);
