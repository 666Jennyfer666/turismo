(this.$WP=this.$WP||[]).push(["ejmcf4",(e,r)=>{"use strict";var a,t,l,i,n,o,d,u,s,c,g,m,I,b,y,p,O,v,C,S,h,f=({businessContact:e,mobileOffer:r,desktopOffer:a,adSlot:l,albumId:i,categoryId:n,typeId:o,mediaId:d,referenceMediaId:u,locationId:s,locationName:c,secondaryTitleContent:g,actionHandler:m,enablePopupFooter:I,hideMASQuickAlbums:b,disableControls:S,getShareUrlForMedia:h,galleryRenderer:f,fullscreenRenderer:k,sort:R,customMobileButtonMenus:A,quickAlbumsConfiguration:M,queryClientOverride:E,heroDataStrategyOverride:T,pageDataStrategyOverride:L,trackingCallback:q})=>O(p,{children:O(t,{children:O(y,{mobileRenderer:()=>O(C,{businessContact:e,offer:r,actionHandler:m,categoryId:n,albumId:i,typeId:o,mediaId:d,referenceMediaId:u,locationId:s,locationName:c,getShareUrlForMedia:h,scrollHideCommerce:I,skipQuickAlbums:b,disableControls:S,customButtonMenus:A,galleryRendererOverride:f,fullscreenRendererOverride:k,sort:R,quickAlbumsConfiguration:M,queryClientOverride:E,heroDataStrategyOverride:T,pageDataStrategyOverride:L,trackingCallback:q}),desktopRenderer:()=>O(v,{businessContact:e,offer:a,adSlot:l,actionHandler:m,categoryId:n,albumId:i,typeId:o,mediaId:d,referenceMediaId:u,locationId:s,locationName:c,secondaryTitleContent:g,getShareUrlForMedia:h,skipQuickAlbums:b,disableControls:S,galleryRendererOverride:f,fullscreenRendererOverride:k,sort:R,quickAlbumsConfiguration:M,queryClientOverride:E,heroDataStrategyOverride:T,pageDataStrategyOverride:L,trackingCallback:q})})})}),k={__key:0x74c106466555,id:"74c1064665550e03a6066eb316ca0a97",loc:{},definitions:[]},R=e=>{var r=(null==e?void 0:e.albumId)||m;return g({albumId:r,mediaId:null==e?void 0:e.mediaId,categoryId:r})},A=e=>{var{locationId:r,initialSettings:a,hideHeaderControls:t,hideMASQuickAlbums:l,mobilePortraitFooterSlot:g,enablePopupAnimationMobilePortraitFooter:m,mobileLandscapeHeaderSlot:y,desktopHeaderRightSlot:p,businessContact:v,leftRailSlot:C,onClose:f,actionHandler:A,getShareUrlForMedia:M,galleryRenderer:E,fullscreenRenderer:T,customMobileButtonMenus:L,routeFragmentIdentifier:q,queryClientOverride:w,heroDataStrategyOverride:D,pageDataStrategyOverride:F,quickAlbumsConfiguration:N,trackingCallback:_,numberOfReviews:H,averageRating:U}=e,[B,P]=i({isOpen:!1,shouldToggle:!1,lock:!1,hasOpened:!1}),G=n(((e,r)=>{try{null==A||A(r)}catch(e){r.type}switch(r.type){case"ROUTE_NAVIGATE":return{...r.newState,sort:e.sort};case"ALBUM":return{...e,albumId:r.albumId,typeId:s(),categoryId:r.categoryId?r.categoryId:r.albumId,mediaId:null};case"FULLSCREEN_NAV":case"GALLERY_CLICK":return r.newMedia.media?{...e,mediaId:{id:r.newMedia.media.mediaId,type:r.newMedia.media.type}}:e;case"FULLSCREEN_CLOSE":case"INVALIDATE_REFERENCE_MEDIA":return{...e,mediaId:null};case"CATEGORY_CHANGE":return{...e,categoryId:r.categoryId};case"SOURCE_CHANGE":return{...e,typeId:r.typeId};case"SORT":return{...e,sort:r.sort};case"CLOSE":return P((e=>e.isOpen?{...e,isOpen:!0,shouldToggle:!0}:e)),e;case"ERROR":return h;default:return e}}),[A]),[Q,j]=o(G,R(a)),V=null!=q,{clearFragment:W,initialRouteState:x}=I(r,V&&B.isOpen?Q:null,q,j);d((()=>{a&&!B.isOpen&&(j({type:c.routeNavigate,newState:R(a)}),P((e=>({...e,isOpen:!1,shouldToggle:!0}))))}),[a,P,B]),d((()=>{!V||!x||a||B.isOpen||B.hasOpened||B.lock||(j({type:c.routeNavigate,newState:x}),P((e=>({...e,isOpen:!1,shouldToggle:!0}))))}),[V,x,a,B,P]),d((()=>{B.shouldToggle&&(B.isOpen&&B.lock?P((e=>({...e,isOpen:!1,shouldToggle:!1,lock:!1}))):B.isOpen||B.lock||P({isOpen:!0,shouldToggle:!1,lock:!0,hasOpened:!0}))}),[B,P]),d((()=>{B.isOpen&&B.shouldToggle&&(V&&W(),f&&f())}),[B,f,V,W]);var Y=e=>e&&y?y():!e&&g?g():null;if(!B.isOpen)return null;var $=(null==a?void 0:a.albumId)||(null==x?void 0:x.albumId),z=(null==a?void 0:a.mediaId)||(null==x?void 0:x.mediaId);return O(u,{query:k,variables:{locationId:r},children:({data:e})=>{var a,i,n,o,d=null==e||null==(a=e.locations)||null==(i=a[0])?void 0:i.name,u=null==e||null==(n=e.locations)||null==(o=n[0])?void 0:o.reviewSummary,s=null!=U?U:null==u?void 0:u.rating,c=null!=H?H:null==u?void 0:u.count,I=s&&s>=0&&c&&c>0;return O(S,{enablePopupFooter:m,businessContact:v,mobileOffer:(y||g)&&Y,desktopOffer:p,adSlot:C,albumId:Q.albumId,categoryId:Q.categoryId,typeId:Q.typeId,mediaId:Q.mediaId,referenceMediaId:Q.albumId===$?z:null,locationId:r,locationName:d,secondaryTitleContent:u&&I?O(b,{rating:U||u.rating||0,numReviews:H||u.count||0}):void 0,actionHandler:j,hideMASQuickAlbums:l,disableControls:t,getShareUrlForMedia:M,galleryRenderer:E,fullscreenRenderer:T,sort:Q.sort,customMobileButtonMenus:L,quickAlbumsConfiguration:N,queryClientOverride:w,heroDataStrategyOverride:D,pageDataStrategyOverride:F,trackingCallback:_})}})};return[()=>{v=l((()=>r("1ae77w"))),C=l((()=>r("jbkpvh"))),S=a(f),h=R(),e("default",a(A))},[e=>(a=e.memo,t=e.Suspense,l=e.lazy,i=e.useState,n=e.useCallback,o=e.useReducer,d=e.useEffect),e=>u=e.Query,e=>(s=e.getCurrentAllMediaGroupTypeId,c=e.actions,g=e.buildDefaultState),e=>m=e.ALL_ALBUMS_ALBUM_ID,e=>I=e.useRouteHandler,e=>b=e.BubbleRatingWithReviewCount,e=>y=e.default,e=>p=e.ErrorBoundary,e=>O=e.jsx]]},["1o4yt4","1mqwhq","13w1vr","14ecb7","1b53rh","1bkeq2","8rtacq","183pm0","121h32"]]);
