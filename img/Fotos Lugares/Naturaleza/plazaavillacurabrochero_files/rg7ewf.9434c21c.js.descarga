(this.$WP=this.$WP||[]).push(["rg7ewf",(e,a)=>{"use strict";var r,i,l,t,n,o,u,s,c,d,m,h,p,v,g,_,f,C,b,k,N,T,y,S=(e,a)=>{var{state:i,update:l}=r(N),n=i[e];t((()=>{n.isDirty||n.value===a||l(e,{value:a})}),[e,a,l])},w=({initialFirstName:e="",initialLastName:a="",initialEmail:t="",initialPhoneNumber:w="",initialPhoneCountryCode:O="",checkoutType:P,onChangeCallback:x,isModal:E,allowEmailEdit:I=!1,freeTrialSubscription:L=!1,optimusCashbackSelected:D=!1,toggleCashbackRewardSMSOptIn:F,isCashbackRewardSMSOptIn:B=!1,showLoginPrompt:q=!1,bookingFlow:A})=>{var{state:{firstName:R,lastName:M,phoneNumber:V,email:j,countryPhoneCode:H},update:K}=r(N),U=x?(e,a)=>{x(),K(e,a)}:K,{localize:$}=p(),z=O?`+${O}`:null,[W,G]=i(R.value),[J,Q]=i(M.value),[X,Y]=i(V.value),[Z,ee]=i(j.value),[ae,re]=i(z||H.value||"+1"),ie=m(),le=ie.map((({label:e,regionISOCode:a})=>({displayName:e,value:a}))),te=u(),{funnelKey:ne}=r(s),oe=v(),ue=g(),se=l((e=>{var a={formFieldChange:{funnelKey:ne,pageviewUid:te,formName:"TravelerDetails",fieldName:e.field}};switch(P){case"STANDALONE":case"OptimusCurationShopping":ue({OptimusStandaloneCheckout:a});break;case"HOTEL":ue({OptimusHotelCheckout:a})}}),[P,ne,ue,te]),ce=l((()=>{var r=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!a},{fieldName:"email",isPrefilled:!!t},{fieldName:"phoneNumber",isPrefilled:!!w}],i=r.some((e=>e.isPrefilled));P&&oe({optimusCheckoutForm:{flow:"OptimusCurationShopping"===P?"STANDALONE":P,funnelKey:ne,pageviewUid:te,formName:"TRAVELERDETAILS",isPrefilled:i,formFields:r}})}),[P,ne,oe,e,a,t,w,te]),de=n(ce);S("firstName",e),S("lastName",a),S("email",t),S("phoneNumber",w),S("countryPhoneCode",ae);var{regionISOCode:me}=ie.find((e=>e.regionPhoneCode===O))||{},{regionISOCode:he}=ie.find((e=>e.regionPhoneCode===ae))||{};S("countryISOCode",z?me:he);var pe=E?"supporting-03":"title-05";return T("div",{ref:de,children:y("form",{children:[T(o,{variant:E?"title-04":"title-03",elementType:"h2",marginBottom:"spacing-04",children:T(h,{id:"plus_checkout_traveler_details_heading"})}),q&&T(c,{marginBottom:"spacing-04",children:T(k,{messagingVariant:"subscriber",view:"CHECKOUT",flow:P,bookingFlow:A})}),y(d,{space:"spacing-03",children:[y(c,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch",children:[T("div",{className:"F-",children:T(C,{id:"tdf-first",label:T(o,{variant:pe,children:T(_,{children:T(h,{id:"plus_checkout_first_name_field"})})}),type:"text",value:R.value||"",onChange:e=>U("firstName",{value:e.currentTarget.value}),errorText:R.isError?$.string("plus_checkout_error_state_first_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==W&&(se({field:"FirstName"}),G(e.currentTarget.value)),K("firstName",{isDirty:!0})}})}),T(c,{marginTop:"spacing-03",marginLeft:"spacing-03"}),T("div",{className:"F-",children:T(C,{id:"tdf-last",label:T(o,{variant:pe,children:T(_,{children:T(h,{id:"plus_checkout_last_name_field"})})}),type:"text",value:M.value||"",onChange:e=>U("lastName",{value:e.currentTarget.value}),errorText:M.isError?$.string("plus_checkout_error_state_last_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==J&&(se({field:"LastName"}),Q(e.currentTarget.value)),K("lastName",{isDirty:!0})}})})]}),y(d,{space:"spacing-01",children:[T(C,{id:"tdf-phone",label:T(o,{variant:pe,children:T(_,{children:T(h,{id:"plus_checkout_phone_number_field"})})}),type:"tel",value:V.value,onChange:e=>U("phoneNumber",{value:e.currentTarget.value}),errorText:V.isError?$.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==X&&(se({field:"PhoneNumber"}),Y(e.currentTarget.value)),K("phoneNumber",{isDirty:!0})},menuLabel:$.string("createlisting_phone_country_label"),dropdownValue:ae,dropdownPlaceholder:ae,dropdownOptions:le,onDropdownChange:e=>{var[a]=ie.filter((a=>a.regionISOCode===e)),{regionISOCode:r,regionPhoneCode:i}=a||{},l=`+${i}`;re(l),U("countryPhoneCode",{value:l}),U("countryISOCode",{value:r})}}),D&&T(b,{value:"cashbackRewardSMSOptIn",checked:B,label:T(o,{variant:"supporting-01",color:"secondaryText",children:T(h,{id:"optimus.checkout.vf_sms_opt_in_checkbox"})}),onToggle:F})]}),T(f,{children:T(C,{id:"tdf-email",label:T(o,{variant:pe,children:I?T(_,{children:T(h,{id:"plus_checkout_email_field"})}):T(h,{id:"plus_checkout_email_field"})}),type:"email",value:j.value,onChange:e=>U("email",{value:e.currentTarget.value}),errorText:j.isError?$.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==Z&&(se({field:"Email"}),ee(e.currentTarget.value)),K("email",{isDirty:!0})},helperText:(()=>{var e;if(null!=(e=j.value)&&e.length)return"HOTEL"===P?$.string("plus_checkout_hotel_email_disclaimer_text",{email:j.value}):L?$.string("plus_free_trial_checkout_membership_email_disclaimer_text",{email:j.value}):$.string("plus_checkout_subscription_email_disclaimer_text",{email:j.value})})(),readOnly:!I})})]})]})})};return[()=>{e("default",w)},[e=>(r=e.useContext,i=e.useState,l=e.useCallback,t=e.useEffect),e=>n=e.useOnVisible,e=>o=e.default,e=>u=e.usePageviewUid,e=>s=e.FunnelTracking,e=>(c=e.Box,d=e.Stack),e=>m=e.useCountryCodeValues,e=>(h=e.default,p=e.useLocalize),e=>v=e.useImpressionLogger,e=>g=e.useInteractionLogger,e=>(_=e.RequiredLabel,f=e.SensitiveInformationBlocker),e=>C=e.TextInput,e=>b=e.Checkbox,e=>k=e.MemberLoginPrompt,e=>N=e.TravelerDetails,e=>(T=e.jsx,y=e.jsxs)]]},["1o4yt4","13btuy","1essqv","fgwvq1","1kkqcv","lyyh8d","q7jm9a","17thqz","1vumu0","32pwc7","0sjlpd","1u3aio","frf6ac","hlafd3","p33mwk","121h32"]]);
