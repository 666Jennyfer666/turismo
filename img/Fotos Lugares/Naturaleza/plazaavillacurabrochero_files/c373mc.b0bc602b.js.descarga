(this.$WP=this.$WP||[]).push(["c373mc",(e,t)=>{"use strict";var n,r,l,i,a,o,d,c,u,s,m,p,v,g,h,f,C,b,k,x,T,y,I,P,_,w,L,N,R,A,B,E,S,V,W,z,O,q,j,M,F,H,G,K,U=({name:e,nameElementType:t,nameVariant:n="title-04",lineClamp:r=3,insetContent:l=!1,labels:i=[],rel:a,url:o,thumbnail:c,imageActionOverlay:u,rating:s,reviewCount:m,details:p=[],closureInfo:v,price:g,contributors:h=[],description:C,buttonText:b,buttonUrl:k,travelersChoiceAwardType:x,travelersChoiceAwardYear:T,onClick:y,linkTarget:I,affiliateStars:w})=>{var{aspectRatio:O,sizeHint:q}=L();return W("div",{className:"_T Cj",children:[W(A,{display:"block",theme:"none",href:o,rel:a,onClick:y,target:I,children:[W("div",{className:"VFGFc _T",children:[z(B,{theme:"image",children:z(R,{source:c,aspectRatio:O,sizeHint:q})}),x&&z(E,{size:"large",color:"bestOfBest"===x?"yellow":"green",year:T||S,bottom:"spacing-03",left:"spacing-02"})]}),W("div",{className:V("qptQd",{uNBVq:l}),children:[i.length>0&&z("div",{className:"KnlRR K",children:i}),z(f,{elementType:t,variant:n,lineClamp:r,children:z(B,{theme:"standalone",display:"inline",children:e})}),null!=s&&null!=m&&z("div",{className:"mHKKz u",children:z(P,{size:"small",rating:s,numReviews:m,affiliateStars:w})}),p.map(((e,t)=>z(f,{variant:"supporting-01",children:e},t))),null!=v&&z(f,{variant:"supporting-01",color:"dangerText",children:v}),null!=g&&z(f,{variant:"title-05",children:g})]})]}),u&&z(_,{children:u}),h.length>0&&z(N,{variant:"one-line-small",profileInfo:h,marginTop:"spacing-01"}),null!=C&&z(f,{variant:"body-01",marginTop:"spacing-01",children:C}),null!=b&&null!=k&&z(d,{href:k,marginTop:"spacing-01",onClick:y,leftAlign:!0,children:b})]})},D=({model:e})=>{var{badge:t,bubbleRating:r,cardLink:l,cardPhoto:a,cardTitle:d,isPerGroupPricing:b,isTieredPricing:k,maxTravelersPerUnit:x,price:I,primaryInfo:P,saveId:_,strikeThroughPrice:w}=e,L=y("newTabDesktop"),N=C({internalOrExternalLink:l}),R="ja-JP"===v(),{trackClick:A}=n(),B=parseInt((null==_?void 0:_.id)||"",10),E=[null!=P&&P.text?z(m,{model:P}):null],S=B?z(h,{position:"static",id:B,flowOrigin:"login",onClick:()=>{A({clientContext:"saveIcon",clientParameter:"verticalCard"})}}):null,V={thumbnail:T(a),imageActionOverlay:S,details:E,onClick:()=>{A({clientContext:N.trackingContext||"card",clientParameter:"TopProductCard"})},linkTarget:L,rating:0,reviewCount:0},q=(null==r?void 0:r.rating)||0,j=i(r)||0;V={...V,rating:q,reviewCount:j};var M=null!=t&&t.type?{TRAVELLER_CHOICE:"travelersChoice",BEST_OF_BEST:"bestOfBest"}[null==t?void 0:t.type]:null,H=parseInt((null==t?void 0:t.year)||"",10)||null,G=M&&H?{travelersChoiceAwardType:M,travelersChoiceAwardYear:H,...V}:V,K=z(f,{variant:"title-05",color:null!=w?"strikethroughText":"primaryText",children:z(g,{model:I||null})}),U=w&&z(s,{price:z(g,{model:w}),variant:"supporting-01",textColor:"secondaryText"});return null!=d&&d.text&&null!=N&&N.url?W("div",{className:"DwqJs z e _Z",children:[z("div",{className:"w",children:z(F,{name:d.text,nameElementType:"h3",nameVariant:"title-05",lineClamp:2,url:N.url,insetContent:!0,...G})}),W("div",{className:c("VLDhs k Mb z","w"),children:[z(f,{variant:"supporting-01",children:z(u,{price:W(O,{children:[U,R&&z("br",{}),z("div",{className:R?"LJMsL":void 0,children:K})]}),strikeThroughPrice:void 0,isPerGroupPricing:!0===b,isTieredPricing:!0===k,maxTravelersPerUnit:null!==x?x:void 0})}),z("div",{className:"I",children:W(o,{onClick:()=>{A({clientContext:N.trackingContext||"card",clientParameter:"TopProductCard_ReserveButton"})},size:"small",variant:"commerce",target:L,href:N.url,children:[z(p,{id:"attraction.reserve.button"})," "]})})]})]}):null},J=e=>{var t,n,r,l,i="Media_PhotoResult"===(null==e||null==(t=e.avatar)||null==(n=t.data)?void 0:n.__typename)?j(e.avatar):void 0;if(void 0!==(null==e||null==(r=e.primaryInfo)?void 0:r.text)&&null!==e.primaryInfo.text)return{profileInfo:{displayName:e.primaryInfo.text,avatarSource:null!==i?i:void 0,target:"_blank"},additionalInfo1:null==(l=e.secondaryInfo)?void 0:l.text}},Y=e=>{var t,{url:n,text:r}=null!=e&&null!=(t=e.singleButton)&&t.link?x(e.singleButton.link):{};if(null!=r)return{children:r.text,href:n}},$=({model:e})=>{var{bubbleRating:t,cardLink:r,cardTitle:l,commerceButtons:i,contributor:a,descriptiveText:o,labels:d,primaryInfo:c,secondaryInfo:u}=e,{trackClick:s}=n();if(null===r)return null;var{url:p,trackingContext:v}=b(r),{html:g,url:h,trackingContext:f}=o?k(o):{};return null==l||null==l.text?null:z(w,{title:l.text,contributorInfo:J(a),labels:null!==d?d.filter(Boolean).map((e=>M(e))).filter(Boolean):[],rating:null==t?void 0:t.rating,href:""!==p&&null!==p?p:void 0,onClick:()=>s({clientContext:null!=v?v:"NoImageCard"}),target:"_blank",primaryInfo:c&&z(m,{model:c}),secondaryInfo:u&&z(m,{model:u}),descriptiveText:null!==h&&null!=g&&z(A,{theme:"inline",href:h,onClick:()=>s({clientContext:null!=f?f:"descriptiveTextHtmlLink"}),children:z(q,{model:g})}),buttonInfo:Y(i)})},Q=({model:e})=>{var t=e.__typename;switch(e.__typename){case"WebPresentation_NoImageContributorCard":return z(G,{model:e});case"WebPresentation_VerticalMerchandisingCard":case"WebPresentation_VerticalMerchandisingCardWeb":case"WebPresentation_VerticalMinimalCard":case"WebPresentation_VerticalStandardCard":return z(a,{model:e});case"WebPresentation_TopProductCardWeb":return z(H,{model:e});default:return z(l,{typename:t})}};return[()=>{F=I(U),H=D,G=r($),K=r(Q),e("MediumCardsCarouselContent",K)},[e=>(n=e.useTracking,r=e.fusionComponent,l=e.WPSUnsupportedType),e=>(i=e.getReviewCountAsNumber,a=e.VerticalCardAdapter),e=>(o=e.default,d=e.BorderlessButton),e=>c=e.default,e=>(u=e.default,s=e.StrikethroughPrice),e=>m=e.default,e=>(p=e.default,v=e.useLocale),e=>g=e.default,e=>h=e.default,e=>f=e.default,e=>(C=e.deriveLinkInfo,b=e.deriveLinkInfoFromInternalOrExternalLink,k=e.deriveLinkInfoFromHtmlLink,x=e.deriveEncodedLinkInfoFromInternalOrExternalLink),e=>T=e.getImageSourcePhotoItem,e=>y=e.useLinkTarget,e=>I=e.memo,e=>P=e.BubbleRatingWithReviewCount,e=>(_=e.CardImageOverlay,w=e.NoImageCard),e=>L=e.useShelfContext,e=>N=e.default,e=>R=e.default,e=>(A=e.default,B=e.LinkStyle),e=>(E=e.default,S=e.ACTIVE_CAMPAIGN_YEAR),e=>V=e.default,e=>(W=e.jsxs,z=e.jsx,O=e.Fragment),e=>q=e.default,e=>j=e.getImageSource,e=>M=e.convertLabel]]},["rmpbxq","u7foql","jppfwt","fkji80","ec91du","ebif6s","17thqz","1lg8go","1dpzon","1essqv","3j2edp","defk1u","rdeq8t","1o4yt4","1bkeq2","1asj0s","17yaz6","1dpmjf","34bu7w","lr6tb6","p9ucm8","gw8uw6","121h32","1qg907","aikxox","8aurmi"]]);
