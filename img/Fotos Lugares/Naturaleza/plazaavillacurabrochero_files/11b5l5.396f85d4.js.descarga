(this.$WP=this.$WP||[]).push(["11b5l5",(e,t)=>{"use strict";var a,l,n,r,i,o,s,u,c,d,p,h,g,m,y,b,v,f,T,R,_,S,C,N,I,k,A,O,w,x,E,M,L,P,U,H,D,q,V,z,j,B,K,G,Q,F,$,W="qjfqs _G B- z _J Cj R0",Y="riJbp _G _H B- _S t u j Cj",Z="UXKdo",J="ta_search_traffic_to_aph_1681414443",X=({styleVariant:e="box",overlayVariant:t="none",placeholderText:a,query:r="",displayedQuery:i="",scope:o={geoId:0},onChange:s=(()=>{}),onOpen:u,onClose:m,onKeyDown:_,onSubmit:A,onResultHovered:O,onResultClicked:w=(()=>{}),isOpen:x=!1,isLoading:E=!1,selectedIndex:M,results:L=[],header:P,headerIndex:U,searchSessionId:H="",testAttribute:D=""})=>{var q=N({experimentKeys:[J]}),V="Test"===(null==q?void 0:q[J]),{localize:z}=S(),j=R(),{os:B}=c(),K="MOBILE"===j&&"IOS"===B.family,G=l(null),Q=l(null),F=null!=o&&"number"==typeof o.geoId&&o.geoId>1,$=null!=o&&"number"==typeof o.latitude&&"number"==typeof o.longitude,X=g((e=>{e||null==m||(Q.current&&Q.current.blur(),m())})),ee=n((e=>s(e.currentTarget.value)),[s]),te=n((()=>{s(""),Q.current&&Q.current.focus()}),[s]),ae="MOBILE"===j&&x,le=n((()=>{ae&&Q.current&&Q.current.blur()}),[ae]);C(ae),p((()=>{var e=Q.current,t=G.current;x&&null!=e&&null!=t&&e.focus()}),[x]),h("focusin",(e=>{x&&X.current instanceof Element&&e.target instanceof Element&&!X.current.contains(e.target)&&(null==m||m())})),h("keydown",(e=>{var t;e instanceof KeyboardEvent&&(x||e.target===Q.current)&&(null==_||_(e),null==(t=Q.current)||t.focus())}));var ne=l(null);if(p((()=>{x&&null!=ne.current&&ne.current.focus()}),[x,M]),"expanding_right"===e&&"MOBILE"===j&&!x)return I("button",{className:`${Y} iZZUW`,title:z.string("common_Search"),"aria-label":z.string("common_Search"),onClick:()=>{window.scrollTo({top:0,behavior:"auto"}),null!=u&&u()},children:I(b,{})});var re=I("input",{ref:Q,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",disabled:!x,className:d(W,{[Z]:0!==r.length}),placeholder:a,title:z.string("common_Search"),role:"searchbox","aria-label":z.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:ee}),ie=L.map(((e,t)=>{var a;return I(f,{tabIndex:-1,role:"option","aria-selected":t===M,heading:e.title,highlightingInfo:e.highlightingInfo,subheading:e.subtitle,label:e.label,icon:e.icon,image:e.image,imageVariant:e.imageVariant,href:V&&e.url&&"ACTIVITY"===e.trackingPlaceType?e.url.replace(/AttractionProductReview/,"AttractionProductHighlight"):null!=(a=e.url)?a:"",selected:t===M,onClick:t=>{null==e.onClick||e.onClick(),w(e,t)},onMouseOver:O,ref:t===M?ne:void 0},t)}));return null!=U&&null!=P&&ie.splice(U,0,I(T,{variant:"label-01",color:"primaryText",marginX:"spacing-04",marginY:"spacing-02",id:"typeahead_results_header",children:P},"header")),k("div",{ref:G,className:d("slvrn Z0 Wh",{rsqqi:x,EcFTp:"box"===e,UfhjQ:"box_narrow"===e,PxcKL:"expanding_right"===e,MPgGB:"expanding_left"===e,zfRKL:"heroSearchNarrow"===t,GADiy:"topCentered"===t}),onTouchMove:le,"data-test-attribute":D,children:[I("div",{className:"RIeZQ",onClick:m}),k("form",{role:"search","aria-busy":E?"true":void 0,className:"hZNMq o",action:"/Search",onInvalid:e=>e.preventDefault(),onSubmit:A,ref:X,children:[K&&I("div",{onClick:()=>{u&&u()},children:re}),!K&&I("input",{ref:Q,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",className:d(W,{[Z]:0!==r.length}),placeholder:a,title:z.string("common_Search"),role:"searchbox","aria-label":z.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:ee,onClick:()=>{u&&u()}}),I("input",{type:"hidden",name:"searchSessionId",value:H}),I("input",{type:"hidden",name:"searchNearby",value:String($)}),$&&I("input",{type:"hidden",name:"latitude",value:(null==o?void 0:o.latitude)||""}),$&&I("input",{type:"hidden",name:"longitude",value:(null==o?void 0:o.longitude)||""}),F&&I("input",{type:"hidden",name:"geo",value:null==o?void 0:o.geoId}),I("button",{type:"button",className:`${Y} lDGWU`,title:z.string("mobile_back_8e0"),"aria-label":z.string("mobile_back_8e0"),onClick:m,children:I(y,{})}),0!==r.length&&I("button",{type:"button",className:`${Y} DhdpX`,title:z.string("mobile_search_filter_clear_26e8"),"aria-label":z.string("mobile_search_filter_clear_26e8"),onClick:te,children:I(v,{})}),I("button",{type:"submit",formAction:"/Search",className:`${Y} PGlrP`,title:z.string("common_Search"),"aria-label":z.string("common_Search"),tabIndex:-1,children:E?I("svg",{className:"bRKpC",viewBox:"0 0 20 20",children:I("path",{className:"XmVyL",d:"M 10 2 A 8 8 0 1 0 18 10"})}):I(b,{})}),x&&I("div",{id:"typeahead_results",role:"listbox","aria-labelledby":"typeahead_results_header",className:"ROqMU","data-test-attribute":"typeahead-results",children:ie})]})]})},ee={__key:59392074389379,id:"36044b7f178388df8e2203ed86df5001",loc:{},definitions:[]},te={__key:0x7a84604bf8da,id:"7a84604bf8da07d67643f0d3dc37c518",loc:{},definitions:[]},ae=(e,t,a=!1)=>{var l,n,r,i,o,{locationV2:s,defaultUrl:u,hotelsUrl:c,attractionOverviewURL:d,restaurantOverviewURL:p}=null!=e?e:{},{locationId:h,placeType:g,isGeo:m,names:y,vacationRentalsRoute:b}=null!=s?s:{};if(null==h||h<=1)return null;if(null!=t&&!0!==m)return null;var v=null!=(l=null!=(n=null!=(r=null!=c?c:d)?r:p)?n:null==b?void 0:b.url)?l:u;return null==v?null:{key:String(h),title:null!=(i=null==y?void 0:y.name)?i:"",subtitle:null==y?void 0:y.longOnlyHierarchyTypeaheadV2,label:a?I(_,{id:"social_mobile_reason_for_sponsored"}):void 0,searchText:null!=(o=null==y?void 0:y.name)?o:"",url:v,trackingType:a?"SPONSORED_LOCATION":"LOCATION",trackingPlaceType:g,locationId:null!=h?h:-1}},le={__key:0xc8f09d1da793,id:"c8f09d1da7931b59aa2dcb94924c1eee",loc:{},definitions:[]},ne=({scope:e,onStopLoading:t})=>{var{localize:a}=S(),i="number"==typeof e.latitude&&"number"==typeof e.longitude,o=((e,t)=>{var{localize:a}=S(),i=A(),o=L(),s=l(!0);return r((()=>()=>{s.current=!1}),[]),n((()=>{navigator.geolocation.getCurrentPosition((({coords:{latitude:a,longitude:l}})=>{U.set("rejectedLocationPermissions",!1);var n=(()=>{switch(e){case"ATTRACTIONS":return{page:"NearbyAttractions",params:{latitude:a,longitude:l}};case"HOTELS":return{page:"NearbyHotels",params:{latitude:a,longitude:l}};case"RESTAURANTS":return{page:"NearbyRestaurants",params:{latitude:a,longitude:l}};case"VACATION_RENTALS":return{page:"NearbyVacationRentals",params:{latitude:a,longitude:l}};default:return{page:"Nearby",params:{isNearby:!0,latitude:a,longitude:l}}}})();o.query(le,n).toPromise().then((({data:e})=>{var a,l;t();var n=null==e||null==(a=e.routes)||null==(l=a[0])?void 0:l.url;null!=n&&i(n)}),(()=>{t()}))}),(e=>{s.current&&t(),e.code!==e.PERMISSION_DENIED&&e.code!==e.TIMEOUT&&e.code!==e.POSITION_UNAVAILABLE||(U.set("rejectedLocationPermissions",!0),alert(a.string("mw_js_positionPermissionDenied")))}),{timeout:6e3})}),[a,i,o,e,t])})(e.linkType,t);return i?null:{title:a.string("mx_nearby"),searchText:a.string("mx_nearby"),icon:H,trackingType:"NEARBY",key:"NEARBY",onClick:o}},re=e=>{var t=V(),a=j(),{page:l}=w(),n=x(),{randomSponsorshipCampaign:r}=z(e),i=m((()=>{r&&a({team:"TAPS",page:l,pageUid:n,itemType:"sponsoredSearchImpression",itemId:String(r.campaignId),itemName:r.sponsorDisplayName,customData:JSON.stringify({campaignType:r.campaignType,clickUrl:r.clickUrl,sponsorId:r.sponsorId})})}));if(!r)return null;var o,{campaignId:s,sponsorId:u,sponsorDisplayName:c,clickUrl:d,campaignType:p}=r,h=124!==r.sponsorId,g={key:String(s),label:h?I(_,{id:"sponsored_search_sponsored_label"}):void 0,url:d,onClick:()=>{t({team:"TAPS",actionType:"click",page:l,pageUid:n,itemType:"sponsoredSearchClick",itemId:String(s),itemName:c,customData:JSON.stringify({campaignType:p,clickUrl:d,sponsorId:u})})}};switch(p){case"ARTICLE":o=((e,t)=>{var{title:a,authors:l}=e;return{title:a,subtitle:l,searchText:a,icon:D,trackingType:t?"SPONSORED_ARTICLE":"ARTICLE"}})(r,h);break;case"GEO":o=((e,t)=>{var{name:a,stateAndCountryOrEquivalent:l}=e;return{title:a,subtitle:l,searchText:a,trackingType:t?"SPONSORED_LOCATION":"LOCATION"}})(r,h);break;case"TRIP":o=((e,t)=>{var{title:a,ownerDisplayName:l}=e;return{title:a,subtitle:l,searchText:a,icon:q,trackingType:t?"SPONSORED_TRIP":"TRIP"}})(r,h);break;default:return null}return{...g,...o,title:I("div",{ref:i,children:o.title})}},ie=({isOpen:e,scope:t,onStopLoading:a})=>{var l=x(),n={isHotelsUrl:"HOTELS"===t.linkType,isAttractionsUrl:"ATTRACTIONS"===t.linkType,isRestaurantsUrl:"RESTAURANTS"===t.linkType,isRentalsUrl:"VACATION_RENTALS"===t.linkType},[{data:r}]=P({query:ee,variables:n,pause:!e}),[{data:o}]=P({query:te,variables:{recentLocationsLimit:"ATTRACTION"===t.pageType||"HOTEL"===t.pageType||"RESTAURANT"===t.pageType?10:5,uid:l,...n},pause:!e}),s=G({scope:t,onStopLoading:a}),u=Q(!e),c=i((()=>((null==r?void 0:r.popularDestinations.map((e=>K(e,t.linkType))))||[]).filter(Boolean).slice(0,5)),[r,t.linkType]),d=i((()=>{var e,a;return((null==o||null==(e=o.insightProfile)||null==(a=e.locations)?void 0:a.map((e=>K(null==e?void 0:e.location,t.linkType))))||[]).filter(Boolean).slice(0,5)}),[o,t.linkType]);return i((()=>{var e,t,a=[];return null!=s&&a.push(s),null!=u&&a.push(u),d.length>0?(e=I(_,{id:"dual_search_recently_viewed_all_caps"}),t=a.length,a.push(...d)):c.length>0&&(e=I(_,{id:"dual_search_popular_destinations"}),t=a.length,a.push(...c)),{results:a,header:e,headerIndex:t}}),[s,u,c,d])},oe=({source:e,scope:t,maxItems:a,onClose:i,isOpen:s,onOpen:u,query:c,setQuery:d,searchMode:p="SingleSearch",highlightFirstResult:h=!1})=>{var g,m=w(),y=A(),[b,v]=o(0),[f,T]=o(!1),{results:{results:R,resultsId:_},logTypeaheadOpened:S,logResultSelection:C,logSearchAction:N,searchSessionId:I}=E(c,e,t,p,a),k=n((()=>{T(!1)}),[]),x=F({scope:t,isOpen:s,onStopLoading:k}),L=0===R.length||!c.length||c.length<M,P=L?x.results:R,U=l("");r((()=>{_!==U.current&&(v(Date.now()),U.current=_)}),[_]);var[H,D]=o(null),q=h&&null==H?0:H,V=null!=H&&(null==(g=P[H])?void 0:g.searchText)||c,z=n(((e,t)=>{C(t,L,e,P.findIndex((t=>t.key===e.key)),b)}),[P,C,b,L]),j=n((e=>{if(null!=e){var t;if(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(m.path===e.currentTarget.pathname&&null!=(t=O.get(m.page))&&t.isClientNavigable({sourcePage:m.page}))return void(null!=i&&i())}T(!0)}),[m,i]),B=n((e=>{s&&!e||(u&&u(),D(null),S(),v(Date.now()))}),[u,s,S]),K=n((()=>{s&&(D(null),i&&i())}),[s,i]),G=n((e=>{d(e),D(null),e.length>=M&&B()}),[d,B]),Q=n((t=>{switch(t.keyCode){case 38:s?D((e=>null==e?P.length-1:e>0?e-1:null)):B(),t.preventDefault();break;case 40:s?D((e=>null==e?0:e<P.length-1?e+1:null)):B(),t.preventDefault();break;case 13:var a=null!=q?P[q]:null;null==a&&"SRP_SINGLE_SEARCH"===e?(K(),t.preventDefault()):null!=a&&(z(a,"enter"),!1===t.defaultPrevented&&(null==a.onClick||a.onClick(),null!=a.url&&y(a.url)&&T(!0),t.preventDefault()));break;case 27:K(),t.preventDefault()}}),[y,s,q,P,K,B,z,e]),$=n((()=>{N(b),T(!0)}),[N,b]),W=n((()=>{D(null)}),[]),Y=n(((e,t)=>{z(e,"click"),j(t)}),[z,j]);return{displayedQuery:V,isLoading:f,results:P,header:L?x.header:void 0,headerIndex:L?x.headerIndex:void 0,selectedIndex:q,searchSessionId:I,onResultHovered:W,onResultClicked:Y,onOpen:B,onClose:K,onSubmit:$,onChange:G,onKeyDown:Q}},se={HOTEL:["Hotels","MobileHotels","Hotel_Review","MobileHotel_Review","HotelHighlight","MobileHotelHighlight","SmartDeals","MobileSmartDeals","HotelsList","MobileHotelsList","HotelsNear","MobileHotelsNear","NearbyHotels","MobileNearbyHotels","HotelSearch","LastMinute","TravelersChoiceHotels","ShowUserReviewsHotels"],ATTRACTION:["Attractions","MobileAttractions","Attractions_Coverpage","Attraction_Review","MobileAttraction_Review","AttractionsNear","AttractionProductReview","MobileAttractionProductReview","MobileAttractionsNear","Attraction_Products","MobileAttraction_Products","AttractionReviewSearch","MobileAttractionReviewSearch","NearbyAttractions","MobileNearbyAttractions","ShowUserReviewsAttractions","TravelersChoiceAttractions"],RESTAURANT:["Restaurants","MobileRestaurants","Restaurant_Review","MobileRestaurant_Review","RestaurantSearch","MobileRestaurantSearch","RestaurantsNear","MobileRestaurantsNear","RestaurantMenu","MobileRestaurantMenu","NearbyRestaurants","MobileNearbyRestaurants","TravelersChoiceRestaurants","ShowUserReviewsRestaurants"],FORUM:["ShowTopic","ShowForum","ListForums","ForumHome"]},ue={},ce=({source:e,maxItems:t=10,styleVariant:a,overlayVariant:l,placeholderText:r,initialQuery:i="",hidden:c,onClose:d,scope:p,closeOnResultClicked:h,searchMode:g="SingleSearch",isModalOnly:m=!1,highlightFirstResult:y=!1})=>{var[b,v]=o(m),f=n((()=>{m||v(!1),d&&d()}),[d,m]),T=n((()=>{m||v(!0)}),[m]),[R,_]=o(i),S=$({source:e,maxItems:t,scope:p,searchMode:g,onOpen:T,onClose:f,isOpen:b,query:R,setQuery:_,highlightFirstResult:y});return c&&!b?null:I(s,{component:u.typeahead,children:I(B,{...S,onResultClicked:(e,t)=>{h&&f(),null==S.onResultClicked||S.onResultClicked(e,t)},styleVariant:a,overlayVariant:l,placeholderText:r,query:R,scope:p,isOpen:b,testAttribute:`typeahead-${e}`})})};return[()=>{B=a(X),K=ae,G=ne,Q=re,F=ie,$=oe,Object.entries(se).forEach((([e,t])=>t.forEach((t=>{ue[t]=e})))),e({default:a(ce),pageToTypeMappings:ue})},[e=>(a=e.memo,l=e.useRef,n=e.useCallback,r=e.useEffect,i=e.useMemo,o=e.useState),e=>(s=e.default,u=e.Component),e=>c=e.useUserAgent,e=>d=e.default,e=>p=e.useClientSideLayoutEffect,e=>h=e.useWindow,e=>(g=e.useVisibleEffect,m=e.useOnVisible),e=>y=e.default,e=>b=e.default,e=>v=e.default,e=>f=e.default,e=>T=e.default,e=>R=e.useViewportCategory,e=>(_=e.default,S=e.useLocalize),e=>C=e.useBlockScroll,e=>N=e.default,e=>(I=e.jsx,k=e.jsxs),e=>A=e.useNavigate,e=>O=e.pages,e=>(w=e.useRoute,x=e.usePageviewUid),e=>(E=e.default,M=e.MIN_QUERY_LENGTH),e=>(L=e.useClient,P=e.useQuery),e=>U=e.default,e=>H=e.default,e=>D=e.default,e=>q=e.default,e=>V=e.default,e=>z=e.useRandomSponsorshipCampaign,e=>j=e.default]]},["1o4yt4","16nmgr","1nnprh","fkji80","1mb2nz","ltllz9","13btuy","a6i9w3","1qx89h","1qkjm8","17gmts","1essqv","1ys6v1","17thqz","1uzmmz","gugp1d","121h32","10ad67","u5g3tb","fgwvq1","7l5hpv","1mqwhq","tp1g68","1nc3gm","zb2uaz","1l75rc","1r73jw","1ubyuk","xg719z"]]);
