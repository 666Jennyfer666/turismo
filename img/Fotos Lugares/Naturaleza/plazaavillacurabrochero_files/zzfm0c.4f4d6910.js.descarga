(this.$WP=this.$WP||[]).push(["zzfm0c",(e,t)=>{"use strict";var r,a,n,o,i,l,s,c,u,m,p,d,g,v,I,k,y,h,T,f,w,N,b,S,C=()=>a(k),x=e=>{var{customData:t,...r}=e;return t&&Object.keys(t).length?{...r,customData:JSON.stringify(t)}:r},D=()=>{return e=s(),t=c(),r=u(),n((()=>({logImpression:t=>e((e=>{var{customData:t,...r}=e;return t&&Object.keys(t).length?{...r,customData:JSON.stringify(t)}:r})(t)),logInteraction:e=>t(x(e)),logInteractionNow:e=>r(x(e))})),[e,t,r]);var e,t,r},O=(e,t)=>{var{type:r="click",subType:a,customData:n,itemName:o,itemType:i,itemId:l,itemGroup:s}=t,{customData:c,...u}=e,m={...c||{},...n||{}},p={...u,actionType:r};return null!=a&&(p.actionSubType=a),Object.keys(m).length&&(p.customData=m),null!=o&&(null!=p.itemName?console.error(`Ignored attempt to overwrite itemName "${p.itemName}" with "${o}"`):p.itemName=o),null!=i&&(null!=p.itemType?console.error(`Ignored attempt to overwrite itemType "${p.itemType}" with "${i}"`):p.itemType=i),null!=l&&(null!=p.itemId?console.error(`Ignored attempt to overwrite itemId "${p.itemId}" with "${l}"`):p.itemId=l),null!=s&&(null!=p.itemGroup?console.error(`Ignored attempt to overwrite itemId "${p.itemGroup}" with "${s}"`):p.itemGroup=s),p},P=()=>{var{eventBase:e}=C(),t=w();return n((()=>null==e?(console.error("useTracking() called outside of a valid <TrackingScope>, no tracking will occur"),{trackImpression:()=>{},trackInteraction:e=>{console.error("trackInteraction() called outside of a valid <TrackingScope>, impression will not be tracked",e)},trackInteractionNow:e=>(console.error("trackInteractionNow() called outside of a valid <TrackingScope>, impression will not be tracked",e),Promise.reject())}):{trackImpression:()=>{var r=JSON.stringify(e);f(r)&&t.logImpression(e)},trackInteraction:r=>{var a=O(e,r),n=JSON.stringify(a);f(n)&&t.logInteraction(a)},trackInteractionNow:r=>{var a=O(e,r),n=JSON.stringify(a),o=T.get(n);if(o)return o;var i=t.logInteractionNow(a);return T.set(n,i),i}}),[e,t])},$=e=>{var t=P();return n((()=>{var{trackInteraction:r,trackInteractionNow:a}=t;return{trackInteraction:()=>r(e),trackInteractionNow:()=>a(e)}}),[t,e])},j=e=>{var{trackImpression:t}=P();return function(e,t=h,r=m){var{timeout:a,threshold:n,rootMargin:l,onceOnly:s}={...h,...t},[c,u]=o(!1),[p,d]=o(!1);return i((()=>{var t;return c&&(t=setTimeout((()=>{p&&s||(e(),d(!0))}),a)),()=>{clearTimeout(t)}}),[c,p,s,e,a]),r(u,l,n)}(t,e||void 0)},G=["page"],K=e=>{var{scopeType:t,team:r,pageName:a,pageGeoId:n,pageLocationId:o,filterId:i,filterIndex:l,shelfId:s,shelfType:c,shelfSlot:u,shelfSlotIndex:m,cardId:p,cardIndex:d,cardType:g,cardExternalKey:v,itemType:I,itemId:k,itemSlot:y,itemSlotIndex:h,itemExternalKey:T,saItemType:f,saItemName:w,saItemId:N,saItemGroup:b,saItemPosition:S,saExternalKey:C,customData:x}=e,D={team:r,page:a};null!=n&&(D.geoId=n),null!=o&&(D.locationId=o);var O=x?{...x}:{};switch(t){case"map":D.itemType=t;break;case"filter":case"mapFilter":D.itemType=t,D.itemId=i,null!=l&&(D.itemPosition=l);break;case"shelf":D.itemType=t,D.itemName=c,D.itemId=null==s?void 0:s.toString(),D.itemGroup=u,D.itemPosition=m;break;case"shelfCard":D.itemType=t,D.itemName=g,D.itemId=null==p?void 0:p.toString(),D.itemPosition=d,D.itemGroup=c,null!=v&&(D.externalKey=v),O.shelfType=c,O.shelfId=null==s?void 0:s.toString(),O.shelfSlot=u,O.shelfSlotIndex=m;break;case"listCard":case"mapListCard":D.itemType=t,D.itemId=null==p?void 0:p.toString(),D.itemPosition=d,null!=v&&(D.externalKey=v),O.cardType=g;break;case"item":D.itemType=t,D.itemName=I,D.itemId=null==k?void 0:k.toString(),null!=y&&(D.itemGroup=y),null!=h&&(D.itemPosition=h),null!=T&&(D.externalKey=T);break;case"standalone":D.itemType=null==f?"standalone":f,null!=w&&(D.itemName=w),null!=N&&(D.itemId=N),null!=b&&(D.itemGroup=b),null!=S&&(D.itemPosition=S),null!=C&&(D.externalKey=C)}return 0!==Object.keys(O).length&&(D.customData=O),D},L=({children:e,options:t})=>p("span",{ref:S(t),children:e}),B=e=>{var t,{scope:r,impressionWhenSeen:a=!0,children:o}=e,l=C(),s=null==l||null==(t=l.scope)?void 0:t.scopeType,c=((e,t)=>"standalone"===e||(b.get(e)||G).includes(t))(r.scopeType,s),u=n((()=>{if(!c)return I;if(null==(null==l?void 0:l.scope))return"page"===r.scopeType||"standalone"===r.scopeType?{scope:r,eventBase:K(r)}:I;var e=((e,t)=>{var r="standalone"===(null==t?void 0:t.scopeType)?{...t.customData||{}}:{...e.customData||{},...t.customData||{}};return"standalone"===(null==t?void 0:t.scopeType)?{...t,...Object.keys(r).length?{customData:r}:{}}:{...e,...t,...Object.keys(r).length?{customData:r}:{}}})(l.scope,r);return{scope:e,eventBase:K(e)}}),[r,l,c]),{scopeType:m}=r;return i((()=>{c||console.error(`Ignoring ${m} scopeType, as it cannot be a child of ${s} scopeType`)}),[c,m,s]),c?p(k.Provider,{value:u,children:a?p(L,{options:"object"==typeof a?a:void 0,children:o}):o}):o},E=e=>{var{target:t,tracking:r,onClick:a,onClickCritical:n,href:o}=e,{isCritical:i,...s}=r||{},c=$(s),u=v();return l((e=>{var r="_self"===t&&null!=o,l=[],s=[];r&&!0===i?l.push((()=>c.trackInteractionNow())):s.push((()=>c.trackInteraction())),null!=n&&(r?l.push(n):s.push(n)),a&&s.push(a),l.length&&(e.preventDefault(),Promise.all(l.map((e=>e()))).then((()=>{null!=o&&u(o)}))),s.map((e=>e()))}),[t,o,c,i,a,n,u])},J=e=>{var{target:t="newTabDesktop",tracking:r,onClick:a,onClickCritical:n,href:o,children:i,...l}=e,s=g(t),c=E({target:s,href:o,onClick:a,onClickCritical:n,tracking:r});return p(d,{...l,href:o,onClick:c,target:s,children:i})};return[()=>{var t,a;k=r(I={scope:void 0,eventBase:void 0}),y=D,h={rootMargin:0,threshold:0,timeout:500,onceOnly:!0},t=new Map,T={get:e=>{var r;return null==(r=t.get(e))?void 0:r.value},set:(e,r)=>{var a;clearTimeout(null==(a=t.get(e))?void 0:a.tid),t.set(e,{value:r,tid:setTimeout((()=>{t.delete(e)}),5e3)})}},a=new Set,f=e=>{var t=!a.has(e);return t&&(a.add(e),setTimeout((()=>{a.delete(e)}),5e3)),t},w=y,N=P,b=new Map([["page",[void 0]],["shelfCard",["shelf"]],["standalone",[void 0]],["mapListCard",["map"]],["mapFilter",["map"]]]),S=j,e({TrackedLink:J,TrackingScope:B,useInteractionTracking:$,useTrackedLinkCallback:E,useTracking:N})},[e=>(r=e.createContext,a=e.useContext,n=e.useMemo,o=e.useState,i=e.useEffect,l=e.useCallback),e=>s=e.default,e=>(c=e.default,u=e.useBlockingInteractionLogger),e=>m=e.useVisibleEffect,e=>p=e.jsx,e=>d=e.default,e=>g=e.useLinkTarget,e=>v=e.useNavigate]]},["1o4yt4","xg719z","1r73jw","13btuy","121h32","lr6tb6","rdeq8t","10ad67"]]);
