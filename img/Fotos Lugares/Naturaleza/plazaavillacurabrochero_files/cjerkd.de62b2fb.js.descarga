(this.$WP=this.$WP||[]).push(["cjerkd",(e,i)=>{"use strict";var a,r,s,n,o,d,l,t,c,u,g,m,p,h,f,_,b,v,S,G,z,C,T,w,k,y,I,H,M,D,j,O,N,x,A,P,$,q,L,R,W,B,E="VNkBD",K="uUSkJ",U="jaoBo _T",F=["id-ID","ja-JP","zh-TW","th-TH"],J=e=>{var i=y(),a=F.includes(i),[r]=T(e);return v(D,{variant:"secondary",size:e.size,onClick:e.onClick,fullWidth:!0,...r,children:[S(k,{id:"memx_mw_gating_cta"})," ",v("div",{className:H({"ADmrQ d q":"small"===e.fontSize},{"jOFMI d q _T":"medium"===e.fontSize},{"rjSeK d q":"large"===e.fontSize}),children:[S(C,{src:e.allBlack?"/img2/google/GoogleG/black.svg":"/img2/google/GoogleG/1color@3x.png",className:H({[K]:"small"===e.fontSize},{[U]:"medium"===e.fontSize},{[E]:"large"===e.fontSize})}),a&&S(C,{src:"/img2/line/line_color_20.png",className:H({[K]:"small"===e.fontSize},{[U]:"medium"===e.fontSize},{[E]:"large"===e.fontSize})}),S("div",{className:H({"gqKUw d Cj":"small"===e.fontSize},{"yNpzT d _T Cj":"medium"===e.fontSize},{"nIvCR d Cj":"large"===e.fontSize}),children:S(M,{})})]})]})},Q=(e,i,a,r,s)=>`https://tripadvisor.onelink.me/dIWJ?af_dp=${encodeURIComponent(`tripadvisor://${i}`)}&af_web_dp=${encodeURIComponent(e)}&af_sub1=${a}&af_sub2=true&af_sub3=${r}&pid=website${void 0===s?"":`&c=${s}`}`,V=e=>{var i=O(),{onClick:r,mcid:s}=e,n=j(),o=N(),{path:d}=c(),[l]=T(e),t=a((()=>{i({module:"app_download",action:"app_download_click",context:n}),r&&r(n)}),[r,i,n]),u=P(`https://${o}${d}`,d,s,n,"GatingExperiment");return v(D,{variant:"secondary",size:"large",fullWidth:!0,onClick:t,href:u,...l,children:[S(k,{id:"open_in_the_app"})," "]})},Z=e=>{var i,{theme:a}=e;switch(a){case"green":i="/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg";break;case"cream":i="/img2/brand_refresh/Tripadvisor_logoset_solid_cream.svg"}return S(C,{className:"w _Z",src:i,alt:""})},X=({headline:e,subheadline:i,...a})=>v("div",{className:w(a),children:[S("div",{className:"sHvwv _T d",children:S(q,{theme:"green"})}),S(z,{variant:"expressive-display-02",marginTop:"spacing-04",children:e}),S(z,{variant:"body-01",marginTop:"spacing-02",children:i})]}),Y=({onShow:e,onContinueWith:i,onOpenInApp:a,mcid:r})=>{var{localize:s}=I(),n=b(e);return S(x,{children:v("div",{ref:n,children:[S(L,{headline:s.string("hard_gate_hybrid_header"),subheadline:s.string("hard_gate_subheader")}),S(A,{size:"large",onClick:i,fontSize:"medium",marginTop:"spacing-04"}),S($,{mcid:r,onClick:a,marginTop:"spacing-03"})]})})},ee=()=>{},ie=({onShow:e,onDismiss:i,onAutoCancelled:a,onSuccessfulLogin:s,onGeneralSkipDismiss:n})=>{var{page:o}=c(),l=t(),{localize:u}=I(),g=b(e);return v(G,{children:[S(r,{children:S(W,{onDismiss:()=>{i&&i(),d(l)},triggerNext:ee,onAutoCancelled:a||ee,enhancedGoogleOneTapGate:!0,servletName:o,suppressContextualMessage:!0,onSuccessfulLogin:s,onGeneralSkipDismiss:n})}),S("div",{ref:g,children:S(L,{headline:u.string("hard_gate_onetap_header"),subheadline:u.string("hard_gate_subheader")})})]})},ae=({onLogin:e})=>{var{login:i}=o(),r=t(),{page:s}=c(),{geoId:d,locationId:v}=u(),G=g(),{impressionKey:z}=m(),C=p(),T=h(),w=f(15e3,"MembershipHardGateBounce15s"),k=f(3e4,"MembershipHardGateBounce30s"),[y,I]=n(!l(r)),H=a((()=>{w(),k()}),[w,k]),M=b(H),D=a((()=>{i({flowOrigin:"login",pid:40620,flow:"CORE_COMBINED",isFullWidthMobile:!0,forceLogin:!0,closeX:!1,extraQueryParams:{funnelKey:z,page:s,geo_id:d,detail_id:v,is_dated:G}}).then((e=>{e&&C("MembershipHardGateHybrid",{userId:e.userId,newMember:!!e.hasCreatedMember,source:_(e.loginProvider)},"SuccessLogin",e.userId||void 0)})).finally(e)}),[i,e,z,s,d,v,G,C]);return S("div",{ref:M,className:"D t _U s l Za f e Pk PY Px PK j Gg",children:y?S(B,{onShow:()=>{C("MembershipHardGateGOT")},onDismiss:()=>{T("MembershipHardGateGOT","Close"),I(!1)},onAutoCancelled:()=>{T("MembershipHardGateGOT","Close","other"),I(!1)},onSuccessfulLogin:(e,i)=>{C("MembershipHardGateGOT",{userId:i,newMember:e,source:"google"},"SuccessLogin",i)},onGeneralSkipDismiss:(e,i)=>{C("MembershipHardGateGOT",{googleOneTapActionType:e,googleOneTapReason:i},"Error")}}):S(R,{onShow:()=>{C("MembershipHardGateHybrid")},onContinueWith:()=>{T("MembershipHardGateHybrid","CTA","click","continueWith"),D()},onOpenInApp:e=>{T("MembershipHardGateHybrid","CTA","click","openInTheApp",{downloadId:e})},mcid:65389})})};return[()=>{J.defaultProps={size:"large",fontSize:"large",lightBorder:!1},A=J,P=Q,$=V,q=Z,L=X,R=Y,W=s((()=>i("1j3bsm"))),B=ie,e("default",ae)},[e=>(a=e.useCallback,r=e.Suspense,s=e.lazy,n=e.useState),e=>o=e.default,e=>(d=e.setRegDialogDismissed,l=e.shouldSuppressRegistrationDialog),e=>t=e.useSessionId,e=>c=e.useRoute,e=>(u=e.useRouteIds,g=e.useIsDated,m=e.useHardGateContext,p=e.useHardGateImpression,h=e.useHardGateInteraction,f=e.useBounceTracking,_=e.sourceFromLoginProvider),e=>b=e.useOnVisible,e=>(v=e.jsxs,S=e.jsx),e=>G=e.ErrorBoundary,e=>z=e.default,e=>C=e.CdnImage,e=>(T=e.getMarginProps,w=e.margin),e=>(k=e.default,y=e.useLocale,I=e.useLocalize),e=>H=e.default,e=>M=e.default,e=>D=e.default,e=>j=e.uuid,e=>O=e.useGARecorder,e=>N=e.useDomainName,e=>x=e.AutoFocus]]},["1o4yt4","rdycz1","cyrz7y","1al4vi","fgwvq1","igyuz7","13btuy","121h32","183pm0","1essqv","1s6q22","gw8uw6","17thqz","fkji80","1gjtat","jppfwt","1eww82","32pwc7","qlcuu5","12r4qu"]]);
