(this.$WP=this.$WP||[]).push(["cth31o",(e,l)=>{"use strict";var i,t,a,r,n,o,d,s,c,u,v,h,p,m,g,f,y,I,S,C,w,T,k,x,b,_,L,A,z,B,N,P,D,q,M,R,G={__key:0x76be91b25b43,id:"76be91b25b43f9a0f1ae5d9b4d5258f2",loc:{},definitions:[]},j=({detailId:e,geoId:l,shelfGroup:i,minItems:t,maxItems:a})=>{var o=r(),d=n(),s=A(),c=B(),u=z(),v=e,h=l;if(null==h||0===h||null==v||0===v){var{detailId:p=0,geoId:m=0}=u.params;null!=p&&null!=m||console.error("[Exp Shelf Service] could not obtain geoId and detailId from route or input"),h=m,v=p}var[{data:g,fetching:f,error:y}]=L({query:G,variables:{currency:o,geoId:h||0,detailId:v||0,locale:d,maxItems:a,minItems:t,shelfGroup:i,usePds:!0,userContext:{taUnique:s,userId:c}},pause:null==h||null==v});return{data:g&&g.ExpShelves_getShelfGroups||void 0,fetching:f,error:y}},V={__key:0x5d2040c69c93,id:"5d2040c69c933223c83d2441fb706645",loc:{},definitions:[]},E=({detailId:e,geoId:l,shelfTypes:i,maxItems:t})=>{var a=r(),o=n(),d=A(),s=B(),c=i.map((e=>({shelfType:e}))),[{data:u,fetching:v,error:h}]=L({query:V,variables:{currency:a,geoId:l,detailId:e,locale:o,maxItems:t,userContext:{taUnique:d,userId:s},shelfTypes:c},pause:null==l});return{data:u&&u.ExpShelves_getShelvesV2||void 0,fetching:v,error:h}},F="shelfScrolled",O="shelfItemClick",U=e=>({subType:O,customData:{productCode:e}}),Y=e=>({subType:O,customData:{activityId:e}}),W=(e,l,i,t)=>{if(!(null==e||e<=0||null==l)){var r={price:new Intl.NumberFormat(t,{style:"currency",currency:l}).format(e)};return S(a,"UNIT"===i?{id:"phoenix_list_attractions_from_price_per_group_txt_v2",args:r}:{id:"cx_feed_attraction_price",args:r})}},H=({activityData:e,position:l,showSaveButton:a=!1,nameLineClamp:r=3})=>{var n,d,s=o(),{trackInteraction:c}=i();if(null!=e.activityId&&null!=(null==(n=e.title)?void 0:n.text)&&null!=(null==(d=e.route)?void 0:d.url)){var u,v,h,p,m,g,I,C=a&&e.activityId>0?S(f,{position:"static",id:e.activityId,flowOrigin:"login"}):null;return S(t,{scope:{scopeType:"shelfCard",cardType:"attractionProduct",cardId:e.activityId,cardIndex:l+1},children:S(y,{name:e.title.text,rating:null==(u=e.reviewSummary)?void 0:u.aggregateAvgRating,reviewCount:null==(v=e.reviewSummary)?void 0:v.tripAdvisorRatingCount,url:e.route.url,imageActionOverlay:C,thumbnail:null==(h=e.photos)||null==(p=h[0])?void 0:p.sizes,price:W(null==(m=e.pricingInfo)?void 0:m.fromPrice,null==(g=e.pricingInfo)?void 0:g.currency,null==(I=e.pricingInfo)?void 0:I.pricingType,s),linkTarget:"_blank",onClick:()=>c(Y(e.activityId)),nameLineClamp:r})},e.activityId)}return null},J=({product:e,productCode:l,position:a,showSaveButton:r=!1,nameLineClamp:n=3})=>{var d,s,c,u,v,h,p,m,g,{trackInteraction:I}=i(),C=o(),w=e.activityId||0,T=r&&w>0?S(f,{position:"static",id:w,flowOrigin:"login"}):null;return null!=(null==(d=e.route)?void 0:d.url)&&null!=(null==(s=e.title)?void 0:s.text)&&e.activityId?S(t,{scope:{scopeType:"shelfCard",cardType:"attractionProduct",cardId:e.activityId,cardIndex:a+1},children:S(y,{name:e.title.text,rating:null==(c=e.reviewSummary)?void 0:c.aggregateAvgRating,reviewCount:null==(u=e.reviewSummary)?void 0:u.tripAdvisorRatingCount,url:e.route.url,thumbnail:null==(v=e.photos)||null==(h=v[0])?void 0:h.sizes,imageActionOverlay:T,price:W(null==(p=e.pricingInfo)?void 0:p.fromPrice,null==(m=e.pricingInfo)?void 0:m.currency,null==(g=e.pricingInfo)?void 0:g.pricingType,C),linkTarget:"_blank",onClick:()=>I(U(l)),nameLineClamp:n})},e.activityId):null},X=({product:e,productCode:l,position:a})=>{var r,n,o,d,s,c,u,{trackInteraction:v}=i();return e&&null!=(null==(r=e.route)?void 0:r.url)&&null!=(null==(n=e.title)?void 0:n.text)&&e.activityId?S(t,{scope:{scopeType:"shelfCard",cardType:"attractionProduct",cardId:e.activityId,cardIndex:a+1},children:S(I,{onClick:()=>v(U(l)),variant:"minimal",title:null==(o=e.title)?void 0:o.text,rating:(null==(d=e.reviewSummary)?void 0:d.aggregateAvgRating)||void 0,reviewCount:(null==(s=e.reviewSummary)?void 0:s.tripAdvisorRatingCount)||void 0,distance:null,href:e.route.url,image:null==(c=e.photos)||null==(u=c[0])?void 0:u.sizes})},e.activityId):null},$=({activityData:e,position:l})=>{var a,r,n,o,d,s,{trackInteraction:c}=i();return null!=e.activityId&&null!=(null==(a=e.title)?void 0:a.text)&&null!=(null==(r=e.route)?void 0:r.url)?S(t,{scope:{scopeType:"shelfCard",cardType:"attractionActivity",cardId:e.activityId,cardIndex:l+1},children:S(I,{onClick:()=>c(Y(e.activityId)),variant:"minimal",title:e.title.text,rating:(null==(n=e.reviewSummary)?void 0:n.aggregateAvgRating)||void 0,reviewCount:(null==(o=e.reviewSummary)?void 0:o.tripAdvisorRatingCount)||void 0,distance:null,href:e.route.url,image:null==(d=e.photos)||null==(s=d[0])?void 0:s.sizes})},e.activityId):null},K="jpVnb Z1 S",Q="lPnwX",Z=({children:e,onScrolled:l})=>{var{localize:i}=d(),[t,{canGoBack:a,canGoForward:r,goBack:n,goForward:o}]=h({waypointSelector:"[data-carousel-waypoint]"}),s=r||a,c=w(!1),u=T((()=>{c.current||null==l||(c.current=!0,l())}),[l]);return C("div",{className:x("FqvuX"),children:[s&&S("div",{className:x(K,"rfMYU"),children:S("div",{className:Q,children:S(p,{icon:b,label:i.string("common_Previous"),disabled:!a,onClick:n,lowerScrollButton:!1})})}),S("div",{className:"KdblT",children:S("div",{className:"ahmWP",ref:t,onScroll:u,children:S("ul",{className:"Ohqgr",children:k.map(e,(e=>C("li",{className:"IqYJP Fg I",children:[e,S("div",{"data-carousel-waypoint":!0})]},e.key)))})})}),s&&S("div",{className:x(K,"Ygety"),children:S("div",{className:Q,children:S(p,{icon:_,label:i.string("common_Next"),disabled:!r,onClick:o,lowerScrollButton:!1})})})]})},ee=({children:e})=>S("div",{className:"xPvHh A",children:e}),le=({shelf:e,scrollContainer:l="design-system",showSeeAllLink:t=!1,titleTypography:r="title-03",titleMargin:n={marginY:"spacing-03"},hideTitle:o=!1,cardType:d="Vertical",showSaveButton:s=!1,scrollContainerSize:u,nameLineClamp:h=3,...p})=>{var f,{trackInteraction:y}=i(),I=((e,l,i,t)=>{var a;return null==(a=e.shelfItems)?void 0:a.filter(Boolean).map(((e,a)=>"ExpShelves_ProductShelfItem"===e.__typename&&e.fullProductDetails?"Vertical"===l?S(J,{product:e.fullProductDetails,productCode:e.productCode,showSaveButton:i,position:a},e.productCode):S(X,{product:e.fullProductDetails,productCode:e.productCode,position:a},e.productCode):"ExpShelves_ActivityShelfItem"===e.__typename&&e.fullProductDetails?"Vertical"===l?S(H,{activityData:e.fullProductDetails,position:a,showSaveButton:i,nameLineClamp:t},e.activityId):S($,{activityData:e.fullProductDetails,position:a},e.activityId):null)).filter(Boolean)})(e,d,s,h);return I&&null!=e.shelfTitleLocalized?C("div",{className:c(p),children:[C("div",{className:"f u k",children:[!o&&S(v,{variant:r,...n,children:e.shelfTitleLocalized}),t&&null!=(null==e||null==(f=e.seeAllLink)?void 0:f.url)&&S(g,{href:e.seeAllLink.url,theme:"standalone",display:"block",onClick:()=>y({subType:"shelfSeeAll"}),children:S(a,{id:"airm_see_all"})})]}),"design-system"===l&&S(m,{size:u,onScrolled:()=>y({subType:F}),children:I}),"custom-scroll-container"===l&&S(D,{onScrolled:()=>y({subType:F}),children:I}),"multi-column-container"===l&&S(q,{children:I})]}):null},ie=({shelfData:e,fetchingShelves:l,showLoading:i=!0,shelfSlotName:a,shelfSource:r,showShelfDivider:n=!1,dividerMargin:o={marginY:"spacing-03"},scrollContainer:v,showSeeAllLink:h,titleTypography:p,titleMargin:m,hideTitle:g,cardType:f,showSaveButton:y,scrollContainerSize:I,nameLineClamp:w=3,...T})=>{var{localize:k}=d(),x=null==e?void 0:e.filter(Boolean).map(((l,i)=>C(t,{scope:{scopeType:"shelf",shelfType:r,shelfId:l.shelfType||"Shelf",shelfSlot:a,shelfSlotIndex:i+1},children:[S(M,{shelf:l,scrollContainer:v,showSeeAllLink:h,titleTypography:p,titleMargin:m,hideTitle:g,cardType:f,showSaveButton:y,scrollContainerSize:I,nameLineClamp:w}),n&&i!==(null==e?void 0:e.length)-1&&S(u,{...o})]},i)));return x&&x.length>0?C("div",{className:c(T),children:[i&&l&&S("div",{className:"f u j Mk MJ",children:S(s,{variant:"large","aria-label":k.string("sng_results_loading")})}),!l&&x]}):null},te=({detailId:e,geoId:l,shelfGroup:i,maxItems:t=10,minItems:a,showShelfDivider:r,dividerMargin:n,scrollContainer:o,showSeeAllLink:d,titleTypography:s,titleMargin:c,cardType:u,showSaveButton:v,scrollContainerSize:h,loadingSkeleton:p,nameLineClamp:m=3,...g})=>{var{data:f,fetching:y}=N({detailId:e,geoId:l,shelfGroup:i,maxItems:t,minItems:a});return y?p:S(R,{shelfData:null==f?void 0:f.shelves,fetchingShelves:y,shelfSlotName:i,shelfSource:"ShelvesByShelfGroup",showShelfDivider:r,dividerMargin:n,scrollContainer:o,showSeeAllLink:d,titleTypography:s,titleMargin:c,cardType:u,showSaveButton:v,scrollContainerSize:h,nameLineClamp:m,...g})},ae=({cardType:e,detailId:l,geoId:i,hideTitle:t,maxItems:a,shelfTypes:r,scrollContainer:n,shelfSlotName:o,showLoading:d,showSeeAllLink:s,...c})=>{var{data:u,fetching:v}=P({detailId:l,geoId:i,shelfTypes:r,maxItems:a});return S(R,{showSeeAllLink:s,shelfData:null==u?void 0:u.shelves,fetchingShelves:v,shelfSlotName:o,shelfSource:"ShelvesByShelfType",showLoading:d,scrollContainer:n,cardType:e,hideTitle:t,...c})};return[()=>{N=j,P=E,D=Z,q=ee,M=le,R=ie,e({ShelvesByShelfGroup:te,ShelvesByShelfType:ae})},[e=>(i=e.useTracking,t=e.TrackingScope),e=>(a=e.default,r=e.useCurrency,n=e.useLanguage,o=e.useLocale,d=e.useLocalize),e=>s=e.Spinner,e=>c=e.margin,e=>u=e.default,e=>v=e.default,e=>(h=e.useAutoscrollingList,p=e.CarouselScrollButton,m=e.Carousel),e=>g=e.default,e=>f=e.default,e=>(y=e.VerticalCard,I=e.HorizontalCard),e=>(S=e.jsx,C=e.jsxs),e=>(w=e.useRef,T=e.useCallback,k=e.Children),e=>x=e.default,e=>b=e.default,e=>_=e.default,e=>L=e.useQuery,e=>A=e.useSessionId,e=>z=e.useRoute,e=>B=e.useUserId]]},["zzfm0c","17thqz","1qndsd","gw8uw6","covaqn","1essqv","17yaz6","lr6tb6","1dpzon","1asj0s","121h32","1o4yt4","fkji80","a6i9w3","6qmqhw","1mqwhq","1al4vi","fgwvq1","52far5"]]);
