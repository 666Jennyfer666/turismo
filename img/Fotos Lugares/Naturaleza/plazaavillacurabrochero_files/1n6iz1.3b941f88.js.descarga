(this.$WP=this.$WP||[]).push(["1n6iz1",(e,i)=>{"use strict";var a,o,s,n,t,r,l,d,u,c,v,h,g,m,p,b,f,N,T,w,E,S,y,k,R,A,x,H,F,_,z,D,C,O,M,V=e=>{var{isOptimusEnabled:i,isOptimusSubscribed:o,fetching:s}=w(),n=b(),t=E(!i||o||!e.includes("Nova")||"en-US"!==n);return a((()=>o||!i?{fetching:s||t.fetching,targeting:"false"}:{fetching:s||t.fetching,targeting:t.cashbackEnabled?"Cashback":"Discount"}),[o,i,s,t])},j=["Hotels","HotelsList","HotelsNear","HotelHighlight","SmartDeals","Hotel_Review","ShowUserReviews","Home","ShowForum","ShowTopic"],L=e=>{var{page:i}=m(),a=S({experimentKeys:["nova_house_ads_holdback_1645552353"]},!j.includes(i)||!e.endsWith("Nova"));return null===a?{isNovaHoldbackEnabled:!1,fetching:!0}:{isNovaHoldbackEnabled:"test"===(null==a?void 0:a.nova_house_ads_holdback_1645552353)&&e.endsWith("Nova"),fetching:!1}},P={novaAd:"VnzpY",square:"ZzXVA",ad:"RnYjA j u",empty:"ZWKar Xd P0 o",fixMarginBottom:"DLdTM",withMargin:"giWkJ",hide:"XqoXi"},B=["Home"],U=({position:e,children:i,aboveTheFold:o=!1,viewportOverride:s,disableFallback:n=!1,marginVariant:t})=>{var r=m(),d=b(),u=p(),c=B.includes(r.page)?"3x3":{MOBILE:"300x250|8x8|3x3",TABLET:"728x90|3x3",DESKTOP:"728x90|3x3"}[s||u],{isMobileFluidHorizonTest:g,mobileFluidHorizonSize:f}=T(c),N=g?"horizon":void 0,w=f||c,{ref:E,id:S,isEmpty:R,isRendered:A,shouldRenderFallback:x,isDisabled:H}=v({size:w,position:e,aboveTheFold:o,refreshType:"NO_REFRESH",fluidType:N}),F=a((()=>null!=t?t:(e=>{switch(e){case"AttractionsFusion":return"fixMarginBottom";case"Hotels":return"withMargin";default:return""}})(r.page)),[t,r.page]),_=x&&A&&R;return H?null:k("div",{className:l(P.novaAd,{[P[F]]:(!R||_)&&F,[P.hide]:_&&n}),children:[_&&!i&&y(h,{position:e,locale:d,page:r.page,viewportOverride:s}),_&&i,y("div",{id:S,ref:E,className:l(P.ad,{[P.empty]:R})})]})},W=e=>y("div",{className:l(P.square,P.novaAd),children:y(g,{position:"RailNova",size:"300x250|3x3",isSticky:e.isSticky})}),q=e=>{var{position:i}=e;return k("div",{"data-automation":`nova-ad-${i}`,children:["InlineNova"===i&&y(U,{...e}),"RailNova"===i&&y(W,{...e})]})},I=e=>{var i=d(),a=V(e.position),o=z(e.position),s=N(e.position),n=e.additionalTargeting?{...e.additionalTargeting,PlusEligible:a.targeting,NovaTest:String(o.isNovaHoldbackEnabled)}:{PlusEligible:a.targeting,NovaTest:String(o.isNovaHoldbackEnabled)};return!i||a.fetching||o.fetching||s?null:y(c,{value:n,children:y(q,{...e})})},K=({position:e,...i})=>y(u,{position:e,children:y(I,{position:e,...i})}),Y=({theme:e,onClose:i})=>{var{localize:a}=f();return y("button",{className:l("VtDrB B- _S G-",{EkNQV:"sand"===e,LYjLi:"mint"===e,gopkK:"juniper"===e}),onClick:i,"aria-label":a.string("common_Close"),type:"button",children:y(_,{})})},G=({maxViews:e,storageKey:i,theme:a="mint",onClose:o,onVisible:s,children:l})=>{var{isWebview:d}=F(),[u,c]=n(!1),v=H((()=>{s&&s()})),h=t((()=>{c(!1),x.set(i,e),o&&o()}),[e,o,i]);return r((()=>{var a=x.has(i)?parseInt(x.get(i),10):0;a<e&&(c(!0),x.set(i,a+1))}),[e,i]),!u||d?null:k(C,{theme:a,ref:v,children:[y("div",{className:"GqDUn _U t",children:y(O,{theme:a,onClose:h})}),y("div",{className:"GNxwY w",children:l})]})},X="SUNova",J=({onDismiss:e})=>{var{page:i}=m(),a=R(),o=e=>{a({module:"Nova_Forum",context:i,action:e})},{ref:s,id:n,isEmpty:t,isLoaded:d,isDisabled:u}=v({size:"3x3",position:X,aboveTheFold:!0,refreshType:"NO_REFRESH"});return r((()=>{u&&e&&e()})),u?null:y("div",{className:l({fdTDu:!d||t}),children:y(M,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{o("Nova_Forum_seen")},onClose:()=>{o("Nova_Forum_closed")},children:y("div",{ref:s,id:n,className:l("WanOy")})})})},Z=({onDismiss:e})=>{var i=V(X),a=z(X);if(i.fetching||a.fetching)return null;var o={fluidType:"nova",PlusEligible:i.targeting,NovaTest:String(a.isNovaHoldbackEnabled)};return y(u,{position:X,children:y(c,{value:o,children:y(J,{onDismiss:e})})})},Q=()=>{var e="nova-ads";return A({factory:({dismiss:e})=>(e=>y(Z,{onDismiss:e}))(e),eventTypes:[e],key:e,tier:600}),null},$=["MOBILE"],ee=["Tourism","Hotel_Review","Restaurants","Restaurants_Review","ShowForum","ShowTopic"],ie=["en-US","fr-FR","en-AU","en-GB","en-CA","fr-CA","es-MX","it-IT","es-ES","ja-JP","ko-KR","zh-Hant-TW","en-IN","de-DE","nl-NL","pt-BR"],ae=()=>{var e=m(),i=b(),{page:a,params:o}=e,{userAgentCategory:s}=F(),n=p();return 14281!==(("ShowTopic"===a||"ShowForum"===a)&&o.forumId||0)&&("en-US"===i||!!($.includes(s)&&$.includes(n)&&ie.includes(i)&&ee.includes(a)))};return[()=>{z=L,D=o(K),C=s((function({theme:e,children:i},a){return y("div",{ref:a,className:l("QYpDj f o D s Za",{ZJOYm:"mint"===e,tgbJQ:"sand"===e,ATqso:"juniper"===e,APNAO:"nova"===e}),role:"dialog",children:i})})),O=Y,M=G,e({NovaStickyAd:Q,default:D,useNovaAd:ae})},[e=>(a=e.useMemo,o=e.memo,s=e.forwardRef,n=e.useState,t=e.useCallback,r=e.useEffect),e=>l=e.default,e=>d=e.useIsMounted,e=>(u=e.AdErrorBoundary,c=e.AdTargetingProvider,v=e.useAd,h=e.FallbackSelector,g=e.RailAd),e=>m=e.useRoute,e=>p=e.useViewportCategory,e=>(b=e.useLocale,f=e.useLocalize),e=>(N=e.useAttractionReviewAdRemovalTest,T=e.useMobileFluidHorizonTest),e=>w=e.useOptimusEnabledForUser,e=>E=e.useCashbackEnabled,e=>S=e.default,e=>(y=e.jsx,k=e.jsxs),e=>R=e.useGARecorder,e=>A=e.usePopupHierarchyRender,e=>x=e.default,e=>H=e.useOnVisible,e=>F=e.useUserAgent,e=>_=e.default]]},["1o4yt4","fkji80","1mb2nz","19m912","fgwvq1","1ys6v1","17thqz","1nexzi","14tv4a","17g0c7","gugp1d","121h32","32pwc7","1xo1is","19b9b1","13btuy","1nnprh","1qkjm8"]]);
