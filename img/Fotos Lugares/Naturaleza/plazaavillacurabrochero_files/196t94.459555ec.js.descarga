(this.$WP=this.$WP||[]).push(["196t94",(e,t)=>{"use strict";var i,n,o,r,a,s,l,c,u,d,m,p,g,f,v,h,y,S,b,T,_,k,N,P,B,C,x,D,w,L,I,K,M,O,F,R,E,j,q,z,A,U=()=>{var{localize:e}=a(),t=()=>e("soft_login_banner_text"),i=l(s,{variant:"title-05",display:"inline",children:e("soft_login_banner_title")}),n=l("div",{className:"EblnO",children:l(s,{variant:"supporting-01",display:"inline",marginLeft:"spacing-00",marginTop:"spacing-01",children:t()})}),o=l("div",{className:"iWkln",children:l(s,{variant:"title-06",display:"inline",marginLeft:"spacing-01",marginTop:"spacing-00",children:t()})});return c("div",{className:"iBiJj",children:[i,n,o]})},X=()=>{var e=B(),t=P(),i=C(),n=x(),o=D(),r=w();return({impressionKey:a,itemName:s,itemType:l,customData:c})=>{var u={page:t,pageUid:i,sessionId:n,geoId:r,userId:o,team:"Other",impressionKey:a,itemName:s,itemType:l,customData:JSON.stringify(c)};e(u)}},Y=()=>{var e=L(),t=P(),i=C(),n=x(),o=D(),r=w();return({impressionKey:a,itemName:s,itemType:l,actionType:c,actionSubType:u,customData:d})=>{var m={page:t,pageUid:i,sessionId:n,geoId:r,userId:o,team:"Other",impressionKey:a,itemName:s,itemType:l,actionType:c,actionSubType:u,customData:JSON.stringify(d)};e(m)}},W=()=>l("div",{className:"bKtFP",children:l(n,{size:"small",variant:"primary",children:l(r,{id:"soft_login_banner_button"})})}),H=()=>{var e=u(),t=R(),n=E(),{funnelKey:o}=d(h),r=P(),{bucket:a}=T({pause:!1,skipImpression:!0}),{bucket:s}=_({pause:!1,logImpression:!1}),{hotels:g,attractions:f}=b(),v=m((()=>{var e={variant:s||a};if("HotelsFusion"===r){var t=!(null==g||!g.checkInDate||null==g||!g.checkOutDate||null!=g&&g.defaultDates);return{...e,isDated:t}}if(j.has(r)){var i=!(null==f||!f.fromDate||null==f||!f.toDate);return{...e,isDated:i}}return e}),[a,s,r,g,f]),k=S(15e3,"SoftLoginBanner","MembershipBounce15s",t,v),N=S(3e4,"SoftLoginBanner","MembershipBounce30s",t,v),B=y((()=>{t({impressionKey:o,itemName:"SoftLoginBanner",itemType:"MembershipBanner",customData:v}),k(),N()})),C=p((()=>{n({impressionKey:o,itemName:"SoftLoginBanner",itemType:"MembershipBanner",actionType:"click",actionSubType:"cta",customData:v}),e({flowOrigin:"login",isFullWidthMobile:!0,onSuccess:e=>{t({customData:{...v,newMember:!(null==e||!e.hasCreatedMember)},impressionKey:o,itemName:"SuccessfulLogin",itemType:"MemberLoginFlow"})},onClose:()=>{n({impressionKey:o,itemType:"MembershipPrompt",itemName:"SoftLoginBanner",actionType:"click",actionSubType:"close",customData:v})}})}),[n,e,t,v,o]);return c("div",{className:"ZMdlv Pj PX Pw PJ _S f Fi",role:"link",onClick:C,onKeyPress:C,tabIndex:0,ref:B,children:[l(i,{className:"ZSNFY",src:"img2/brand_refresh/Tripadvisor_logoset_solid_white.svg",alt:"Tripadvisor logo"}),c("div",{className:"emVeP",children:[l(F,{}),l(W,{})]})]})},J=({onClose:e,reference:t})=>{var{localize:i}=a();return l("span",{className:"lrXUp _T",children:l(o,{icon:I,size:"small",onClick:t=>{t.stopPropagation(),e()},"aria-label":i.string("tooltip_close"),ref:t})})},V=({onClose:e,onClick:t,title:i,text:o,buttonText:r,reference:a})=>{var u=g(null);return c("div",{ref:a,className:"onZPv _S f H e _V Ra Gg Pk PY Px PK",onClick:t,role:"presentation",children:[c("div",{className:"f k",children:[l(s,{elementType:"div",variant:"title-04",marginBottom:"spacing-02",children:i}),l(J,{onClose:e,reference:u})]}),l("div",{children:o}),!!r&&l("div",{children:l("div",{className:"fHVdP _m",children:l(n,{fullWidth:!0,children:r})})})]})},Z=({triggerRef:e,onClick:t,title:i,text:n,buttonText:o,position:r,alignEdge:a,shiftX:s,shiftY:c,shiftArrow:u,hideOnScrollX:S,hideOnScrollY:T,autoFocus:B,isUpdatedOnScroll:C,skipSessionCheck:x,softLoginExperiment:D,dismiss:w,isTriggerRefStickied:L})=>{var I,F,j=g(null),[q,A]=f(!1),[U,X]=f(null==(I=e.current)?void 0:I.getBoundingClientRect().left),[Y,W]=f(null==(F=e.current)?void 0:F.getBoundingClientRect().top),H=k(D,x),J=N(D),[Z,G]=f(!(null==L||!L.current)),$=R(),Q=E(),{funnelKey:ee}=d(h),te=P(),{attractions:ie}=b(),{bucket:ne}=_({pause:!1,logImpression:!1}),oe=m((()=>{var e={variant:ne};if(z.has(te)){var t=!(null==ie||!ie.fromDate||null==ie||!ie.toDate);return{...e,isDated:t}}return e}),[ne,te,ie]),re=y((()=>{q&&$({impressionKey:ee,itemName:"SoftLoginSave",itemType:"SaveModalPrompt",customData:oe})}));v((()=>A(H)),[H]),v((()=>{var t,i;X(null==(t=e.current)?void 0:t.getBoundingClientRect().left),W(null==(i=e.current)?void 0:i.getBoundingClientRect().top)}),[e]),v((()=>{q&&J()}));var ae=p((()=>{A(!1),null==w||w()}),[w]);M("Escape",ae);var se=t=>{var i,n,o=(null==(i=e.current)?void 0:i.getBoundingClientRect().left)!==U,r=(null==(n=e.current)?void 0:n.getBoundingClientRect().top)!==Y;"wheel"!==t.type&&"scroll"!==t.type&&"touchmove"!==t.type||!(S&&o||T&&r)||ae();var a=!(null==L||!L.current);L&&a!==Z&&G(a)};O("click",(e=>{var t;"click"===e.type&&e.target instanceof Node&&(null==(t=j.current)||!t.contains(e.target))&&ae()}),void 0),O("wheel",se,void 0),O("scroll",se,void 0),O("touchmove",se,void 0);var le=p((()=>{ae(),Q({impressionKey:ee,itemName:"SoftLoginSave",itemType:"SaveModalPrompt",actionType:"click",actionSubType:"close",customData:oe})}),[ae,Q,ee,oe]),ce=p((()=>{ae(),Q({impressionKey:ee,itemName:"SoftLoginSave",itemType:"SaveModalPrompt",actionType:"click",actionSubType:"cta",customData:oe}),t()}),[ae,Q,ee,oe,t]),ue=l(V,{onClose:le,onClick:ce,title:i,text:n,buttonText:o,reference:j});return v((()=>{e.current||null==w||w()}),[e,w]),e.current?q&&l("div",{ref:re,children:l(K,{target:e.current,position:r,alignEdge:a,shiftX:s,shiftY:c,shiftArrow:u,unstyled:!0,showArrowWhenUnstyled:!0,autoFocus:!!B,isUpdatedOnScroll:!!C,fixed:Z,children:ue})}):null},G=({triggerRef:e,onSave:t,position:i,alignEdge:n,shiftX:o,shiftY:r,shiftArrow:s,hideOnScrollX:c,hideOnScrollY:u})=>{var{localize:d}=a();return l(A,{triggerRef:e,onClick:t,title:d.string("soft_login_heart_icon_tooltip_title"),text:d.string("soft_login_heart_icon_tooltip_text"),buttonText:d.string("soft_login_heart_icon_tooltip_save_button"),position:i,alignEdge:n,shiftX:o,shiftY:r,shiftArrow:s,hideOnScrollX:c,hideOnScrollY:u,autoFocus:!0,softLoginExperiment:"heart_icon"})};return[()=>{F=U,R=X,E=Y,j=new Set(["AttractionsFusion","AttractionProductsFusion"]),q=H,z=new Set(["AttractionsFusion"]),e({SaveTooltip:G,SoftLoginBanner:q,SoftLoginTooltip:A=Z})},[e=>i=e.CdnImage,e=>(n=e.default,o=e.CircularButton),e=>(r=e.default,a=e.useLocalize),e=>s=e.default,e=>(l=e.jsx,c=e.jsxs),e=>u=e.default,e=>(d=e.useContext,m=e.useMemo,p=e.useCallback,g=e.useRef,f=e.useState,v=e.useEffect),e=>h=e.FunnelTracking,e=>y=e.useOnVisible,e=>S=e.useBounceTracking,e=>b=e.useTravelInfo,e=>(T=e.useListPageMembershipBannerBucket,_=e.useMembershipBannerAndHeartIconBucket,k=e.useIsSoftLoginPromptSessionEligible,N=e.useUpdateSoftLoginPromptSessions),e=>P=e.default,e=>B=e.default,e=>C=e.usePageviewUid,e=>x=e.useSessionId,e=>D=e.useUserId,e=>w=e.useGeoId,e=>L=e.default,e=>I=e.default,e=>K=e.default,e=>M=e.useKeyboardEvent,e=>O=e.useWindow]]},["1s6q22","jppfwt","17thqz","1essqv","121h32","lchj5q","1o4yt4","1kkqcv","13btuy","19n7e2","1etaac","1rfo7h","eqoaya","xg719z","fgwvq1","1al4vi","52far5","a2qxj9","1r73jw","1qkjm8","1x9dv9","1gttbj","ltllz9"]]);
