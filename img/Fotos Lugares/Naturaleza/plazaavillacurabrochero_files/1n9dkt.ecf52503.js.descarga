(this.$WP=this.$WP||[]).push(["1n9dkt",(e,t)=>{"use strict";var n,a,i,s,r,o,l,c,u,d,f,m,p,h,b,g,v,k,y,w,O,C,_,S,T,P,B,D,H,x,V,N,q=({position:e,variant:t,onClose:i,onCtaClick:s,onVisible:r=(()=>{}),positionOffset:o,scrollOffset:l,setFooterHeight:c})=>{var{localize:u}=T(),d=w(r),f=n((()=>{d.current&&d.current.clientHeight&&c&&c(d.current.clientHeight)}),[d,c]);a((()=>(f(),()=>{c&&c(0)})),[c,f]);var m=(e=>{var{localize:t}=T();switch(e){case"cyber-week-countdown":return{message:"PLUS-7139: Insert the countdown variant here!!!",cta:"TodoCta-PLUS-7139"};case"cyber-week-no-countdown":return{message:"PLUS-7139: Insert the no-countdown variant here!!!",cta:"TodoCta-PLUS-7139"};case"sign-in-is":return{message:t.string("plus_hotels_banner_sign_in_is"),cta:t.string("plus_hotels_banner_cta")};case"sign-in-vf":return{message:t.string("plus_hotels_banner_sign_in_vf"),cta:t.string("plus_hotels_banner_cta")};default:return null}})(t);return m?v(B,{position:e,positionOffset:o,scrollOffset:l,children:[v("div",{className:"YDVuO Gs f",ref:d,id:"optimus-sticky-footer",children:[v("div",{className:"qrcQv f",children:[k("div",{className:"qeBDj f",children:k(S,{variant:"plus-logo-short-white",height:24})}),k("div",{className:"PYjqi",children:v("span",{children:[k(_,{elementType:"span",variant:"body-01",color:"onDarkText",children:m.message}),m.cta&&v(y,{children:[k(D,{elementType:"span",marginRight:"spacing-01"}),k(_,{elementType:"span",variant:"button-02",color:"onDarkText",children:k("span",{className:"q _S",onClick:s,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"===(null==e?void 0:e.key)&&s()},children:m.cta})})]})]})})]}),k("div",{className:"WdQae f",children:k("div",{className:"QQOJq _Q",children:k(O,{variant:"clear-on-dark",icon:C,"aria-label":u.string("common_Close"),onClick:i})})})]}),c&&k(P,{callback:f,throttle:100})]}):null},j={mobileOffset:0,tabletOffset:0,desktopOffset:0},R={mobileOffset:-200,tabletOffset:-200,desktopOffset:-200},E=()=>{var e=f();return{fetching:!1,bannerConfig:i((()=>e?K(!1,e):null),[e,!1])}},K=(e,t)=>t?{bannerVariant:e?"cyber-week-countdown":"cyber-week-no-countdown",position:"footer",positionOffset:j,scrollOffset:R}:(console.error("Unable to calculate banner config"),null),L="showingBannerOnPageView",z=["Attraction_Products","Attraction_Review","AttractionProductReview","AttractionProductsFusion","OptimusHotelCheckout","OptimusSubscriptionCheckout","Plus","Home","Hotel_Review","Hotels","HotelsHome","HotelsList","HotelsNear","SmartDeals","Tourism","HotelHighlight"],I=()=>m.get("sessionPreviouslyDismissedBanner")||0,Q=({children:e,variant:t,maxDismissSession:n,onSkip:r,forceShow:o=!1})=>{var l=i(I,[]),[c,u]=s(!1),{enabled:d,fetching:f}=g(),v=p(),k=b(),y=!1,w=!1;switch(t){case"cyber-week-countdown":case"cyber-week-no-countdown":y=z.includes(k);break;case"plus-curation-phase-3":y=!h(k,!1),w="DESKTOP"===v}var O=l<n&&!y&&!w&&!d;return a((()=>{c||O||m.get(L)||o||f||!r||r()}),[O,c,o,r,f]),a((()=>{!c&&O&&(m.set(L,!0),u(!0))}),[O,c,r]),O||m.get(L)&&!y&&!d&&!f||o?e:null},U=({onDismiss:e})=>{var[t,i]=s(!1),[o,f]=s(!1),{fetching:m,bannerConfig:p}=x(),h=u(),b=d(),g=n((()=>{b({actionSubType:"OptimusBannerClick",actionType:"click",externalKey:N,itemName:"OptimusMarketingBanner",itemType:"optimusBannerCta",customData:{variant:null==p?void 0:p.bannerVariant}}),null!=p&&p.ctaRedirect?null==p||p.ctaRedirect(N):i(!0)}),[p,b]),y=n((()=>{b({actionSubType:"OptimusBannerClick",actionType:"click",externalKey:N,itemName:"OptimusMarketingBanner",itemType:"optimusBannerClose",customData:{variant:null==p?void 0:p.bannerVariant}}),f(!0)}),[p,b]),w=n((()=>{h({externalKey:N,itemName:"OptimusMarketingBanner",itemType:"optimusBanner",customData:{variant:null==p?void 0:p.bannerVariant}})}),[p,h]);if(l("Escape",(()=>{y()})),a((()=>{m||!o&&p||!e||r((()=>{e()}))}),[p,o,m,e]),m||o||!p)return null;var{bannerVariant:O,modalVariant:C,position:_,positionOffset:S,scrollOffset:T}=p;return v(V,{variant:O,maxDismissSession:1,onSkip:()=>f(!0),children:[k(H,{position:_,variant:O,onClose:y,onCtaClick:g,onVisible:w,positionOffset:S,scrollOffset:T}),t&&C&&k(c,{variant:C,onClose:()=>i(!1)})]})};return[()=>{H=q,x=E,V=Q,N=o(),e("default",U)},[e=>(n=e.useCallback,a=e.useEffect,i=e.useMemo,s=e.useState,r=e.startTransition),e=>o=e.uuid,e=>l=e.useKeyboardEvent,e=>c=e.default,e=>(u=e.useOptimusImpression,d=e.useOptimusInteraction),e=>f=e.useCyberWeekEnabled,e=>m=e.default,e=>p=e.useViewportCategory,e=>h=e.isFooterSupportedPage,e=>b=e.default,e=>g=e.useRecoBannerGuard,e=>(v=e.jsxs,k=e.jsx,y=e.Fragment),e=>w=e.useOnVisible,e=>O=e.CircularButton,e=>C=e.default,e=>_=e.default,e=>S=e.default,e=>T=e.useLocalize,e=>P=e.default,e=>B=e.Sticky,e=>D=e.Box]]},["1o4yt4","1eww82","1gttbj","1bnv3w","1yc73m","17g0c7","tp1g68","1ys6v1","24j2l1","eqoaya","sbz3c6","121h32","13btuy","jppfwt","1qkjm8","1essqv","sw5ax0","17thqz","d6vj30","wrg2oq","lyyh8d"]]);
