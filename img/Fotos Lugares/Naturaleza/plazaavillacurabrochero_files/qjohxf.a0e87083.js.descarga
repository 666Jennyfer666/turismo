(this.$WP=this.$WP||[]).push(["qjohxf",(e,r)=>{"use strict";var t,n,a,o,i,l,s,u,c,d,h,g,p,m,f,v,P,y,I,S,b,A,D,T,E,w,C,R,k,O,N,M,L,U,_,j,x,V,q,z,G,$,H,W,F,B,J,K,Y,X,Q,Z,ee,re,te,ne,ae,oe,ie,le,se,ue,ce,de,he,ge,pe,me,fe,ve,Pe,ye,Ie,Se,be,Ae,De={__key:0xd75d4d12e01b,id:"d75d4d12e01b7ee3e966bf42f954abc0",loc:{},definitions:[]},Te={__key:57199890449091,id:"3405e326c2c3293d928cc2d4e49569ce",loc:{},definitions:[]},Ee=e=>null==e?null:`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,we=(e,r)=>{var t=D(),a=P(),{userAgentCategory:o,browser:i,os:l}=m(),s=T(),u=C(),c=g(),d=h(Te),{preferences:p,attractions:f,restaurants:v,hotels:y,flights:I,vr:S}=k(),{singleDate:b,toDate:A,fromDate:E,...w}=f,R={attractions:{...w,singleDateStr:Ee(f.singleDate),toDateStr:Ee(f.toDate),fromDateStr:Ee(f.fromDate)}},{date:O,...N}=v,M={restaurants:{...N,dateStr:Ee(v.date)}},L=null==y?{hotels:{defaultDates:null,rooms:null,adults:null,children:null,childAgesPerRoom:null,checkInDateStr:null,checkOutDateStr:null}}:{hotels:{defaultDates:y.defaultDates,rooms:y.rooms,adults:y.adults,children:y.children,childAgesPerRoom:y.childAgesPerRoom,checkInDateStr:Ee(y.checkInDate),checkOutDateStr:Ee(y.checkOutDate)}},{oneWayDate:U,departureDate:_,returnDate:j,...x}=I,V={flights:{...x,oneWayDateStr:Ee(I.oneWayDate),departureDateStr:Ee(I.departureDate),returnDateStr:Ee(I.returnDate)}},{checkInDate:q,checkOutDate:z,...G}=S,$={vr:{...G,checkInDateStr:Ee(S.checkInDate),checkOutDateStr:Ee(S.checkOutDate)}};n((()=>{d({clientPageViews:{clientRequestTimestampMs:Date.now(),request:[{eventTimestampMs:Date.now(),identifierType:"TA_PERSISTENTCOOKIE",locale:t,userId:u,sessionId:c,origin:location.origin,page:e.page,params:Object.entries(e.params).map((([e,r])=>({key:e,value:"object"!=typeof r?String(r):JSON.stringify(r)||""}))),path:e.path,referrer:document.referrer,route:JSON.stringify(e),currency:s,uid:r,userAgent:navigator.userAgent,viewportCategory:a,userAgentCategory:o,browserType:i.family,browserVersion:String(i.majorVersion),osType:l.family,customData:JSON.stringify({preferences:p,...R,...M,...L,...V,...$})}]}})}),[r])},Ce=e=>{var r=K((()=>{var e="undefined"!=typeof document?document.cookie.split(";").find((e=>e.includes("TASID="))):null;if(!e)return null;try{return e.split("=")[1]}catch(r){return console.error(`Unable to parse TASID cookie: '${e}'`),null}})())||Y();return"undefined"!=typeof document&&(document.cookie=`TASID=${r}; Domain=${e}; Path=/; Max-Age=1800; Secure`),r},Re=["NotFound","InternalError","ClientRedirect"],ke=(e,r)=>`${-1===e.indexOf("#")?e:e.split("#")[0]}${""!==(r||"")?`#${r||""}`:""}`,Oe=({bootstrapRoute:e,bootstrapUid:r,bootstrappedServerSideCanonicalized:s,onSessionIdChanged:u,children:c})=>{var[d,g]=a(e),[p,m]=a(r),[f,v]=a(!!s),P=o("INITIAL"),y=o(""),I=h(De),b=C(),A=S(),D=o(!1),T=i(((e,r="PAGE_VIEW",t=!1)=>{D.current||v(!1),d.page!==e.page||!$(d.params,e.params)||"PAGE_VIEW"!==r&&"PARAM_UPDATE"!==r?P.current=r:P.current=d.fragment!==e.fragment?"FRAGMENT_PUSH":"IN_PLACE";var n=t||"PAGE_VIEW"===P.current||"POP"===P.current||"PARAM_UPDATE"===P.current;(n||"INITIAL"===P.current)&&("referrer"in e&&null!=e.referrer?y.current=e.referrer:y.current=`https://${A}${d.path||"/"}`,((e,r,t,n,a,o)=>{var i=Date.now();e({navigations:{clientRequestTimestampMs:i,request:[{eventTimestampMs:i,fromPage:t.page,fromParams:Object.entries(t.params).map((([e,r])=>({key:e,value:"object"!=typeof r?String(r):JSON.stringify(r)||""}))),fromPath:t.path,fromRoute:JSON.stringify(t),identifierType:"TA_PERSISTENTCOOKIE",navigationType:"PAGE_VIEW"===a||"FRAGMENT_PUSH"===a||"PARAM_UPDATE"===a||"IN_PLACE"===a?"USER_INITIATED":a,opaqueIds:o?[{key:"MEMBER_UID",value:o}]:[],origin:location.origin,referrer:document.referrer,toPage:n.page,toParams:Object.entries(n.params).map((([e,r])=>({key:e,value:"object"!=typeof r?String(r):JSON.stringify(r)||""}))),toPath:n.path,toRoute:JSON.stringify(n),uid:r,userAgent:navigator.userAgent}]}})})(I,p,d,e,P.current,b)),g({page:e.page,params:e.params,path:ke(e.path,e.fragment),fragment:e.fragment}),n&&(null==u||u(Pe(A)),m(X()))}),[u,A,I,d,p,b]),E=i(((e,r="FRAGMENT_PUSH")=>{d.fragment!==e&&(P.current=r,g({...d,path:ke(d.path,e),fragment:e||""}))}),[d]),w=t.useCallback((()=>{try{var e;history.replaceState({...history.state,scrollY:window.scrollY},"",(null==(e=history.state)?void 0:e.path)||d.path)}catch(e){console.error("Caught exception while accessing History API:",e)}}),[d.path]),R=Q(w,300),k=o("");n((()=>(k.current=window.location.hash,y.current=document.referrer||"","scrollRestoration"in history&&(history.scrollRestoration="manual"),window.addEventListener("scroll",R),()=>{window.removeEventListener("scroll",R)})),[R]);var O=o(null),N=G();n((()=>{var e,r=null==(e=history.state)?void 0:e.scrollY;null==r||"POP"!==P.current&&"INITIAL"!==P.current||window.scroll(0,r);try{"INITIAL"===P.current?(history.state&&"referrer"in history.state&&history.state.referrer&&(y.current=history.state.referrer),history.replaceState({...d,referrer:y.current},"",d.path)):"FRAGMENT_PUSH"===P.current||"PARAM_UPDATE"===P.current?history.pushState({...d,referrer:y.current},"",d.path):"PAGE_VIEW"===P.current?(history.pushState({...d,referrer:y.current},"",d.path),window.scroll(0,0)):"IN_PLACE"===P.current&&history.replaceState({...d,referrer:y.current},"",d.path)}catch(e){console.error("Caught exception while accessing History API:",e)}}),[d,A,N,T]);var M=o(T);n((()=>{if(Object.defineProperty(document,"referrer",{configurable:!0,get:()=>y.current}),""!==k.current){var e=W(`${window.location.pathname}${window.location.search}${k.current}`);e&&(D.current=!0,M.current(e,"INITIAL"))}}),[]),n((()=>{Re.includes(d.page)||D.current?D.current=!1:(f||"INITIAL"!==P.current&&"PAGE_VIEW"!==P.current&&"POP"!==P.current&&"PARAM_UPDATE"!==P.current||F(N,d,"PARAM_UPDATE"===P.current).then((e=>{var r;$(d,e)||(null!=(r=H.get(e.page))&&r.isClientNavigable({sourcePage:d.page})?(P.current="IN_PLACE",$(d.params,e.params)?g({...e,params:d.params}):g(e)):window.location.href=e.path)})),P.current="PAGE_VIEW",O.current=d)}),[d,A,N,f,T]),we(d,p);var L=l((()=>Object.freeze({route:B(d),navigate:T,navigateToFragment:E,uid:p})),[d,p,T,E]);return Z(J,{value:L,children:c})},Ne=({locale:e,children:r,webviewCurrencyOverride:t})=>{var{userSelectedCurrencyOverride:n}=k().preferences,a=l((()=>{var r,a,o,i=null!=(r=null!=(a=null!=t?t:n)?a:null==(o=te[e])?void 0:o.currency)?r:"USD";return"RMB"===i&&(i="CNY"),{locale:e,currency:i}}),[t,e,n]);return Z(E,{value:a,children:r})},Me=e=>{var r=o({});0===Object.keys(r.current).length&&(r.current={...e.messages});var[t,n]=a(!1),i=l((()=>({getMessage:e=>r.current[e]||null,loadMessages:e=>{Object.entries(e).forEach((([e,t])=>{r.current[e]=t}))},showTranslationKeys:t,toggleShowTranslationKeys:()=>n((e=>!e))})),[t,n]),[s,h]=a((()=>e.sessionId||Pe(e.domainName))),g=l((()=>Object.freeze(e.lithiumBootstrap)),[e.lithiumBootstrap]),[m,P]=a(e.userId),S=l((()=>({userId:m,authenticate(e){void 0!==e.userId&&P(e.userId)}})),[m]),D=l((()=>({TAUD:null,...e.cookies})),[e.cookies]),T=Object.freeze(e.userAgent);return Object.freeze(T.os),Object.freeze(T.browser),Object.freeze(T.renderEngine),Object.freeze(T.jsEngine),Z(N,{children:Z(O,{taud:D.TAUD,children:Z(Ie,{locale:e.locale,webviewCurrencyOverride:e.webviewCurrencyOverride,children:Z(b,{value:e.domainName,children:Z(A,{value:e.cdnPrefix,children:Z(f,{value:T,children:Z(v,{value:e.securityToken,children:Z(R,{value:S,children:Z(d,{client:e.urqlClient,children:Z(y,{children:Z(I.Provider,{value:g,children:Z(p,{value:s,children:Z(ye,{bootstrapRoute:e.route[0],bootstrapUid:e.route[1].uid,bootstrappedServerSideCanonicalized:e.serverSideCanonicalized,onSessionIdChanged:h,children:Z(ne,{children:ee(re,{children:[Z(M,{}),Z(w.Provider,{value:i,children:ee(V,{children:[Z(x,{lazyChunkIds:e.lazyChunkIds,appVersion:g.version,assets:e.assets}),Z(u,{children:Z(c,{children:Z(j,{initialThemeStore:e.themeStore,children:e.children})})})]})})]})})})})})})})})})})})})})})})},Le=()=>{var{mode:e,setMode:r}=s(z);return ee("div",{children:[Z("h3",{children:"Hot Module Reload"}),Z("p",{children:"Hot Module Reload is currently available for this application."}),ee(me,{name:"hmrRadio",ariaLabelledBy:"hmrRadioLabel",children:[Z("b",{id:"hmrRadioLabel",children:"When a module needs to be reloaded:"}),Z(fe,{value:"module",selected:"module"===e,onSelect:()=>r("module"),label:ee(re,{children:["Use"," ",Z("a",{href:"https://github.com/facebook/react/issues/16604#issuecomment-528663101",children:"react fast-refresh"})," ","to reinitialize the module in place"]})}),Z(fe,{value:"document",selected:"document"===e,onSelect:()=>r("document"),label:"Refresh the underlying document"}),Z(fe,{value:"ignore",selected:"ignore"===e,onSelect:()=>r("ignore"),label:"Ignore it"})]})]})},Ue=()=>(ve("HMR",be),null),_e=()=>q()?Z(Ue,{}):null,je=({children:e})=>{var{login:r}=ce();return Z(se.Provider,{value:r,children:e})},xe=({children:e})=>(de(),n((()=>{var e=document.cookie.split(";").filter((e=>e.trim().startsWith("EVT=")));e.length>0&&oe(new URLSearchParams(e[0].split("=")[1].split("*").map((e=>{var[r,t]=e.split(".",2);return[r,t]}))))}),[]),Ae.useIsomorphicIncrement(1),ee(re,{children:[Z(ae,{}),Z(ie,{children:ee(he,{children:[Z(_e,{}),Z(je,{children:Z(ue,{children:Z(le,{children:e})})})]})}),Z(pe,{}),Z(ge,{})]}));return[()=>{Pe=Ce,ye=Oe,Ie=Ne,Se=Me,be=Z(Le,{}),Ae=new L({metricName:"1ItPi6291mgUX3pmUpNDSsfmvEFxiV4K34cxN6guTx01xRfl7e4nVd9GKAvRnh4o",version:0,additionalLabels:["1ItPi6291mgUX3pmUpNDSrQC2e3FptICirP/9PT4nx1Dpa7sVgfT7EbUV+bLw5ErNvVZjTPjvBCLu33fU13esg=="],labelHooks:[U,_]}),e({LithiumContainer:Se,TripadvisorPage:xe,lithiumIdentifierPrefix:"lithium-",usePageViewLogging:we})},[e=>(t=e,n=e.useEffect,a=e.useState,o=e.useRef,i=e.useCallback,l=e.useMemo,s=e.useContext),e=>u=e.KeyboardNavigationModeProvider,e=>c=e.CartHeaderProvider,e=>(d=e.default,h=e.useStatelessMutation),e=>(g=e.useSessionId,p=e.SessionProvider),e=>(m=e.useUserAgent,f=e.UserAgentProvider),e=>v=e.SecurityTokenProvider,e=>(P=e.useViewportCategory,y=e.ViewportCategoryProvider),e=>I=e.LithiumBootstrapContext,e=>(S=e.useDomainName,b=e.DomainNameProvider),e=>A=e.CdnPrefixProvider,e=>(D=e.useLocale,T=e.useCurrency,E=e.I18nProvider,w=e.Messages),e=>(C=e.useUserId,R=e.UserProvider),e=>(k=e.useTravelInfo,O=e.LithiumTravelInfoProvider),e=>(N=e.ErrorBoundary,M=e.WebMonitoring,L=e.Counter,U=e.useSourceLabel,_=e.useRenderLabel),e=>j=e.LithiumThemeProvider,e=>x=e.default,e=>(V=e.HotModuleReloadControlContextProvider,q=e.useIsHotModuleReloadEnabled,z=e.HotModuleReloadControlContext),e=>G=e.useClient,e=>$=e.default,e=>H=e.pages,e=>(W=e.getRouteFromPath,F=e.tryToCanonicalizeRoute,B=e.freezeRoute,J=e.RouteProvider),e=>(K=e.validSessionIdOrNull,Y=e.generateSessionGuid,X=e.generateLithiumPuid),e=>Q=e.useDebouncedCallback,e=>(Z=e.jsx,ee=e.jsxs,re=e.Fragment),e=>te=e.pointsOfSale,e=>ne=e.default,e=>ae=e.PageViewLogger,e=>oe=e.enqueue,e=>ie=e.MonikerConfiguration,e=>le=e.PopupHierarchyLithiumProvider,e=>se=e.Login,e=>ue=e.AdServerProvider,e=>ce=e.default,e=>de=e.useConsentFramework,e=>he=e.default,e=>ge=e.GoogleAnalyticsLoader,e=>pe=e.GoogleTagManager,e=>(me=e.RadioGroup,fe=e.RadioButton),e=>ve=e.useDebugPane]]},["1o4yt4","12r4qu","3cotbs","1fbuhs","1al4vi","1nnprh","ahlu9q","1ys6v1","p5p2yo","qlcuu5","1s6q22","17thqz","52far5","1etaac","183pm0","1g05ql","vbk5jk","1t9nvq","1mqwhq","b5nukb","u5g3tb","fgwvq1","1c3xck","dsbyen","121h32","1gyzem","promjz","1vumu0","32pwc7","1emwhd","1xo1is","lchj5q","iog21h","rdycz1","1973cc","vjlqzu","4x6ber","1904jn","frf6ac","1uvk21"]]);
