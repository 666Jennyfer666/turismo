(this.$WP=this.$WP||[]).push(["1b53rh",(e,t)=>{"use strict";var a,r,u,l,n,s,i,d,m,g,c="/media/",o=(e,t,a)=>{var r,u=`${a}${e}`,l=!1;return u+=(r=t.mediaId)?`/${r.id}:${r.type||"u"}`:"",(t.albumId||t.typeId||t.categoryId)&&(u+="/?",l=!0),l&&((t.albumId||0===t.albumId)&&(u+=`albumid=${t.albumId}&`),(t.typeId||0===t.typeId)&&(u+=`type=${t.typeId}&`),(t.categoryId||0===t.categoryId)&&(u+=`category=${t.categoryId}&`),"&"===u.substring(u.length-1)&&(u=u.substring(0,u.length-1))),u},b=(e,t)=>{var a=e.split("/");a.splice(0,2);var r,u,l,n,s,i=null,d=null,g="u";switch(a.length){case 0:break;case 1:[i]=a;break;case 2:a[1].indexOf("=")>0?[i,s]=a:[i,d]=a;break;default:[i,d,s]=a}if(null!=s){var c=new URLSearchParams(s);c.has("albumid")&&(u=c.get("albumid")),c.has("type")&&(l=c.get("type")),c.has("category")&&(n=c.get("category"))}if(null!=d){var o=d.split(":");r=Number(o.shift()),g=o.shift()}return{locationId:Number(i),state:{mediaId:null!=r?{id:r,type:m(g)}:null,albumId:Number(u),typeId:Number(l),categoryId:Number(n),sort:t}}},y=(e,t,m,y)=>{var{fragment:I}=i(),f=d(),p=e||0,h=a(t),v=a(I),N=null!=m&&""!==m?`/media-${m}/`:c,{sort:$}=t||{},F=r((()=>I&&I.startsWith(N)?b(I,$):null),[I,N,$]),[P,R]=u(null==F?void 0:F.state);return l((()=>{P&&!F?R(null):!P&&F&&R(F.state)}),[F,P]),l((()=>{var e=!s(h.current,t),a=v.current!==I;if(a&&!e)I&&!I.startsWith(N)?y({type:g.close}):F&&y({type:g.routeNavigate,newState:F.state});else if(!a&&e){var r=t?o(p,t,N):"";if(r!==I){var u=((e,t)=>null===e&&null!==t||(null==e||!e.mediaId)&&null!=t&&t.mediaId?"FRAGMENT_PUSH":"IN_PLACE")(h.current,t);f(r,u)}}h.current=t,v.current=I}),[t,I,N,F,f,p,y]),{clearFragment:n((()=>{I&&f("","IN_PLACE")}),[I,f]),initialRouteState:P}};return[()=>{e({defaultFragmentPrefix:c,generateFragmentRoute:o,getStateFromFragment:b,useRouteHandler:y})},[e=>(a=e.useRef,r=e.useMemo,u=e.useState,l=e.useEffect,n=e.useCallback),e=>s=e.default,e=>(i=e.useRoute,d=e.useNavigateToFragment),e=>(m=e.validateMediaType,g=e.actions)]]},["1o4yt4","b5nukb","fgwvq1","13w1vr"]]);
