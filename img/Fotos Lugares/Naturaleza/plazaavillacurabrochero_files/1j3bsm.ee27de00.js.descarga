(this.$WP=this.$WP||[]).push(["1j3bsm",(e,n)=>{"use strict";var s,t,a,l,o,i,r,c,d,u,p,h,g,m,w,v,_,f,y,b,C,S,M,k,E,N,x,G,O="GOOGLE_ONETAP",I=({enhancedGoogleOneTapGate:e})=>s((()=>e?{pid:40670,flow:O,deferShowOverlay:!0}:{pid:40185,flow:O,deferShowOverlay:!0}),[e]),R=()=>{var e=t((()=>w.remove("g_state")),[]);return a((()=>e),[e]),e},D=({onNotDisplayed:e,onUserSkipped:n,onCredentialReady:i,onAutoCancelled:r,onGeneralSkipDismiss:c,containerId:d,flow:u,pid:w})=>{var v=l(null),[_,f]=o(!1),y=p(),b=S(),C=t(((e,n)=>{y({module:"google_onetap",action:e,context:`${n}|${u}`,value:w})}),[u,w,y]),M=t((e=>{e&&(C("credentials_success",e.select_by),i(e.credential),f(!1))}),[i,C]),k=t(((n,s)=>{C("display_event",s||"success"),g(n),f(n),n||e()}),[e,C]),E=t((e=>{C("skipped_event",e),f(!1),"user_cancel"===e?n():"auto_cancel"===e?r():c&&c("skipped",e)}),[n,r,c,C]),N=t((e=>{C("dismiss_event",e),f(!1),"credential_returned"!==e&&c&&c("dismissed",e)}),[C,c]),x=t((e=>{switch(b(),e.getMomentType()){case"display":k(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":E(e.getSkippedReason());break;case"dismissed":N(e.getDismissedReason())}}),[b,N,E,k]),G=t((e=>{null===v.current&&(v.current=e,C("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:M,cancel_on_tap_outside:!1,prompt_parent_id:d,auto_select:!m()}),e.prompt(x))}),[M,x,d,C]);return a((()=>{C("script_requested","na"),h("https://accounts.google.com/gsi/client","MEMX").then((()=>{var e,n,s,t=()=>G(window.google.accounts.id);null!=(e=window.google)&&null!=(n=e.accounts)&&null!=(s=n.id)&&s.initialize?t():window.onGoogleLibraryLoad=t}))}),[G,C]),a((()=>()=>{v.current&&v.current.cancel()}),[]),s((()=>({shown:_})),[_])},q=()=>({top:110,bottom:0}),L="ZkqhQ Gi B1 Z BB Cj Za",P="QnnKe z",T="MPoqM Cj",j="LcmJt Cj Hn o q f u",A=({bottom:e})=>{var n=d(),{userAgentCategory:t}=f(),a=s((()=>"MOBILE"===t),[t]);return y("div",a?{className:v("SuwMt D Gi l",L),style:{bottom:`${e||0}px`},children:y("div",{className:P,children:b("h3",{className:j,children:[y("span",{className:T,children:y(_,{})}),y(c,{id:"onetap_message_unlock"})," "]})})}:{className:v(L,{wVHIl:n}),children:b("div",{className:P,children:[b("h3",{className:j,children:[y("span",{className:T,children:y(_,{})}),y(c,{id:"onetap_message_unlock"})," "]}),b("p",{className:"ZnAJV Cj o q",children:[y(c,{id:"onetap_message_subhead_to_get_the_most"})," "]})]})})},z=({shown:e,isContextualMessagingEnabled:n,onShow:s})=>{var{bottom:t}=k(),[l,i]=o(!1),[r,c]=o(0);return a((()=>{if(!e)return()=>{};var s=document.getElementById("credential_picker_iframe");if(s){if(s.style.bottom=`${t}px`,s.style.zIndex="10105",!n)return()=>{};var a,l=new MutationObserver((e=>{var n,s,t=null==e||null==(n=e[0])?void 0:n.target;if(t instanceof HTMLElement){clearTimeout(a);var l=parseInt((null==t||null==(s=t.style)?void 0:s.height)||"0",10),o=isNaN(l)?0:l-9;a=setTimeout((()=>{c(o),i(o>0)}),400)}}));return l.observe(s,{attributes:!0}),()=>{l.disconnect(),clearTimeout(a)}}return()=>{}}),[t,e,n]),a((()=>{e&&s&&s()}),[e,s]),e&&l?y(E,{bottom:r+t}):null},B=({shown:e,containerId:n,isContextualMessagingEnabled:s,onShow:t})=>{var{top:i}=k(),[r,c]=o(!1),d=l(null);return a((()=>{if(e&&d&&d.current){var n=d.current.children[0];n&&(n.style.zIndex="10107",n.children&&0!==n.children.length&&(n.children[0].onload=()=>{c(s)}))}}),[e,s]),a((()=>{e&&t&&t()}),[e,t]),b("div",{className:v("mxEhR D P0 G- Za f e u",{LEMGe:!e}),style:{top:i},children:[r&&y(E,{}),y("div",{id:n,className:"hRNvt M0",ref:d})]})},$=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],Z="tripGoogleOnetapContainer",U=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:n,explicitPreferencesEnabled:s,servletName:a,enhancedGoogleOneTapGate:l,onDismiss:o,onShow:c,onSuccessfulLogin:d,onAutoCancelled:p,onGeneralSkipDismiss:h,triggerNext:g,suppressContextualMessage:m})=>{var w=i(),v=C({enhancedGoogleOneTapGate:l}),_=u(),f=t((t=>{w({extraQueryParams:{google_id_token:t},onSuccess:t=>{d&&t&&t.userId&&d(!!t.hasCreatedMember,t.userId),t&&!0===t.hasCreatedMember&&(e&&e(),s&&n&&n())},onClose:()=>{G.has(_)||window.location.reload()},...v})}),[w,v,e,s,n,_,d]),{shown:b}=M({onNotDisplayed:()=>{g(),o()},onUserSkipped:o,onAutoCancelled:()=>{p&&p()},onGeneralSkipDismiss:h,onCredentialReady:f,containerId:Z,pid:v.pid,flow:v.flow}),S=r(),k=!(m||null!=a&&$.includes(a));return"MOBILE"===S?y(N,{shown:b,onShow:c,isContextualMessagingEnabled:k}):y(x,{shown:b,onShow:c,containerId:Z,isContextualMessagingEnabled:k})};return[()=>{C=I,S=R,M=D,k=q,E=A,N=z,x=B,G=new Set(["en-US","es-AR","es-CL","es-CO","es-MX","es-PE","es-VE"]),e("default",U)},[e=>(s=e.useMemo,t=e.useCallback,a=e.useEffect,l=e.useRef,o=e.useState),e=>i=e.default,e=>r=e.useViewportCategory,e=>(c=e.default,d=e.useRtl,u=e.useLocale),e=>p=e.useGARecorder,e=>h=e.importScript,e=>(g=e.setOneTapEligibility,m=e.userSignedOut),e=>w=e.default,e=>v=e.default,e=>_=e.default,e=>f=e.useUserAgent,e=>(y=e.jsx,b=e.jsxs)]]},["1o4yt4","lchj5q","1ys6v1","17thqz","32pwc7","1q7wvk","cyrz7y","5gpqhx","fkji80","ympq4z","1nnprh","121h32"]]);
