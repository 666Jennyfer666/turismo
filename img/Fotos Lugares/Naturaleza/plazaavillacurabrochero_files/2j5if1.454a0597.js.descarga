(this.$WP=this.$WP||[]).push(["2j5if1",(e,t)=>{"use strict";var i,l,a,n,r,o,u,s,d,c,m,h,p,g,f,I,v,_,y,T,N,A,D,R,S,O,w,E,b=e=>{var t,u,s,d,{description:c,photo:m,route:h,sponsorName:A,title:D,articleId:R,authors:S,locationType:O}=e.article,w=y(),E=_(),b=i(),{localize:C}=I(),{page:z}=l(),U=z===r||z===o,W=C.string("ad_related_stories_feature_in_content_widget"),q=C.string("sponsored_story_content_widget"),x=C.string("as_feature_in_content_widget"),L=null!=S&&null!=(t=S[0])&&null!=(u=t.author)&&u.name?null==S||null==(s=S[0])||null==(d=s.author)?void 0:d.name:void 0,j=A?"from":"by",G=A||void 0,M=v((()=>{E({itemType:a,itemGroup:"SingleArticle",itemName:A,itemId:`${R}`,customData:JSON.stringify({locationType:O,route:h}),team:"TAPS",page:z,pageUid:b})})),P=g((()=>{w({itemType:a,itemGroup:"SingleArticle",itemId:`${R}`,itemName:A,customData:JSON.stringify({locationType:O,route:h}),page:z,team:"TAPS",actionType:"click",pageUid:b})}),[R,w,O,z,b,h,A]);if(null===m)return null;var k=N("div",{className:p({"zeMXO o":U}),children:c});return N("section",{ref:M,className:p("fyOpZ",{XIzLn:U}),children:N(f,{href:h,display:"block",theme:"none",target:n,onClick:()=>P(),children:N(T,{headerTitle:e.article.sponsorName?q:"as-featured-in"===e.titleOption?x:W,headerUrl:h,image:m,href:h,target:n,authorTarget:n,authorVariant:j,authorName:U?void 0:G||L,title:D,snippet:k})})})},C=e=>{var{articles:t}=e,{localize:n}=I(),{page:m}=l(),h=i(),g=_(),f=m===o||m===r,y=m===s,T=m===d||m===c||f,R=m===c||f,S=m===s,O=t.map((e=>e.articleId)),w=v((()=>{g({itemType:a,itemGroup:"MultipleArticles",itemId:`${e.locationId}`,customData:JSON.stringify({articleCardIds:O}),page:m,team:"TAPS",pageUid:h})}));return A("section",{ref:w,className:p("MIrqC Gi",{Emfdu:y,NxaVD:T,WlGzA:R,HFNjH:f}),children:[N("div",{className:p("eaQSM E",{KEiyD:R}),children:N(D,{variant:"title-02",color:"primaryText",children:n.string("ad_related_stories_feature_in_content_widget")})}),N("div",{className:p("NeZCO _h A",{vimTh:R,rMelW:S,qqaht:f}),children:t.map(((e,t)=>N("div",{className:p("yVyfR",{YvpmX:0===t,lYDNx:1===t,ggzcD:2===t}),children:N(u,{article:e,widgetType:"as-featured-in"})},e.articleId)))})]})},z={__key:0x62fc952342c6,id:"62fc952342c67268b0b0c325bdce1396",loc:{},definitions:[]},U=e=>{var t=[],i=e.filter((e=>e.sponsorName));if(i.length>=3&&(t=i),i.length<3){var l=e.filter((e=>!e.sponsorName));t=[...i,...l]}return t.length>3?t.slice(0,3):t},W=(e,t,i)=>{var l=!e&&!t||!i,[{data:a,fetching:n}]=R({query:z,variables:{detailId:e,geoId:t},pause:l||!1}),r=(e=>{var t,i,l,a,n=[],r=(e,t)=>{e.forEach((e=>{var i;if(null!=e&&e.document&&null!=(null==e||null==(i=e.document)?void 0:i.content)){var l,a,r,{content:o,route:u,title:s,estimatedReadTime:d,lastUpdatedAt:c,space:m}=e.document,h={title:s,locationType:t,route:(null==u?void 0:u.url)||"",readTime:d?`${d}`:null,lastUpdatedAt:c||null,sponsorName:(null==e?void 0:e.sponsorName)||"",authors:"authors"in o&&(null==o?void 0:o.authors)||null,description:"seoInfo"in o&&(null==o||null==(l=o.seoInfo)?void 0:l.metaDescription)||"",photo:"thumbnail"in o&&(null==o||null==(a=o.thumbnail)||null==(r=a.photo)?void 0:r.photoSizeDynamic)||null,articleId:m||"1"};h.photo&&n.push(h)}}))};return null!=e&&null!=(t=e.RichContent_getDocumentsByLocationId)&&null!=(i=t[0])&&i.documents&&r(e.RichContent_getDocumentsByLocationId[0].documents,m),null!=e&&null!=(l=e.RichContent_getDocumentsByLocationId)&&null!=(a=l[1])&&a.documents&&r(e.RichContent_getDocumentsByLocationId[1].documents,h),n})(a);return{fetching:n,articles:U(r)}},q=["Attraction_Review","Restaurant_Review","Tourism","ShowTopic","ShowForum"],x=[255060,189970,659488,298184,143028,147404],L=()=>{var{page:e,params:t}=l(),i="geoId"in t?t.geoId:null;return("Tourism"!==e||!i||!x.includes(i))&&q.includes(e)},j=()=>{var{params:e}=l(),t=E(),i=m in e&&e.detailId?e.detailId:0,a=h in e&&e.geoId?e.geoId:0,{fetching:n,articles:r}=w(i,a,t);return t&&!n&&r&&0!==r.length?r.length<=2?N(S,{titleOption:i?"as-featured-in":"related-stories",article:r[0]}):3===r.length?N(O,{articles:r,locationId:i||a}):null:null};return[()=>{S=b,O=C,w=W,E=L,e({AsFeaturedInWidget:j,default:j})},[e=>(i=e.usePageviewUid,l=e.useRoute),e=>(a=e.AFI_WIDGET,n=e.BLANK,r=e.SHOW_TOPIC,o=e.SHOW_FORUM,u=e.ArticleCard,s=e.RESTAURANT_REVIEW,d=e.TOURISM,c=e.ATTRACTION_REVIEW,m=e.DETAIL_ID,h=e.GEO_ID),e=>p=e.default,e=>g=e.useCallback,e=>f=e.default,e=>I=e.useLocalize,e=>v=e.useOnVisible,e=>_=e.default,e=>y=e.default,e=>T=e.EditorialFeatureArticleShelf,e=>(N=e.jsx,A=e.jsxs),e=>D=e.default,e=>R=e.useQuery]]},["fgwvq1","eozxiw","fkji80","1o4yt4","lr6tb6","17thqz","13btuy","xg719z","1r73jw","1asj0s","121h32","1essqv","1mqwhq"]]);
