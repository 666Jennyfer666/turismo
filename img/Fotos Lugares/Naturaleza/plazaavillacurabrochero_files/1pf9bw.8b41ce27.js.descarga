(this.$WP=this.$WP||[]).push(["1pf9bw",(e,i)=>{"use strict";var l,n,a,t,r,o,d,s,c,u,p,v,g,h,m,w,_,f,b,k,C,y,N,B,D,M,S,I,R,x,z,L,T,A,q,j,E,$,O,P,V,F,H,G,U,X=({review:e,onClick:i})=>{var l,n,a,t,r,d,s,{userProfile:c}=e,{localize:u}=h(),p=(null==c?void 0:c.displayName)||"",v=(null==c||null==(l=c.route)?void 0:l.url)||void 0,g=null==c||null==(n=c.avatar)||null==(a=n.photoSizes)?void 0:a.filter(Boolean).map((e=>({url:e.url||"",width:e.width||0,height:e.height||0}))),m=(null==c||null==(t=c.hometown)||null==(r=t.location)||null==(d=r.additionalNames)?void 0:d.long)||null,w=(null==c||null==(s=c.contributionCounts)?void 0:s.sumAllUgc)||0,_=u.string("social_profile_contributions",{0:w});return k(b,{variant:"two-line",profileInfo:[{displayName:p,profileHref:v,avatarSource:g,onClick:i}],additionalInfo1:C(y,{children:[null!==m&&m&&k("span",{children:m}),void 0!==w&&w>0&&k("span",{className:o(m&&"TzJAx"),children:_})]})})},J=({review:e})=>{var{rating:i}=e;return k("div",{className:"Mj",children:null!==i&&k(N,{rating:i})})},K=({review:e,marginBottom:i,marginTop:l,hideVisited:n=!1})=>{var{tripInfo:a}=e,t=m(),{localize:r}=h(),o=null!=a&&a.stayDate?t.formatDate("date_full_month_year",new Date(null==a?void 0:a.stayDate)):null,d=a&&a.tripType?((e,i)=>{var l=null,n=O.get(e)||0;return n&&(l=i.string("triptype_desc_sentence_pl",{0:n})),l})(a.tripType,r):null;return C(p,{variant:"input-02",marginBottom:i,marginTop:l,children:[o&&!n&&k(g,{id:"location_reviews_visited_date",args:{date:o}}),o&&!n&&d&&k("span",{className:"ND Nc",children:"â€¢"}),d]})},W=({id:e,helpfulVoteCount:i,isLiked:l=!1,onLikeClick:n})=>{var{localize:a}=h(),t={__typename:I.Review,socialStatistics:{isLiked:l,likeCount:i},id:e},[r,o,d]=S({item:t,onClick:n});return k(B,{variant:"primary-border",icon:o?D:M,onClick:r,size:"medium","aria-label":o?a.string("sng_click_to_remove_helpful_vote"):a.string("sng_click_to_add_helpful_vote"),children:k(g,{id:"media_viewer_helpful_media_with_count",args:{0:d}})})},Y=({review:e,onOwnerContributorClick:i,onReadMoreClicked:n,hidden:a=!1})=>{var t,r,d,{userProfile:c,text:u,publishedDate:v,id:w}=e,_=m(),{localize:f}=h(),{open:y}=z({id:(null==w?void 0:w.toString())||""}),N=(null==c||null==(t=c.route)?void 0:t.url)||void 0,D=(null==c?void 0:c.displayName)||"",M=null==c||null==(r=c.avatar)||null==(d=r.photoSizes)?void 0:d.filter(Boolean).map((e=>({url:e.url||"",width:e.width||0,height:e.height||0}))),S=v?_.formatDate("date_long",new Date(v)):null,I=l((()=>[{onClick:()=>y(),displayName:f.string("location_reviews_report_response")}]),[f,y]);return C("div",{className:o("RidDC PJ",a&&"LIEUi"),children:[C("div",{className:"lFIfb M k",children:[k(b,{variant:"two-line",profileInfo:[{displayName:D,profileHref:N,avatarSource:M,onClick:i}]}),k("div",{className:"VYFip",children:k(R,{options:I,menuVariant:"trailing-top-caret",label:f.string("sng_review_options"),mode:"menu",fullscreenMobile:!0,trigger:({active:e,onKeyDown:i,ariaAttributes:l,ref:n,onClick:a})=>k(B,{ref:n,ariaAttributes:l,onKeyDown:i,variant:"clear",icon:x,size:"small","aria-label":e?f.string("sng_close_options_menu"):f.string("sng_open_options_menu"),onClick:e=>{a&&a(e)}})})})]}),k("div",{className:"ifXXA",children:k(s,{onExpand:n,children:u})}),k(p,{variant:"supporting-02",marginTop:"spacing-03",children:k(g,{id:"user_review_written_date",args:{date:S}})}),k(p,{variant:"supporting-02",marginTop:"spacing-03",children:k(g,{id:"omnibus_review_management_v2"})})]})},Q=({photos:e,locationId:i})=>{var{page:l}=r(),{localize:t}=h(),o=T(l),d={...A,...q(l)},[s,c]=n(null),u=v(H.click("photo",`${i}`)),p=a((()=>{c(null)}),[]),g=a((e=>{c({mediaId:{id:e||0,type:"p"},albumId:o}),u()}),[o,u]);return C(y,{children:[s&&k(j,{locationId:i,initialSettings:s,onClose:p,...d.mediaViewerParams}),k("div",{className:"HOGed _e q",children:null==e?void 0:e.filter(Boolean).map((e=>k("button",{className:"qcMZC _S B-",onClick:()=>g(e.id),"aria-label":t.string("sng_see_full_review_image"),children:k(L,{source:e.photoSizeDynamic,width:165,height:97})},e.id)))})]})},Z=({onClose:e,review:i})=>{var{title:l,text:n,id:a,helpfulVotes:t,publishedDate:r,photos:o,ownerResponse:d,location:s}=i,c=m(),u=a||0,h=t||0,w=r?c.formatDate("date_long",new Date(r)):null,b=!(null==d||!d.text)||!1,y=v(H.click("contributor",`${a}`)),N=v(H.click("like",`${a}`)),B=v(H.click("owner-contributor",`${a}`)),D=v(H.click("owner-read-more",`${a}`));return C(_,{onClose:e,widthOption:"fixed-60",children:[k(E,{review:i,onClick:y}),k($,{review:i}),l&&k(p,{variant:"title-03",marginBottom:"spacing-02",marginTop:"spacing-02",children:l}),k(p,{variant:"body-01",children:n}),o&&o.length>0&&k(G,{photos:o,locationId:(null==s?void 0:s.locationId)||0}),C("div",{className:"eByeX f Mk",children:[C("div",{className:"cwLBn",children:[k(P,{review:i,marginBottom:"spacing-02"}),w&&k(p,{variant:"supporting-02",marginBottom:"spacing-02",children:k("span",{className:"Nj",children:k(g,{id:"user_review_written_date",args:{date:w}})})}),k(p,{variant:"supporting-02",children:k(f,{variant:"MEMBER"})})]}),k(V,{id:u,helpfulVoteCount:h,onLikeClick:N})]}),d&&b&&k(F,{review:d,onOwnerContributorClick:B,onReadMoreClicked:D})]})},ee={__key:0x8b61c74bb94b,id:"8b61c74bb94bb32f9fe89323d152686e",loc:{},definitions:[]},ie=()=>{var{params:e,page:i}=r(),l=w(),n="detailId"in e&&e.detailId||0,[{data:a,fetching:o}]=t({query:ee,variables:{locationId:n,filters:[{axis:"LANGUAGE",selections:[l]}]},pause:"Attraction_Review"!==i});return!o&&null!=a&&a.locations&&(null==a?void 0:a.locations.length)>0&&a.locations[0]?a.locations[0].reviewListPage:null},le=({review:e})=>{var{title:i,text:l,publishedDate:a,id:t,ownerResponse:r}=e,o=m(),[d,c]=n(!1),u=!(null==r||!r.text)||!1,h=v(H.click("open-modal",`${t}`)),w=v(H.click("close-modal",`${t}`)),_=v(H.click("contributor",`${t}`)),f=a?o.formatDate("date_long",new Date(a)):null;return C("div",{className:"MyksB _R Ra",children:[k(E,{review:e,onClick:_}),k($,{review:e}),i&&k(p,{variant:"title-05",marginBottom:"spacing-02",marginTop:"spacing-02",children:i}),k(s,{variant:"extended",clickHandler:()=>(c(!0),h(),!1),children:k(p,{variant:"body-01",children:l})}),r&&u&&k(F,{hidden:!0,review:r}),k(P,{review:e,marginTop:"spacing-03",marginBottom:"spacing-03",hideVisited:!0}),f&&k(p,{variant:"supporting-02",marginBottom:"spacing-02",children:k(g,{id:"user_review_written_date",args:{date:f}})}),d&&k(U,{onClose:()=>{c(!1),w()},review:e})]})},ne=()=>{var e=ie(),i=v(H.click("scrolled",void 0)),l=d({backgroundColor:"beigeBackground"});return null===e||null===e.reviews||e.reviews.length<3?null:k("div",{className:o("LyCrO",l),children:C(c,{children:[k("div",{className:"c",children:k(p,{variant:"title-03",marginBottom:"spacing-04",children:k(g,{id:"highlighted_reviews_see_what_other_travelers_are_saying"})})}),k("div",{className:"RcSVG",children:k(u,{size:"wide",onScrolled:i,variableHeight:!0,children:e.reviews.filter(Boolean).map((e=>k(le,{review:e},e.id)))})}),k("div",{className:"c",children:k(p,{variant:"supporting-02",marginTop:"spacing-04",children:k(f,{variant:"MEMBER"})})})]})})};return[()=>{E=X,$=J,O=new Map([["BUSINESS",1],["COUPLES",2],["FAMILY",3],["FRIENDS",4],["SOLO",5]]),P=K,V=W,F=Y,H={click:(e,i)=>({module:"highlighted-reviews",context:i,action:e})},G=Q,U=Z,e({default:ne,useHighlightedReviews:ie})},[e=>(l=e.useMemo,n=e.useState,a=e.useCallback),e=>t=e.useQuery,e=>r=e.useRoute,e=>(o=e.default,d=e.backgroundColor),e=>s=e.default,e=>c=e.default,e=>u=e.Carousel,e=>p=e.default,e=>v=e.useGARecordCallback,e=>(g=e.default,h=e.useLocalize,m=e.useIntlFormatter,w=e.useLanguage),e=>_=e.Modal,e=>f=e.TransparencyLinkReviewDisclosure,e=>b=e.default,e=>(k=e.jsx,C=e.jsxs,y=e.Fragment),e=>N=e.BubbleRating,e=>B=e.CircularButton,e=>D=e.default,e=>M=e.default,e=>S=e.useLikeAction,e=>I=e.SocialObjectTypeMap,e=>R=e.DropdownMenu,e=>x=e.default,e=>z=e.useReportManagementResponseModal,e=>L=e.default,e=>(T=e.getDefaultAlbumId,A=e.defaultMediaSettings,q=e.getPageMediaSettings),e=>j=e.default]]},["1o4yt4","1mqwhq","fgwvq1","gw8uw6","livpad","94v69w","17yaz6","1essqv","32pwc7","17thqz","1i3sz5","12ksxj","1dpmjf","121h32","1bkeq2","jppfwt","wehxiu","1u47wj","b9lpgd","1nev0g","1ntn26","1q69y2","1a2xbq","34bu7w","1r144n","ejmcf4"]]);
