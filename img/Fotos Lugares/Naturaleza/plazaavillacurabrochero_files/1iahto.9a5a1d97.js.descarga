(this.$WP=this.$WP||[]).push(["1iahto",(e,i)=>{"use strict";var o,a,l,r,t,n,d,s,p,c,u,m,h,g,_,v,f,w,F,T,U,b,y,C,x,P,S,I,M,A,k,z,R,E,L,N,$,B,j,W,D,O,q,V,Y,G,K,H,J,X,Z,Q,ee,ie,oe,ae,le,re,te,ne,de=(e,i)=>{var[a,l]=o(!1),r=f();return M("dragover",(e=>{var i=e;null!=i.dataTransfer&&[...i.dataTransfer.items].some((e=>"file"===e.kind))&&(i.dataTransfer.dropEffect="copy",i.preventDefault(),l(!0))})),M("dragleave",(e=>{a&&(e.preventDefault(),l(!1))})),M("drop",(o=>{if(a){var t=o;t.preventDefault(),l(!1);var n=[];null!=t.dataTransfer&&(n=(t.dataTransfer.items?[...t.dataTransfer.items].map((e=>e.getAsFile())):[...t.dataTransfer.files]).filter(Boolean)),n.length>0&&(null!==i&&r({PhotoUploadFlow:{photoUploadWeb:{action:"fileSelectedDragDrop",description:i.length.toString()}}}),e(n))}})),{dragging:a}},se=[".mp4",".m4v",".mov"],pe=(e,i,o)=>{var{localize:l}=h(),r=a((e=>"video"===o?`${e.name}: ${l.string("post_video_file_type_error")}`:`${e.name}: ${l.string("post_photo_unsupported_file")}`),[l,o]),t=a((e=>"video"===o?`${e.name}: ${l.string("post_video_size_error")}`:`${e.name}: ${l.string("file_size_too_big_photo_oops_message",{0:l.string("mobile_offline_megabyte_ffffec6c",{0:i/1024/1024})})}`),[l,i,o]);return a((a=>{if(a.size>i)return Promise.reject(new Error(t(a)));var l=y(a.name);if(!l||!e.includes(l))return Promise.reject(new Error(r(a)));var n=se.includes(l);return"video"===o||void 0===o&&n?Promise.resolve():new Promise(((e,i)=>{var o=new Image;o.onload=()=>{URL.revokeObjectURL(o.src),e()},o.onerror=()=>i(new Error(r(a))),o.src=URL.createObjectURL(a)}))}),[e,i,r,t,o])},ce={__key:0x98abf1e409a8,id:"98abf1e409a869100aa3814acb316b98",loc:{},definitions:[]},ue={__key:0x5df6eb18541e,id:"5df6eb18541ec9881fec65ad2ab088fe",loc:{},definitions:[]},me=(e,i,o,a)=>{e({PhotoUploadFlow:{photoUploadWeb:{action:"uploadFailStatus",description:i.statusText}}}),e({PhotoUploadFlow:{photoUploadWeb:{action:"uploadFailStatusCode",description:i.status}}}),e({PhotoUploadFlow:{photoUploadWeb:{action:"uploadFailResponse",description:i.response.toString()}}}),e({PhotoUploadFlow:{photoUploadWeb:{action:"uploadFail",description:`${o+1} of ${a}`}}}),console.error(`MEDIA_UPLOAD_ERROR: ${JSON.stringify({status:i.status,statusText:i.statusText,response:i.response.toString(),fileIndex:o+1,fileCount:a})}`)},he=(e=null,i=1)=>{var t=f(),[n,d]=o(),s=l(!1);r((()=>(s.current=!0,()=>{s.current=!1})),[]);var[,p]=A(ce),[,c]=A(ue),u=k(z),m=R(z),h=E(z),g=L(z),_=N(z),v=$(z),w=a((e=>{if(s.current)return e;throw _(),new Error("upload aborted")}),[_]),F=a((({mediaType:o,file:a,description:l,locationId:r,isForCuration:n,isForUserReview:s,isAllowedNonLoggedInUpload:_,pid:f,pidAttr:F},T,U)=>{var b=e=>(u(e.length),p({request:e})),y={description:l,mediaType:"video"===o?"VIDEO":"PHOTO",mimeType:a.type,mediaProvider:"TRIPADVISOR",mediaUploadProvider:"USER",fileName:a.name,fileSize:a.size,locationIds:null!=r&&r>0?[r]:[],isForCuration:n,isForUserReview:s,isAllowedNonLoggedInUpload:_,pid:f,pidAttr:F},C="video"===o?b([y]):(e=>new Promise(((i,o)=>{var a=new Image;a.onload=()=>{URL.revokeObjectURL(a.src),i({width:a.width,height:a.height})},a.onerror=o,a.src=URL.createObjectURL(e)})))(a).then((({width:e,height:i})=>{var o={...y,width:e,height:i};return b([o])}));return C.then(w).then((({data:l,error:r})=>{var n,s,p,c,u,m,_,f,w;if(r||"OK"!==(null==l||null==(n=l.MediaSvcClient_initiateMediaBatchUploadWithProvidedFields)||null==(s=n[0])?void 0:s.status)||null==(null==l||null==(p=l.MediaSvcClient_initiateMediaBatchUploadWithProvidedFields)||null==(c=p[0])?void 0:c.mediaId)||null==(null==l||null==(u=l.MediaSvcClient_initiateMediaBatchUploadWithProvidedFields)||null==(m=u[0])?void 0:m.uploadUrl))throw r&&console.error(`MEDIA_UPLOAD_ERROR: ${r.toString()}`),"RATE_LIMITED"===(null==l||null==(f=l.MediaSvcClient_initiateMediaBatchUploadWithProvidedFields)||null==(w=f[0])?void 0:w.status)?(g(),new J):(h(),console.error(`Upload media error (internal): ${r}`),new Error("Upload failed"));var{mediaId:F,uploadUrl:b}=null==l||null==(_=l.MediaSvcClient_initiateMediaBatchUploadWithProvidedFields)?void 0:_[0];return((e,i,o,a,l,r,t,n,s,p,c)=>new Promise(((p,u)=>{var m=n=>{var h=n-1;h<0?u(new H):(n=>{var h,g=!1,_=()=>{null!==s&&(h&&clearTimeout(h),h=setTimeout((()=>{g=!0,a({PhotoUploadFlow:{photoUploadWeb:{action:"uploadFail",description:`${l+1} of ${r} upload has timed out`}}}),console.error("MEDIA_UPLOAD_ERROR: Upload has timed out"),v.abort()}),s))},v=new XMLHttpRequest;v.open("PUT",o,!0),v.onload=()=>{h&&clearTimeout(h),200===v.status?(t||a({PhotoUploadFlow:{photoUploadWeb:{action:"uploadSuccess",description:`${l+1} of ${r}`}}}),p(i)):(c(),t||me(a,v,l,r),u(new Error(`Upload of file ${e.name} failed.`)))},v.onerror=()=>{c(),h&&clearTimeout(h),t||me(a,v,l,r),u(new Error(`Upload of file ${e.name} failed.`))},v.onabort=()=>(h&&clearTimeout(h),g?m(n):(c(),u(new Error(`Upload of file ${e.name} aborted.`)))),v.upload.onprogress=e=>{var i;_(),i=e.loaded,d((e=>{var o=null==e?[]:[...e];return o[T]=i,o}))},v.send(e),_()})(h)};m(n)})))(a,F,b,t,T,U.length,"video"===o,i,e,0,v)})).then(w).then((e=>c({request:{mediaId:e}}).then((()=>(m(1),{mediaId:e,mediaType:o}))))).finally((()=>{d(null)}))}),[c,p,u,h,m,v,g,w,t,i,e]);return[{progress:n},a((e=>Promise.all(e.map(F))),[F])]},ge={media:[],error:null},_e=({mediaType:e,withMetadata:i,isForCuration:l,allowedFileTypes:r,maxFileSize:t,maxAllowedFiles:n,locationId:d})=>{var s=f(),{localize:p}=h(),c=pe(r,t,e),[u,m]=o(ge),g=a((e=>{m((i=>({...i,error:e})))}),[]),[_,v]=o(!1),w="video"===e,F=w?Z.maxAllowedFiles:X.maxAllowedFiles,T=a((i=>{c(i).then((()=>{m((o=>o.media.some((e=>{return o=e.file,a=i,o.name===a.name&&o.size===a.size;var o,a}))?o:o.media.length>=n?n!==F?o:{error:w?p.string("video_upload_max_number",{nVideos:n}):p.string("post_photo_tips_guidelines"),media:o.media}:{error:o.error,media:[...o.media,{mediaType:e,file:i,description:"",locationId:d,isForCuration:l}]}))})).catch((e=>{w||s({PhotoUploadFlow:{photoUploadWeb:{action:"invalidFile",description:e.message}}}),g(e.message)}))}),[c,n,l,d,p,g,e,F,w,s]),U=a((e=>{var i;g(null),e.preventDefault(),[...null!=(i=e.target.files)?i:[]].forEach(T),w||s({PhotoUploadFlow:{photoUploadWeb:{action:"fileSelectedFilePicker",description:u.media.length.toString()}}}),e.currentTarget.value=""}),[T,g,s,w,u.media.length]),b=a(((e,i)=>{m((o=>{var a=[...o.media];return a[e]=i,{error:null,media:a}}))}),[]),y=a((e=>{m((i=>{var o=[...i.media];return o.splice(e,1),{error:null,media:o}}))}),[]),{dragging:C}=de((e=>{g(null),e.forEach(T)}),w?null:u.media),x=!_&&u.media.length>0&&(!i||!w&&l||u.media.every((e=>e.description&&null!=e.locationId&&e.locationId>0))),[{progress:P},S]=he(),I=a((()=>x?(w||s({PhotoUploadFlow:{photoUploadWeb:{action:"submitClicked"}}}),v(!0),g(null),S(u.media).then((e=>(w||s({PhotoUploadFlow:{photoUploadWeb:{action:"uploadedAll"}}}),v(!1),e))).catch((()=>{w||s({PhotoUploadFlow:{photoUploadWeb:{action:"uploadedErrorExists"}}});var e=w?p.string("video_upload_fail"):p.string("post_photo_upload_failed");g(e),v(!1)}))):Promise.reject()),[S,x,u.media,g,p,w,s]);return{media:u.media,error:u.error,uploading:_,progress:P,canAddMore:u.media.length<n,canSubmit:x,dragging:C,onFileSelected:U,onMediaChanged:b,onMediaDeleted:y,onSubmit:I,resetMediaState:()=>m(ge)}},ve=({children:e,timeout:i,retryCount:r,mediaType:d,onRateLimitedError:s,beforePhotoUploadCheck:p,...c})=>{var[u,h]=t(g),v=l(null),f={...ee,..."photo"===d&&X,..."video"===d&&Z,...c},[w,U]=o([]),[{progress:C},x]=he(i,r),P=pe(f.allowedFileTypes,f.maxFileSize),I=l([]),M=a((e=>{I.current.splice(0,0,e)}),[]),A=a((e=>{var i=I.current.findIndex((i=>e===i));I.current.splice(i,1)}),[]),k=a((()=>{var e=v.current;if(null==e)throw new Error("useCustomPhotoUploadFlow: must render the supplied element");e.click()}),[]),z=a((e=>{U(e),x(e).then((e=>{I.current.find((i=>!1!==i(e)))})).catch((i=>{i instanceof H?u({node:F(_,{cta:F(S,{trailing:!0,variant:"on-dark",onClick:()=>{z(e),h()},icon:b,children:"Click to retry"}),children:"Upload failed."}),timeout:1e4}):i instanceof J&&s?s(k):u({node:F(_,{children:i.message||F(m,{id:"post_photo_upload_failed"})})})})).finally((()=>{U([])}))}),[u,h,x,s,k]),R=a((e=>{Promise.all(e.map((e=>P(e)))).then((()=>{var i=e.map((e=>({mediaType:Z.allowedFileTypes.includes(y(e.name))?"video":"photo",file:e,locationId:-1===f.locationId?null:f.locationId,description:"",isForCuration:f.isForCuration,isForUserReview:f.isForUserReview,isAllowedNonLoggedInUpload:f.isAllowedNonLoggedInUpload,pid:f.pid,pidAttr:f.pidAttr})));p&&!1===p(i)||z(i)}))}),[P,z,p,f.isForCuration,f.isForUserReview,f.isAllowedNonLoggedInUpload,f.locationId,f.pid,f.pidAttr]),{dragging:E}=de(R,w),L=n((()=>({photos:w,open:k,dragging:E,progress:C,uploadFiles:R,addPhotosUploadedCallback:M,removePhotosUploadedCallback:A})),[w,k,E,C,M,R,A]);return T(Q.Provider,{value:L,children:[e,F("input",{ref:v,type:"file",multiple:null==f||!f.maxAllowedFiles||f.maxAllowedFiles>1,accept:f.allowedFileTypes.join(","),style:{display:"none"},onChange:e=>{e.preventDefault(),R(e.currentTarget.files?[...e.currentTarget.files].filter(Boolean):[]),e.currentTarget.value=""},"aria-hidden":!0,tabIndex:-1})]})},fe=e=>{var{addPhotosUploadedCallback:i,removePhotosUploadedCallback:o,...a}=t(Q),n=l(e);return n.current=e,r((()=>{if(null==n.current)return()=>{};var e=e=>!!n.current&&n.current(e);return i(e),()=>{o(e)}}),[i,o]),a},we=(e,i,o=(e=>e))=>{var a=e.match(i);return null!=(null==a?void 0:a.index)?T(U,{children:[e.substring(0,a.index),o(a[1]||a[0]),e.substring(a.index+a[0].length)]}):e},Fe="GOYkZ Wd _S",Te="lVrpX",Ue=({plural:e})=>F(m,e?{id:"post_photo_upload_photos_button"}:{id:"confirmed_booker_upload_photo"}),be=({variant:e="large",dragging:i,disabled:o,allowedFileTypes:a=[],onFileSelected:l,mediaType:r,multiple:t=!1,...n})=>{var d=W(),{localize:s}=h();return T("label",{className:D("wWxsJ e u j c z _E B2 BC",O(n),{GLyFA:"small"===e,OlQdl:"large"===e,kQZzc:!o&&i,AxRyl:o,kIOnU:d}),children:[F("input",{type:"file",multiple:t,accept:a.join(","),disabled:o,className:"bAYEn Xd",onChange:l,tabIndex:o?-1:0}),"small"===e&&T(j,{variant:"supporting-01",children:[F("span",{className:Te,children:ie("video"===r?s.string("post_video_upload_another_video"):s.string("post_photo_upload_another_video"),/<\/> <span class="{sColorClass1}">(.*)<\/span>/,(e=>F("span",{className:Fe,children:e})))}),F("span",{className:D("tMKCA",Fe),children:F(m,"video"===r?{id:"add_more_videos_mw_uploader"}:{id:"add_more_photos_mw_uploader"})})]}),"large"===e&&T("div",{children:[F(j,{variant:"button-01",marginY:"spacing-03",children:F("div",{className:"ViJpi _S",children:"video"===r?F(m,{id:"add_more_videos_mw_uploader"}):F(oe,{plural:t})})}),T("div",{className:Te,"aria-hidden":!0,children:[F(j,{variant:"supporting-01",marginY:"spacing-03",children:F(m,{id:"post_photo_or_just_text"})}),F(j,{variant:"title-05",marginY:"spacing-03",children:F(m,{id:"post_photo_drag_and_drop_from_desktop"})})]})]})]})},ye=({multipleMedia:e,mediaType:i,...o})=>{var a,{localize:l}=h();return a=e?"video"===i?l.string("new_videos_terms_of_use"):l.string("new_photos_terms_of_use"):"video"===i?l.string("new_video_terms_of_use"):l.string("new_photo_terms_of_use"),F("div",{className:D("yNxWj",O(o)),children:F(j,{variant:"supporting-01",elementType:"span",children:ie(a,/<a .*>(.*)<\/a>/,(e=>F(q,{theme:"inline",href:"/pages/terms.html",target:"_blank",children:e})))})})},Ce=({mediaType:e,maxAllowedFiles:i,allowedFileTypes:o,maxFileSize:a,...l})=>{var{localize:r}=h(),t=f(),n="video"===e,d=`${r.string("mobile_help_center_url")}${n?"/articles/360024933773-Video-Guidelines":"/articles/200615067"}`,s=i>1?F(m,{id:"post_photo_tips_guidelines"}):null;return T("div",{className:O(l),children:[F(j,{variant:"title-05",marginBottom:"spacing-02",children:F(m,{id:"flash_uploader_tips_and_guidelines_10d8"})}),T("ul",{children:[F("li",{children:F(j,{variant:"supporting-02",marginY:"spacing-01",children:n?F(m,{id:"video_upload_max_number",args:{nVideos:i}}):s})}),F("li",{children:F(j,{variant:"supporting-02",marginY:"spacing-01",children:F(m,n?{id:"video_upload_video_formats_accepted",args:{sFileExtentions:o.join(" ")}}:{id:"post_photo_accepted_formats"})})}),F("li",{children:F(j,{variant:"supporting-02",marginY:"spacing-01",children:F(m,{id:"file_size_limit_photo",args:{0:a/1024/1024}})})})]}),F(j,{variant:"supporting-02",marginTop:"spacing-03",marginBottom:"spacing-05",children:ie(n?r.string("video_upload_more_info_guidelines_link"):r.string("post_photo_more_info_2"),/<span>(.*)<\/span>/,(e=>F(q,{theme:"inline",href:d,onClick:()=>{n||t({PhotoUploadFlow:{photoUploadWeb:{action:"guidelinesClick"}}})},target:"_blank",children:e})))})]})},xe="ONDNs _R Gp w",Pe=({media:e,index:i,mediaCount:l,withMetadata:t=!0,isForCuration:d=!1,hasPresetLocation:s=!1,progress:p,onChange:c,onDelete:u})=>{var{localize:g}=h(),[_,v]=o(!1),[f,w]=o(!1),U=n((()=>URL.createObjectURL(e.file)),[e.file]);r((()=>()=>URL.revokeObjectURL(U)),[U]);var[b,y]=o(null),C=a((()=>u&&u(i)),[u,i]),x=a((o=>{v(!1),c(i,{...e,description:o.currentTarget.value})}),[i,e,c]),P=a((o=>{y(o),w(!0),c(i,{...e,locationId:null==o?void 0:o.locationId})}),[i,e,c]),S=a((()=>{y(null),w(!1),c(i,{...e,locationId:null})}),[i,e,c]),M=_&&!e.description?F(m,{id:"uploader_error_required_field"}):null,A=f&&(null==e.locationId||e.locationId<=0)?F(m,{id:"uploader_error_required_field"}):null,k=null!=p,z="video"===e.mediaType?F(m,{id:"post_video_video_count_text",args:{nCurrentVideoCount:i+1,nTotalVideoCount:l}}):F(m,{id:"post_photo_video_count_text",args:{nCurrentphotoCount:i+1,nTotalphotoCount:l}});return T("div",{className:D("Cmrpl",{KZHqm:t}),children:[T("div",{className:"NxRph",children:[l>1&&F(j,{variant:"title-05",marginBottom:"spacing-02",children:z}),T("div",{className:"hakMy",children:["photo"===e.mediaType&&F("img",{className:xe,src:U,alt:""}),"video"===e.mediaType&&T("video",{controls:!0,controlsList:"nodownload nofullscreen",className:xe,children:[F("track",{default:!0,kind:"captions"}),F("source",{src:U,type:"video/mp4"})]}),!k&&F("div",{className:"RAxBx",children:F(I,{size:"small",variant:"dark",icon:Y,"aria-label":g.string("mobile_delete"),onClick:C})}),null!=p&&F("div",{className:"WBEFN",children:F(G,{numSteps:e.file.size,currentStep:p})})]})]}),t&&T("div",{className:"wvYam",children:[F(K,{id:`media-upload-description-${i}`,variant:"five-line",label:F(j,{variant:"title-05",children:F(m,{id:"post_photo_add_description_v2_part_1"})}),placeholder:"video"===e.mediaType?g.string("post_video_add_description_v2_part_2"):g.string("post_photo_add_description_v2_part_2"),maxLength:500,characterCountType:M?void 0:"max",required:!0,value:e.description,state:k?"disabled":M?"error":"enabled",errorText:M,onChange:x,onBlur:()=>v(!0),marginBottom:"spacing-03"}),!d&&!s&&F("div",{className:"FrvbG",children:null==b?F(V,{size:"small",errorText:A,placeholder:g.string("photo_uploader_add_a_location_tag"),onTextInputChanged:()=>w(!1),onBlur:()=>w(!0),onSelect:P}):F(I,{size:"small",variant:"dark",icon:Y,textPosition:"lead","aria-label":`${b.searchText}. ${g.string("remove_location_cf6")}`,disabled:k,onClick:S,children:b.title})})]})]})},Se=({locationId:e=-1})=>{var[i]=t(g),o=B(),l={...X,locationId:e},{media:n,error:d,dragging:p,uploading:c,progress:u,canAddMore:h,canSubmit:v,onFileSelected:f,onMediaChanged:w,onMediaDeleted:b,onSubmit:y,resetMediaState:C}=_e(l),x=n.length>0,S=n.length>1;r((()=>{-1===e&&C()}),[C,e]);var I=a((()=>{o({}).then((()=>{y().then((e=>{null!=e&&(C(),i({node:F(_,{children:F(m,{id:"success_repost_photo"})})}))}))}))}),[y,i,C,o]),M=F(m,S?{id:"ugc_uploader_photo_v3"}:{id:"ugc_uploader_photo_v2"});return T(U,{children:[h&&F(ae,{variant:x?"small":"large",dragging:p,disabled:c||-1===e,onFileSelected:f,marginBottom:"spacing-05",mediaType:l.mediaType,multiple:!0}),null!=d&&F(j,{variant:"supporting-01",color:"dangerText",marginY:"spacing-05",children:d}),n.map(((e,i)=>F(s,{children:F(te,{media:e,index:i,mediaCount:n.length,withMetadata:l.withMetadata,isForCuration:l.isForCuration,hasPresetLocation:null!=l.locationId&&l.locationId>0,progress:c&&null!=u?u[i]:void 0,onChange:w,onDelete:b})},`${e.file.name}/${e.file.size}`))),x?T(U,{children:[F(le,{multipleMedia:S,mediaType:l.mediaType,marginTop:"spacing-05",marginBottom:"spacing-03"}),F(P,{variant:"primary",size:"medium",disabled:!v,onClick:I,children:M})]}):F(re,{mediaType:l.mediaType,maxAllowedFiles:l.maxAllowedFiles,allowedFileTypes:l.allowedFileTypes,maxFileSize:l.maxFileSize,marginTop:"spacing-05"})]})},Ie=({onUploadSuccess:e,onUploadCanceled:i,...o})=>{var l={...Z,...o},{media:r,error:t,dragging:n,uploading:d,progress:p,canAddMore:c,canSubmit:u,onFileSelected:h,onMediaChanged:g,onMediaDeleted:_,onSubmit:v}=_e(l),f=r.length>0,w=r.length>1,b=a((()=>{v().then((i=>{null!=e&&null!=i&&e(i)}))}),[v,e]);return T(U,{children:[c&&F(ae,{variant:"large",dragging:n,disabled:d,onFileSelected:h,marginBottom:"spacing-05",mediaType:l.mediaType}),null!=t&&F(j,{variant:"supporting-01",color:"dangerText",marginY:"spacing-05",children:t}),r.map(((e,i)=>F(s,{children:F(te,{media:e,index:i,mediaCount:r.length,withMetadata:l.withMetadata,isForCuration:l.isForCuration,hasPresetLocation:null!=l.locationId&&l.locationId>0,progress:d&&null!=p?p[i]:void 0,onChange:g,onDelete:_})},`${e.file.name}/${e.file.size}`))),f?T(U,{children:[F(le,{multipleMedia:w,mediaType:l.mediaType,marginTop:"spacing-05",marginBottom:"spacing-03"}),F(P,{variant:"primary",size:"medium",disabled:!u,onClick:b,children:F(m,{id:"b2b_media_upload_text"})})]}):F(re,{mediaType:l.mediaType,maxAllowedFiles:l.maxAllowedFiles,allowedFileTypes:l.allowedFileTypes,maxFileSize:l.maxFileSize,marginTop:"spacing-05"}),F(P,{variant:"primary",size:"medium",onClick:i,marginLeft:f?"spacing-01":void 0,children:F(m,{id:"mc_plus_cancel"})})]})},Me=(e=Object.freeze({}))=>{var i=f(),{login:o}=v(),[r]=t(g),n=l((()=>{})),{open:d}=u((({close:i})=>F(w,{children:F(p,{children:F(ne,{...e,onUploadCanceled:()=>{i(),n.current([])},onUploadSuccess:(...o)=>{i(),r({node:F(_,{children:"video"===e.mediaType?F(m,{id:"success_repost_video"}):F(m,{id:"success_repost_photo"})})}),n.current(...o)}})})})),{},[e,r]);return a((()=>o({flow:"CORE_COMBINED"}).then((()=>(d(),"video"!==e.mediaType&&i({PhotoUploadFlow:{photoUploadWeb:{action:"opened"}}}),new Promise((e=>{n.current=e})))))),[o,d,i,e.mediaType])};return[()=>{H=class extends Error{},J=class extends Error{},X={mediaType:"photo",withMetadata:!0,isForCuration:!1,allowedFileTypes:[".jpg",".jpeg",".gif",".png"],maxFileSize:C,maxAllowedFiles:10,locationId:-1},Z={mediaType:"video",withMetadata:!0,isForCuration:!1,allowedFileTypes:[".mp4",".m4v",".mov"],maxFileSize:x,maxAllowedFiles:5,locationId:-1},Q=d({photos:[],open:()=>{},dragging:!1,progress:null,uploadFiles:()=>{},addPhotosUploadedCallback:()=>{},removePhotosUploadedCallback:()=>{}}),ee={withMetadata:!0,isForCuration:!1,allowedFileTypes:[...X.allowedFileTypes,...Z.allowedFileTypes],maxFileSize:x,locationId:-1},ie=we,oe=Ue,ae=be,le=ye,re=Ce,te=Pe,ne=c((()=>i("1vdjnw"))),e({CustomPhotoUploadProvider:ve,D:ae,M:te,PostPhotosUploader:Se,T:le,VideoUploader:Ie,a:X,b:re,d:Z,u:_e,useCustomPhotoUpload:fe,useMediaUploader:Me})},[e=>(o=e.useState,a=e.useCallback,l=e.useRef,r=e.useEffect,t=e.useContext,n=e.useMemo,d=e.createContext,s=e.Fragment,p=e.Suspense,c=e.lazy),e=>u=e.useVDOMPortal,e=>(m=e.default,h=e.useLocalize),e=>(g=e.Toast,_=e.ToastItem),e=>v=e.default,e=>f=e.useInteractionLogger,e=>w=e.ErrorBoundary,e=>(F=e.jsx,T=e.jsxs,U=e.Fragment),e=>b=e.default,e=>(y=e.fileExtension,C=e.maxImageUploadSizeInBytes,x=e.maxVideoUploadSizeInBytes),e=>(P=e.default,S=e.BorderlessButton,I=e.CircularButton),e=>M=e.useWindow,e=>A=e.useMutation,e=>(k=e.useAddAttempt,z=e.WarPhotoCounter,R=e.useMarkAsSuccess,E=e.useMarkAsFailure,L=e.useMarkAsRateLimitedError,N=e.useMarkAsClientAborted,$=e.useMarkAsClientError),e=>B=e.default,e=>j=e.default,e=>W=e.useKeyboardNavigationMode,e=>D=e.default,e=>O=e.margin,e=>q=e.default,e=>V=e.LocationSelector,e=>Y=e.default,e=>G=e.default,e=>K=e.TextArea]]},["1o4yt4","14euae","17thqz","tr3542","rdycz1","32pwc7","183pm0","121h32","1v5ce8","714tj5","jppfwt","ltllz9","1mqwhq","27fomg","lchj5q","1essqv","12r4qu","fkji80","gw8uw6","lr6tb6","132kj4","1qkjm8","1qndsd","1u3aio"]]);
