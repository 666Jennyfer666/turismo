(this.$WP=this.$WP||[]).push(["t480an",(e,i)=>{"use strict";var a,l,r,n,s,t,c,d,o,p,u,m,v,h,g,_,N,b,w,f,y,R,C,T,x,k,B,D,I,E,L,z,O,A,P,q,M,V,j,S,U,F,W,Z,G,H,Q,K,X,Y,$,J,ee,ie,ae,le,re,ne="ipzRb",se=115,te=e=>{var i=e.replace(/\n/g," ");if(i.length<=se)return i;var a=(e=>e.substr(0,se))(i);if(!e.includes("")||a.includes(""))return a;var l=i.indexOf(""),r=i.substr(l-se,se),n=Math.max(0,r.indexOf(" "));return`...${r=r.substr(n,l-n)}`},ce=({item:e,index:i,numReviews:a,servletName:l,onClick:r})=>{var n,s=1===a,o=2===a,p=t(),m=c((()=>p({module:l,action:"supplier_review_scroll",context:(i+1).toString()})));return T("div",{className:d(s?"xSRnC":o?"btdPp":!o&&"VQOzr","ngLDz B1 Z BB F_","reviewContainer"),children:[x("img",{src:e.avatarUrl,alt:e.screenName,className:s?"KOtWJ":"iNFeA"}),T("div",{className:d(s?"oEmaA":o?"AnbCQ":!o&&"ZCdxF"),children:[x("div",{children:e.screenName}),x("div",{className:"b",children:e.location}),x("span",{className:d("vKNLt",ne),children:x(R,{color:"primaryIcon"})}),e.publishedReviews,x("span",{className:d("vpNlE",ne),children:x(C,{color:"primaryIcon"})}),e.helpfulVotes]}),T("div",{ref:m,className:s?"nqnxF":"",children:[x("div",{className:"tMNYD b o W q",children:e.displayTitle}),x("div",{className:"eINtZ",children:x(f,{variant:"supporting-01",children:T(y,{contentLanguage:"''",children:[x("span",{dangerouslySetInnerHTML:{__html:(n=te(e.displayText||""),(n||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,(e=>F[e]||e)))}}),(e.displayText||"").length>se&&x("span",{dangerouslySetInnerHTML:{__html:"&hellip;"}})]})})}),x(u,{onClick:()=>r(e,i),marginTop:"spacing-02",children:x(N,{id:"common_Read_more"})})]})]},e.reviewId)},de="xpQrL Cj",oe=({avatarUrl:e,screenName:i,publishedReviews:a,helpfulVotes:l})=>T("div",{className:"CBkct",children:[x("img",{src:e,className:"BEBHY Rb",alt:""}),T("div",{className:"lwarf",children:[i,T("div",{children:[x("span",{className:d("gVCvS",de),children:x(R,{})}),a,x("span",{className:d("hYFeu",de),children:x(C,{})}),l]})]})]}),pe=({rating:e,relativePublishedDate:i,dateText:a,mobile:l})=>e?T("div",{className:"MC",children:[x(o,{rating:e}),x("span",{className:"feObe",children:x(N,{id:"relative_dates_reviewed_caps_fffff175",args:{0:i||a||""}})}),l&&T("span",{className:"EaUMv _T q",children:[x("span",{className:"tZaPg Nb",children:x(I,{})}),x(N,{id:"via_mobile_15d0"})]})]}):null,ue=({review:e})=>e?T("div",{className:"FcVlw",children:[x(G,{rating:e.rating||0,relativePublishedDate:e.relativePublishedDate||"",dateText:e.dateText||"",mobile:e.mobile||!1}),x("div",{className:"HFiZX b",children:e.displayTitle}),null!==e.productName&&x(f,{variant:"supporting-01",marginBottom:"spacing-02",children:x(N,{id:"attractions_review_of_activity",args:{activityName:x("span",{className:"KdqUK",children:e.productName||""})}})}),void 0!==e.displayText&&x(f,{variant:"supporting-01",marginBottom:"spacing-02",children:e.displayText}),null!==e.experienceDate&&T("div",{className:"gFZLs",children:[x("span",{className:"MvUsH b",children:x(N,{id:"supplier_trust_module_date_of_experience"})}),e.experienceDate]}),(e.photoUrls||[]).filter(Boolean).map((i=>x("img",{alt:e.productName,src:i,className:"WwGGF"},i))),x("div",{className:"Lebhc i",children:x(D,{variant:"MEMBER"})})]}):null,me=({onClose:e,review:i})=>T(B,{width:"800px",closeIconColor:"TA_GREEN_DARK",onClose:e,children:[x(Z,{avatarUrl:i.avatarUrl||"",screenName:i.screenName||"",publishedReviews:i.publishedReviews||0,helpfulVotes:i.helpfulVotes||0}),x(H,{review:i})]}),ve=({count:e})=>{var i=x(N,{id:"supplier_trust_module_explanation_no_review"});return e>5?i=x(N,{id:"supplier_trust_module_explanation_more_than_5_reviews"}):e>0&&(i=x(N,{id:"supplier_trust_module_explanation_5_or_less_reviews"})),x("p",{className:"UwniM",children:x(f,{elementType:"span",variant:"expressive-body-01",children:i})})},he=({supplierData:e})=>x(u,{href:e.supplierUrl,target:"_blank",children:x(f,{variant:"body-01",children:x(N,{id:"attractions.merchandising.by_non_imperative",args:{supplier:e.supplierName||""}})})}),ge=({supplierData:e,servletName:i,modalOpen:r,clickedReview:n,onClick:s,onClose:t})=>{var c="MOBILE"===_(),o=a(null),u=a(null),w=a(null),[y,R]=l(!1),[C,k]=l(!0),{localize:B}=b();return e?T("div",{className:"Wkzsu Gi",children:[x("div",{className:"YTuGA",children:x(f,{variant:"title-03",children:x(N,{id:"supplier_trust_module_title"})})}),T("div",{className:"zrQbB",children:[x(ve,{count:e.productReviewCount}),T("div",{className:"mMpZa Gi",children:[x("div",{className:"woVHH b Cj",children:x(he,{supplierData:e})}),x("div",{className:"mLFQe",children:x(p,{rating:e.overallRating,numReviews:e.totalReviewCount,url:"#REVIEWS"})}),e.hasCertificateOfExcellence&&T("div",{children:[x("span",{className:"HGaal",children:x(g,{color:"primaryIcon"})}),x("span",{className:"tpvpF",children:x(N,{id:"CertExcellence_ffffdc53"})})]}),!c&&y&&x("span",{className:"CeVbq",children:x(m,{variant:"primary-border","aria-label":B.string("common_Previous"),onClick:()=>{o.current&&(o.current.scrollLeft-=245)},ref:w,icon:h})}),!c&&e.supplierReviews.length>3&&C&&x("span",{className:"jzkHQ",children:x(m,{variant:"primary-border","aria-label":B.string("common_Next"),onClick:()=>{o.current&&(o.current.scrollLeft+=245)},ref:u,icon:v})}),T("div",{onScroll:()=>{if(o.current){o.current.scrollLeft<=0?R(!1):k(!0);var e=Math.ceil(o.current&&o.current.scrollLeft);o.current&&e>=o.current.scrollWidth-o.current.offsetWidth?k(!1):o.current&&o.current.scrollLeft>0&&R(!0)}},className:d("NbNWG f","tourOperatorReviews"),ref:o,children:[(e.supplierReviews||[]).map(((a,l)=>x(W,{index:l,item:a,numReviews:e.supplierReviews.length,servletName:i,onClick:s},a.reviewId))),r&&x(Q,{onClose:t,review:n})]})]})]})]}):null},_e={MOBILE:150,TABLET:159,DESKTOP:270},Ne=({item:e,index:i,onClick:a,supplierHasExactlyOneReview:l})=>{var r,n=_();return T("div",{className:l?"vyiAy B1 Z BB P6 F_ z":"cjhdr B1 Z BB P6 F_ z",children:[T("div",{className:"LzyQN u",children:[x("img",{src:e.avatarUrl,alt:e.screenName,className:"mVwwT"}),T("div",{className:"KqSwg S0",children:[x(f,{variant:"supporting-01",children:e.screenName}),T("div",{className:"XCuVU u",children:[x(R,{color:"primaryIcon",size:13,marginRight:"spacing-01"}),x(f,{variant:"supporting-02",marginRight:"spacing-02",children:e.publishedReviews}),x(C,{color:"primaryIcon",size:13,marginRight:"spacing-01"}),x(f,{variant:"supporting-02",children:e.helpfulVotes})]})]})]}),x("div",{className:"NruyN o W",children:x(f,{variant:"title-05",children:e.displayTitle})}),x("div",{className:"XmXQH o W",children:x(f,{variant:"body-01",children:e.displayText})}),((null==(r=e.displayText)?void 0:r.length)||0)>_e[n]&&x(u,{onClick:()=>a(e,i),marginTop:"spacing-02",children:x(N,{id:"common_Read_more"})})]},e.reviewId)},be="AVdXh Cj",we=({avatarUrl:e,screenName:i,publishedReviews:a,helpfulVotes:l})=>T("div",{className:"CQGnn c",children:[x("img",{src:e,className:"BrDPT Rb",alt:""}),T("div",{className:"qrAdG",children:[i,T("div",{children:[x("span",{className:d("FuZjo",be),children:x(R,{})}),a,x("span",{className:d("LejIh",be),children:x(C,{})}),l]})]})]}),fe=({rating:e,relativePublishedDate:i,dateText:a,mobile:l})=>{var r=w();if(!e)return null;var n=i||a?r.formatDate("date_medium",new Date(i||a)):null;return T("div",{className:"f MC u",children:[x(o,{rating:e,size:"small"}),n&&x("span",{className:"xhfAL",children:x(f,{variant:"supporting-02",children:x(N,{id:"relative_dates_reviewed_caps_fffff175",args:{0:n}})})}),l&&T(k,{children:[x("span",{className:"rAmSJ",children:x(I,{})}),x(f,{variant:"supporting-02",children:x(N,{id:"via_mobile_15d0"})})]})]})},ye=({review:e})=>e?T("div",{className:"qyqlC",children:[x($,{rating:e.rating||0,relativePublishedDate:e.relativePublishedDate||"",dateText:e.dateText||"",mobile:e.mobile||!1}),x(f,{variant:"title-04",children:e.displayTitle}),e.productName&&x(f,{variant:"body-01",marginBottom:"spacing-03",marginTop:"spacing-03",children:x(N,{id:"attractions_review_of_activity",args:{activityName:x("span",{className:"ulniF",children:e.productName||""})}})}),e.displayText&&x(f,{variant:"body-01",marginBottom:"spacing-02",children:e.displayText}),e.experienceDate&&x("div",{className:"qhxgk",children:T(f,{variant:"supporting-01",children:[x("span",{className:"oyjxM",children:x(N,{id:"supplier_trust_module_date_of_experience"})}),e.experienceDate]})}),(e.photoUrls||[]).filter(Boolean).map((i=>x("img",{alt:e.productName,src:i,className:"jXMrn"},i))),x("div",{className:"RmpjA i",children:x(N,{id:"userreviewbody_26ec"})})]}):null,Re=({onClose:e,review:i})=>T(B,{width:"768px",closeIconColor:"TA_GREEN_DARK",onClose:e,containerProps:{roundedCorners:!0},children:[x(Y,{avatarUrl:i.avatarUrl||"",screenName:i.screenName||"",publishedReviews:i.publishedReviews||0,helpfulVotes:i.helpfulVotes||0}),x(J,{review:i})]}),Ce="MQghn",Te=({supplierData:e})=>{var i,a,l=null==(i=e.supplierThumbnailPhotoSizes)?void 0:i[e.supplierThumbnailPhotoSizes.length-1],{trackInteraction:n}=z(),s=r((()=>{n({type:"click",subType:"badge"})}),[n]),t=w(),c=(null==e?void 0:e.supplierPublishedDate)&&t.formatDate("date_full_month_year",new Date(e.supplierPublishedDate)),d=(null==e||null==(a=e.supplierLocation)?void 0:a.length)&&e.supplierLocation.length>25;return T("div",{className:"Ledhf B1 Z BB Ra z",children:[l&&T("div",{className:"ZOVQt o",children:[x(V,{href:e.supplierUrl,onClick:()=>n({type:"click",subType:"supplierImage"}),target:"_blank",theme:"image",children:x(P,{source:l.url,width:"100%",height:"100%",aspectRatio:"4:3"})}),x("div",{className:"BhkBY",children:x(A,{onClick:s,locationId:e.supplierId,size:"small"})})]}),T("div",{className:"Pa PY Pn PK",children:[x("a",{className:"TmqnY c",href:e.supplierUrl,target:"_blank",onClick:()=>n({type:"click",subType:"supplierName"}),children:x(f,{variant:"title-04",marginBottom:"spacing-02",marginTop:"spacing-04",lineClamp:2,children:e.supplierName})}),x("div",{className:"rtDDF",children:x(p,{rating:e.overallRating,numReviews:e.totalReviewCount,marginBottom:"spacing-03",size:"small"})}),T("div",{className:"dacvF u",children:[x(q,{marginRight:"spacing-01",size:22}),x(f,{variant:"body-01",children:d?e.supplierCountry:e.supplierLocation})]}),c&&x("div",{className:"leKZm",children:x(f,{variant:"body-01",marginTop:"spacing-01",children:x(N,{id:"about_the_operator_join_date_apr",args:{date:c}})})}),(null==e?void 0:e.supplierRankingText)&&T(k,{children:[x(M,{marginTop:"spacing-03",marginBottom:"spacing-03"}),x("div",{className:"lTbDC c o _X",children:x(f,{variant:"body-01",children:e.supplierRankingText})})]})]})]})},xe=({showCollapsable:e,children:i})=>e?x(L,{question:x(f,{variant:"title-05",children:x(N,{id:"about_the_operator_review_expansion_mobile_apr_v2"})}),answer:i,isExpanded:!0}):i,ke=({supplierData:e,modalOpen:i,clickedReview:a,onClick:l,onClose:n})=>{var s="MOBILE"===_(),{trackInteraction:t}=z(),c=w(),d=r((()=>t({type:"click",subType:"seeAllReviews"})),[t]),o=r((()=>t({type:"scroll",subType:"reviews"})),[t]);if(!e)return null;var p=1===e.supplierReviews.length,m=c.formatNumber("integer",e.totalReviewCount),v=e.supplierUrl?`${e.supplierUrl}#REVIEWS`:null;return x(O,{scope:{scopeType:"item",itemType:"aboutOperator",itemId:"aboutOperator"},children:T("div",{className:"RvcTE",children:[T("div",{className:"f k",children:[x(f,{variant:"title-03",marginBottom:"spacing-04",children:x(N,{id:"about_the_operator_title_apr_v2"})}),!s&&e.supplierReviews.length>1&&v&&x("div",{className:Ce,children:x(u,{variant:"primary-small",href:v,target:"_blank",onClick:d,children:x(N,{id:"attraction_about_operator_see_all_reviews",args:{numReviews:m}})})})]}),T("div",{className:"VdgbA f",children:[x(ie,{supplierData:e}),T(xe,{showCollapsable:s,children:[x("div",{className:p?"mjCzK":"uLfkQ",children:p?x(X,{index:0,item:e.supplierReviews[0],onClick:l,supplierHasExactlyOneReview:p},e.supplierReviews[0].reviewId):T(E,{variableHeight:!0,onScrolled:o,fullBleed:!1,children:[(e.supplierReviews||[]).map(((e,i)=>x(X,{index:i,item:e,onClick:l},e.reviewId))),i&&x(ee,{onClose:n,review:a})]})}),s&&e.supplierReviews.length>1&&v&&x("div",{className:Ce,children:x(u,{href:v,target:"_blank",onClick:d,children:x(f,{variant:"button-04",children:x(N,{id:"attraction_about_operator_see_all_reviews",args:{numReviews:m}})})})})]})]})]})})},Be=({servletName:e,returnEmpty:i,supplierData:a,modalOpen:l,clickedReview:r,onClick:n,onClose:s,isAboutTheOperatorTestEnabled:d})=>{var o=t(),p=c((()=>{o({module:e,action:"in_view"})}));return x("div",{ref:p,children:!i&&(d?x(ae,{supplierData:a,modalOpen:l,clickedReview:r,onClick:n,onClose:s}):x(K,{supplierData:a,servletName:e,modalOpen:l,clickedReview:r,onClick:n,onClose:s}))})},De={__key:0xb3304af4b876,id:"b3304af4b876b99117c2cc419a6a7744",loc:{},definitions:[]},Ie=()=>{var e=U(),i={query:De,variables:{locationId:(null==e?void 0:e.supplierId)||0}},[a]=S(i);return n((()=>{if(!e)return null;var{data:i}=a,l=i&&i.coeAward&&i.coeAward[0];return{...e,hasCertificateOfExcellence:!!l}}),[a,e])},Ee="SupplierTrustModule",Le=()=>{var e=t(),[i,a]=l(!1),[n,c]=l({}),[d,o]=j(),{trackInteraction:p}=z();s((()=>{o()}),[o]);var u=r(((i,l)=>{d?p({type:"click",subType:"readMoreReview"}):e({module:Ee,action:"click_read_more",context:(l+1).toString()}),c(i),a(!0)}),[e,p,d]),m=r((()=>{d?p({type:"click",subType:"closeReview"}):e({module:Ee,action:"click_close"}),a(!1),c({})}),[e,p,d]),v=re();return v&&v.supplierId&&v.supplierReviews&&0!==v.supplierReviews.length?x(le,{servletName:Ee,returnEmpty:!1,supplierData:v,modalOpen:i,clickedReview:n,onClick:u,onClose:m,isAboutTheOperatorTestEnabled:d}):null};return[()=>{F={"":'<span class="eTXXL Gj">',"":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},W=ce,Z=oe,G=pe,H=ue,Q=me,K=ge,X=Ne,Y=we,$=fe,J=ye,ee=Re,ie=Te,ae=ke,le=Be,re=Ie,e("default",Le)},[e=>(a=e.useRef,l=e.useState,r=e.useCallback,n=e.useMemo,s=e.useEffect),e=>t=e.useGARecorder,e=>c=e.useOnVisible,e=>d=e.default,e=>(o=e.BubbleRating,p=e.BubbleRatingWithReviewCount),e=>(u=e.BorderlessButton,m=e.CircularButton),e=>v=e.default,e=>h=e.default,e=>g=e.default,e=>_=e.useViewportCategory,e=>(N=e.default,b=e.useLocalize,w=e.useIntlFormatter),e=>f=e.default,e=>y=e.DirectionalText,e=>R=e.default,e=>C=e.default,e=>(T=e.jsxs,x=e.jsx,k=e.Fragment),e=>B=e.default,e=>D=e.TransparencyLinkReviewDisclosure,e=>I=e.default,e=>E=e.Carousel,e=>L=e.CollapsibleListItem,e=>(z=e.useTracking,O=e.TrackingScope),e=>A=e.TravelersChoiceAwardBadgeWithDescription,e=>P=e.default,e=>q=e.default,e=>M=e.default,e=>V=e.default,e=>j=e.useAboutTheOperatorExperiment,e=>S=e.useQuery,e=>U=e.useSupplierTrustData]]},["1o4yt4","32pwc7","13btuy","fkji80","1bkeq2","jppfwt","7a7jm3","17nq86","6hgtex","1ys6v1","17thqz","1essqv","wgun1f","10wbf8","1u47wj","121h32","17u7gi","12ksxj","1xb8dq","17yaz6","1ahn2t","zzfm0c","98pb0s","34bu7w","1bp96i","covaqn","lr6tb6","2heyv0","1mqwhq","wuy6gz"]]);
