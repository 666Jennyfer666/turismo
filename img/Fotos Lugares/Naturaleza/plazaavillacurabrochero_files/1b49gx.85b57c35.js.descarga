(this.$WP=this.$WP||[]).push(["1b49gx",(e,t)=>{"use strict";var r,i,n,a,s,l,o,u,d,c,h,g,f,b,m={__key:47341106834418,id:"2b0e75db2bf2ac8d9db355c211502cee",loc:{},definitions:[]},v={__key:0xfbc469cd3380,id:"fbc469cd338054ad33e4d4417c3ed572",loc:{},definitions:[]},p={__key:0xe29191b1dbb3,id:"e29191b1dbb366322f96514f5bad3c15",loc:{},definitions:[]},L={__key:0xc5e3b5497eac,id:"c5e3b5497eace1d9b85f36cdf504dd3c",loc:{},definitions:[]};function y({children:e,forceNew:t=!1}){var r=a(b),i=d(),s=n((()=>new g(i)),[i]),l=!t&&r instanceof g?r:s;return c(b.Provider,{value:l,children:e})}function S(e){var t=a(b),[r,i]=l(t.get(e));return o((()=>{var r=t.subscribe(e,i),n=setTimeout((()=>{t.loadPending()}),0);return()=>{clearTimeout(n),r()}}),[t,e]),r}function P(...e){var[{data:t}]=u({query:p,variables:{ids:e},pause:0===e.length});return i.useMemo((()=>t&&t.labels?t.labels.map((e=>(null==e?void 0:e.tagNameLocalized)||null)):Array(e.length).fill(null)),[t,e.length])}var x=["de"],z=e=>n((()=>x.includes(e)),[e]);function A({id:e}){return S(e)}function N(e){var t=!e.request.shouldEscape,r=function(...e){var[{data:t,fetching:r}]=u({query:m,variables:{requests:e},pause:0===e.length});return n((()=>!r&&null!=t&&t.text?t.text:Array(e.length).fill("...")),[e,r,t])}(e.request);return t?c("span",{dangerouslySetInnerHTML:{__html:r.join(" ")}}):null!=r?r:null}function q(e){return S(`location.${String(e)}`)}function T({id:e}){return q(e)}function w(e){return S(`tag.${String(e)}`)}function _(e){return S(`airport.${e}`)}function I({id:e}){return w(e)}function $(e){var t=r();if("id"in e)return c(A,{id:e.id});if("request"in e)return c(N,{...e});if("tagId"in e)return c(I,{id:e.tagId});if("locationId"in e)return c(T,{id:e.locationId});if("price"in e)return!0===e.iso?t.formatCurrencyISO(e.price):t.formatCurrency(e.price);if(e.date){var i,n="format"in e&&null!=(i=e.format)?i:"week_date_short";return t.formatDate(n,e.date)}return null}return e({LocalizedFilledString:N,LocalizedString:$,LocalizedStringProvider:y,LocalizedText:A,LocationName:T,Tag:I,useLocationAirportLabel:_,useLocationName:q,useTagLabel:w,useTagLabels:P}),[()=>{h=class{constructor(){this.map=new Map,this.nonexistent=new Set,this.subscribers=new Map,this.pending=new Set}tag(e){var t;return null!=(t=this.get(`tag.${String(e)}`))?t:null}location(e){var t;return null!=(t=this.get(`location.${String(e)}`))?t:null}get(e){var t;return null!=(t=this.map.get(e))?t:null}set(e,t){return!(this.has(e)&&t===this.get(e)||(this.map.set(e,t),this.notify(e),0))}notify(e){var t=this.subscribers.get(e);if(t){var r=this.get(e);[...t].forEach((e=>e(r)))}}notifyAll(e){e.forEach((e=>this.notify(e)))}subscribersForId(e){var t=this.subscribers.get(e);return t||(t=new Set,this.subscribers.set(e,t),t)}has(e){return this.map.has(e)}subscribe(e,t){var r=this.subscribersForId(e);return r.has(t)||r.add(t),this.has(e)?t(this.get(e)):this.pending.add(e),()=>{r.delete(t)}}load(e){return console.error("Attempt to use default LocalizedStringStore"),Promise.reject(new Error("You need to initialize a store"))}missing(e){return e.filter((e=>!this.map.has(e)))}addAll(e){var t=new Set;e.forEach((([e,r])=>{this.set(e,null!=r?r:null)&&t.add(e)})),this.notifyAll([...t])}loadPending(){if(this.pending.size>0){var e=[...this.pending];this.pending.clear(),this.load(e).then((e=>this.notifyAll(e))).catch((e=>{console.error(e)}))}}},g=class extends h{constructor(e){super(),this.client=void 0,this.client=e}load(e){var t=this.missing(e);if(0===t.length)return Promise.resolve([]);var r=t.filter((e=>/^tag\./.test(e))).map((e=>Number(String(e.substr(4))))).filter((e=>!isNaN(e))),i=t.filter((e=>/^location\./.test(e))).map((e=>Number(String(e.substr(9))))).filter((e=>!isNaN(e))),n=t.filter((e=>/^airport\./.test(e))).map((e=>String(e.substr(8)))),a=t.filter((e=>!/^(location|tag|airport)\./.test(e)));return Promise.all([this.loadLocations(i),this.loadTags(r),this.loadAirports(n),this.loadKeys(a)]).then((()=>t))}loadLocations(e){return 0===e.length?Promise.resolve():this.client.query(L,{ids:e}).toPromise().then((t=>{var{data:r}=t;r&&r.names&&this.addAll(r.names.map(((t,r)=>{var i;return[`location.${e[r]}`,null!=(i=null==t?void 0:t.localizedName)?i:null]})))}))}loadTags(e){return 0===e.length?Promise.resolve():this.client.query(p,{ids:e}).toPromise().then((t=>{var{data:r}=t;r&&r.labels&&this.addAll(r.labels.map(((t,r)=>{var i;return[`tag.${e[r]}`,null!=(i=null==t?void 0:t.tagNameLocalized)?i:null]})))}))}loadAirports(e){return 0===e.length?Promise.resolve():this.client.query(v,{airportCodes:e}).toPromise().then((t=>{var{data:r}=t;r&&r.labels&&this.addAll(r.labels.map(((t,r)=>{var i;return[`airport.${e[r]}`,null!=(i=null==t?void 0:t.locationName)?i:null]})))}))}loadKeys(e){return 0===e.length?Promise.resolve():this.client.query(m,{requests:e.map((e=>({key:e})))}).toPromise().then((t=>{var{data:r}=t;r&&r.text&&this.addAll(r.text.map(((t,r)=>[e[r],null!=t?t:null])))}))}},f=new h,b=s(f),e({LocalizedFilledString:N,LocalizedString:$,LocalizedStringProvider:y,LocalizedText:A,LocationName:T,Tag:I,useIsLongLanguage:z,useLocationAirportLabel:_,useLocationName:q,useTagLabel:w,useTagLabels:P})},[e=>r=e.useIntlFormatter,e=>(i=e,n=e.useMemo,a=e.useContext,s=e.createContext,l=e.useState,o=e.useEffect),e=>(u=e.useQuery,d=e.useClient),e=>c=e.jsx]]},["17thqz","1o4yt4","1mqwhq","121h32"]]);
