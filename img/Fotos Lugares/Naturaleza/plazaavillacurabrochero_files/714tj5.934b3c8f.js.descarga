(this.$WP=this.$WP||[]).push(["714tj5",(e,t)=>{"use strict";var r,i,s,a,n=e=>{var t=e.lastIndexOf(".");if(!(t<0))return e.substring(t).toLowerCase()},o=(e,t,r,i,s,a)=>{var o=((e,t,r)=>{if(r&&e.size>r)return"file_too_large";if(t){var i=n(e.name);if(!i)return"wrong_file_type";if(!t.includes(i))return"wrong_file_type"}})(e,r,i);o?s&&s(e,o):t(e,a)},l=(e,t,r,i,s)=>{if(e.dataTransfer.items)for(var a=0;a<e.dataTransfer.items.length;a++){var n=e.dataTransfer.items[a].getAsFile();n&&o(n,t,r,i,s,"drag_drop")}else for(var l=0;l<e.dataTransfer.files.length;l++){var p=e.dataTransfer.files[l];p&&o(p,t,r,i,s,"drag_drop")}},p=e=>{e.preventDefault()};return[()=>{e("DropZone",a=class extends r{constructor(e){super(e),this.fileInputRef=null,this.handleDragOver=e=>{e.preventDefault(),this.setState({isDragOver:!0})},this.handleDragLeave=e=>{e.preventDefault(),this.setState({isDragOver:!1})},this.handleDrop=e=>{e.preventDefault(),l(e,this.props.addFile,this.props.allowedFileTypes,this.props.maxSizeInBytes,this.props.fileRejected),this.setState({isDragOver:!1})},this.fileSelectionChanged=e=>{var t=e.target.files;t&&Array.from(t).forEach((e=>o(e,this.props.addFile,this.props.allowedFileTypes,this.props.maxSizeInBytes,this.props.fileRejected,"file_picker"))),this.fileInputRef&&(this.fileInputRef.value="")},this.render=()=>{var e=this.props.allowMultipleSelection?{multiple:!0}:{};return i("div",{style:{width:this.props.width,height:this.props.height},className:"ZhCTm _S z "+(this.props.isDragOverOutsideComponent||this.state.isDragOver?"EaIug":""),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:()=>{var e;return null==(e=this.fileInputRef)?void 0:e.click()},children:[s("input",{style:{display:"none"},type:"file",name:"media",accept:this.props.allowedFileTypes.join(","),...e,onChange:this.fileSelectionChanged,onClick:e=>e.stopPropagation(),ref:e=>{this.fileInputRef=e}}),this.props.children]})},this.state={isDragOver:!1}}componentDidMount(){this.props.disableOnDropForPage&&(window.addEventListener("dragover",p),window.addEventListener("drop",p))}componentWillUnmount(){this.props.disableOnDropForPage&&(window.removeEventListener("dragover",p),window.removeEventListener("drop",p))}}),a.defaultProps={allowedFileTypes:["*"],allowMultipleSelection:!0,disableOnDropForPage:!0,isDragOverOutsideComponent:!1,width:"100%",height:"100%"},e({DropZone:a,fileExtension:n,maxImageUploadSizeInBytes:15728640,maxImageUploadSizeInMB:15,maxVideoUploadSizeInBytes:524288e3,processFile:o,processFilesFromDrop:l})},[e=>r=e.Component,e=>(i=e.jsxs,s=e.jsx)]]},["1o4yt4","121h32"]]);
