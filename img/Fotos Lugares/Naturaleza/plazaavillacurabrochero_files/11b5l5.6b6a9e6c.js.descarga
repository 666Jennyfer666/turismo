(this.$WP=this.$WP||[]).push(["11b5l5",(e,t)=>{"use strict";var a,l,r,n,i,o,s,u,c,d,p,h,g,m,y,b,v,f,T,R,_,S,N,C,I,k,A,O,w,x,E,M,L,P,U,H,D,q,V,z,j,B,K,G,Q,F="qjfqs _G B- z _J Cj R0",$="riJbp _G _H B- _S t u j Cj",W="UXKdo",Y="ta_search_traffic_to_aph_1681414443",Z=({styleVariant:e="box",overlayVariant:t="none",placeholderText:a,query:n="",displayedQuery:i="",scope:o={geoId:0},onChange:h=(()=>{}),onOpen:T,onClose:I,onKeyDown:k,onSubmit:A,onResultHovered:O,onResultClicked:w=(()=>{}),isOpen:x=!1,isLoading:E=!1,selectedIndex:M,results:L=[],header:P,headerIndex:U,searchSessionId:H="",testAttribute:D=""})=>{var q=S({experimentKeys:[Y]}),V="Test"===(null==q?void 0:q[Y]),{localize:z}=R(),j=f(),{os:B}=s(),K="MOBILE"===j&&"IOS"===B.family,G=l(null),Q=l(null),Z=null!=o&&"number"==typeof o.geoId&&o.geoId>1,J=null!=o&&"number"==typeof o.latitude&&"number"==typeof o.longitude,X=p((e=>{e||null==I||(Q.current&&Q.current.blur(),I())})),ee=r((e=>h(e.currentTarget.value)),[h]),te=r((()=>{h(""),Q.current&&Q.current.focus()}),[h]),ae="MOBILE"===j&&x,le=r((()=>{ae&&Q.current&&Q.current.blur()}),[ae]);_(ae),c((()=>{var e=Q.current,t=G.current;x&&null!=e&&null!=t&&e.focus()}),[x]),d("focusin",(e=>{x&&X.current instanceof Element&&e.target instanceof Element&&!X.current.contains(e.target)&&(null==I||I())})),d("keydown",(e=>{var t;e instanceof KeyboardEvent&&(x||e.target===Q.current)&&(null==k||k(e),null==(t=Q.current)||t.focus())}));var re=l(null);if(c((()=>{x&&null!=re.current&&re.current.focus()}),[x,M]),"expanding_right"===e&&"MOBILE"===j&&!x)return N("button",{className:`${$} iZZUW`,title:z.string("common_Search"),"aria-label":z.string("common_Search"),onClick:()=>{window.scrollTo({top:0,behavior:"auto"}),null!=T&&T()},children:N(m,{})});var ne=N("input",{ref:Q,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",disabled:!x,className:u(F,{[W]:0!==n.length}),placeholder:a,title:z.string("common_Search"),role:"searchbox","aria-label":z.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:ee}),ie=L.map(((e,t)=>{var a;return N(b,{tabIndex:-1,role:"option","aria-selected":t===M,heading:e.title,highlightingInfo:e.highlightingInfo,subheading:e.subtitle,label:e.label,icon:e.icon,image:e.image,imageVariant:e.imageVariant,href:V&&e.url&&"ACTIVITY"===e.trackingPlaceType?e.url.replace(/AttractionProductReview/,"AttractionProductHighlight"):null!=(a=e.url)?a:"",selected:t===M,onClick:t=>{null==e.onClick||e.onClick(),w(e,t)},onMouseOver:O,ref:t===M?re:void 0},t)}));return null!=U&&null!=P&&ie.splice(U,0,N(v,{variant:"label-01",color:"primaryText",marginX:"spacing-04",marginY:"spacing-02",id:"typeahead_results_header",children:P},"header")),C("div",{ref:G,className:u("slvrn Z0 Wh",{rsqqi:x,EcFTp:"box"===e,UfhjQ:"box_narrow"===e,PxcKL:"expanding_right"===e,MPgGB:"expanding_left"===e,zfRKL:"heroSearchNarrow"===t,GADiy:"topCentered"===t}),onTouchMove:le,"data-test-attribute":D,children:[N("div",{className:"RIeZQ",onClick:I}),C("form",{role:"search","aria-busy":E?"true":void 0,className:"hZNMq o",action:"/Search",onInvalid:e=>e.preventDefault(),onSubmit:A,ref:X,children:[K&&N("div",{onClick:()=>{T&&T()},children:ne}),!K&&N("input",{ref:Q,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",className:u(F,{[W]:0!==n.length}),placeholder:a,title:z.string("common_Search"),role:"searchbox","aria-label":z.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:ee,onClick:()=>{T&&T()}}),N("input",{type:"hidden",name:"searchSessionId",value:H}),N("input",{type:"hidden",name:"searchNearby",value:String(J)}),J&&N("input",{type:"hidden",name:"latitude",value:(null==o?void 0:o.latitude)||""}),J&&N("input",{type:"hidden",name:"longitude",value:(null==o?void 0:o.longitude)||""}),Z&&N("input",{type:"hidden",name:"geo",value:null==o?void 0:o.geoId}),N("button",{type:"button",className:`${$} lDGWU`,title:z.string("mobile_back_8e0"),"aria-label":z.string("mobile_back_8e0"),onClick:I,children:N(g,{})}),0!==n.length&&N("button",{type:"button",className:`${$} DhdpX`,title:z.string("mobile_search_filter_clear_26e8"),"aria-label":z.string("mobile_search_filter_clear_26e8"),onClick:te,children:N(y,{})}),N("button",{type:"submit",formAction:"/Search",className:`${$} PGlrP`,title:z.string("common_Search"),"aria-label":z.string("common_Search"),tabIndex:-1,children:E?N("svg",{className:"bRKpC",viewBox:"0 0 20 20",children:N("path",{className:"XmVyL",d:"M 10 2 A 8 8 0 1 0 18 10"})}):N(m,{})}),x&&N("div",{id:"typeahead_results",role:"listbox","aria-labelledby":"typeahead_results_header",className:"ROqMU","data-test-attribute":"typeahead-results",children:ie})]})]})},J={__key:59392074389379,id:"36044b7f178388df8e2203ed86df5001",loc:{},definitions:[]},X={__key:0x7a84604bf8da,id:"7a84604bf8da07d67643f0d3dc37c518",loc:{},definitions:[]},ee=(e,t,a=!1)=>{var l,r,n,i,o,{locationV2:s,defaultUrl:u,hotelsUrl:c,attractionOverviewURL:d,restaurantOverviewURL:p}=null!=e?e:{},{locationId:h,placeType:g,isGeo:m,names:y,vacationRentalsRoute:b}=null!=s?s:{};if(null==h||h<=1)return null;if(null!=t&&!0!==m)return null;var v=null!=(l=null!=(r=null!=(n=null!=c?c:d)?n:p)?r:null==b?void 0:b.url)?l:u;return null==v?null:{key:String(h),title:null!=(i=null==y?void 0:y.name)?i:"",subtitle:null==y?void 0:y.longOnlyHierarchyTypeaheadV2,label:a?N(T,{id:"social_mobile_reason_for_sponsored"}):void 0,searchText:null!=(o=null==y?void 0:y.name)?o:"",url:v,trackingType:a?"SPONSORED_LOCATION":"LOCATION",trackingPlaceType:g,locationId:null!=h?h:-1}},te={__key:0xc8f09d1da793,id:"c8f09d1da7931b59aa2dcb94924c1eee",loc:{},definitions:[]},ae=({scope:e,onStopLoading:t})=>{var{localize:a}=R(),i="number"==typeof e.latitude&&"number"==typeof e.longitude,o=((e,t)=>{var{localize:a}=R(),i=I(),o=E(),s=l(!0);return n((()=>()=>{s.current=!1}),[]),r((()=>{navigator.geolocation.getCurrentPosition((({coords:{latitude:a,longitude:l}})=>{L.set("rejectedLocationPermissions",!1);var r=(()=>{switch(e){case"ATTRACTIONS":return{page:"NearbyAttractions",params:{latitude:a,longitude:l}};case"HOTELS":return{page:"NearbyHotels",params:{latitude:a,longitude:l}};case"RESTAURANTS":return{page:"NearbyRestaurants",params:{latitude:a,longitude:l}};case"VACATION_RENTALS":return{page:"NearbyVacationRentals",params:{latitude:a,longitude:l}};default:return{page:"Nearby",params:{isNearby:!0,latitude:a,longitude:l}}}})();o.query(te,r).toPromise().then((({data:e})=>{var a,l;t();var r=null==e||null==(a=e.routes)||null==(l=a[0])?void 0:l.url;null!=r&&i(r)}),(()=>{t()}))}),(e=>{s.current&&t(),e.code!==e.PERMISSION_DENIED&&e.code!==e.TIMEOUT&&e.code!==e.POSITION_UNAVAILABLE||(L.set("rejectedLocationPermissions",!0),alert(a.string("mw_js_positionPermissionDenied")))}),{timeout:6e3})}),[a,i,o,e,t])})(e.linkType,t);return i?null:{title:a.string("mx_nearby"),searchText:a.string("mx_nearby"),icon:P,trackingType:"NEARBY",key:"NEARBY",onClick:o}},le=e=>{var t=D(),a=V(),{page:l}=A(),r=O(),{randomSponsorshipCampaign:n}=q(e),i=h((()=>{n&&a({team:"TAPS",page:l,pageUid:r,itemType:"sponsoredSearchImpression",itemId:String(n.campaignId),itemName:n.sponsorDisplayName,customData:JSON.stringify({campaignType:n.campaignType,clickUrl:n.clickUrl,sponsorId:n.sponsorId})})}));if(!n)return null;var o,{campaignId:s,sponsorId:u,sponsorDisplayName:c,clickUrl:d,campaignType:p}=n,g=124!==n.sponsorId,m={key:String(s),label:g?N(T,{id:"sponsored_search_sponsored_label"}):void 0,url:d,onClick:()=>{t({team:"TAPS",actionType:"click",page:l,pageUid:r,itemType:"sponsoredSearchClick",itemId:String(s),itemName:c,customData:JSON.stringify({campaignType:p,clickUrl:d,sponsorId:u})})}};switch(p){case"ARTICLE":o=((e,t)=>{var{title:a,authors:l}=e;return{title:a,subtitle:l,searchText:a,icon:U,trackingType:t?"SPONSORED_ARTICLE":"ARTICLE"}})(n,g);break;case"GEO":o=((e,t)=>{var{name:a,stateAndCountryOrEquivalent:l}=e;return{title:a,subtitle:l,searchText:a,trackingType:t?"SPONSORED_LOCATION":"LOCATION"}})(n,g);break;case"TRIP":o=((e,t)=>{var{title:a,ownerDisplayName:l}=e;return{title:a,subtitle:l,searchText:a,icon:H,trackingType:t?"SPONSORED_TRIP":"TRIP"}})(n,g);break;default:return null}return{...m,...o,title:N("div",{ref:i,children:o.title})}},re=({isOpen:e,scope:t,onStopLoading:a})=>{var l=O(),r={isHotelsUrl:"HOTELS"===t.linkType,isAttractionsUrl:"ATTRACTIONS"===t.linkType,isRestaurantsUrl:"RESTAURANTS"===t.linkType,isRentalsUrl:"VACATION_RENTALS"===t.linkType},[{data:n}]=M({query:J,variables:r,pause:!e}),[{data:o}]=M({query:X,variables:{recentLocationsLimit:"ATTRACTION"===t.pageType||"HOTEL"===t.pageType||"RESTAURANT"===t.pageType?10:5,uid:l,...r},pause:!e}),s=B({scope:t,onStopLoading:a}),u=K(!e),c=i((()=>((null==n?void 0:n.popularDestinations.map((e=>j(e,t.linkType))))||[]).filter(Boolean).slice(0,5)),[n,t.linkType]),d=i((()=>{var e,a;return((null==o||null==(e=o.insightProfile)||null==(a=e.locations)?void 0:a.map((e=>j(null==e?void 0:e.location,t.linkType))))||[]).filter(Boolean).slice(0,5)}),[o,t.linkType]);return i((()=>{var e,t,a=[];return null!=s&&a.push(s),null!=u&&a.push(u),d.length>0?(e=N(T,{id:"dual_search_recently_viewed_all_caps"}),t=a.length,a.push(...d)):c.length>0&&(e=N(T,{id:"dual_search_popular_destinations"}),t=a.length,a.push(...c)),{results:a,header:e,headerIndex:t}}),[s,u,c,d])},ne=({source:e,scope:t,maxItems:a,onClose:i,isOpen:s,onOpen:u,query:c,setQuery:d,searchMode:p="SingleSearch",highlightFirstResult:h=!1})=>{var g,m=A(),y=I(),[b,v]=o(0),[f,T]=o(!1),{results:{results:R,resultsId:_},logTypeaheadOpened:S,logResultSelection:N,logSearchAction:C,searchSessionId:O}=w(c,e,t,p,a),E=r((()=>{T(!1)}),[]),M=G({scope:t,isOpen:s,onStopLoading:E}),L=0===R.length||!c.length||c.length<x,P=L?M.results:R,U=l("");n((()=>{_!==U.current&&(v(Date.now()),U.current=_)}),[_]);var[H,D]=o(null),q=h&&null==H?0:H,V=null!=H&&(null==(g=P[H])?void 0:g.searchText)||c,z=r(((e,t)=>{N(t,L,e,P.findIndex((t=>t.key===e.key)),b)}),[P,N,b,L]),j=r((e=>{if(null!=e){var t;if(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(m.path===e.currentTarget.pathname&&null!=(t=k.get(m.page))&&t.isClientNavigable({sourcePage:m.page}))return void(null!=i&&i())}T(!0)}),[m,i]),B=r((e=>{s&&!e||(u&&u(),D(null),S(),v(Date.now()))}),[u,s,S]),K=r((()=>{s&&(D(null),i&&i())}),[s,i]),Q=r((e=>{d(e),D(null),e.length>=x&&B()}),[d,B]),F=r((t=>{switch(t.keyCode){case 38:s?D((e=>null==e?P.length-1:e>0?e-1:null)):B(),t.preventDefault();break;case 40:s?D((e=>null==e?0:e<P.length-1?e+1:null)):B(),t.preventDefault();break;case 13:var a=null!=q?P[q]:null;null==a&&"SRP_SINGLE_SEARCH"===e?(K(),t.preventDefault()):null!=a&&(z(a,"enter"),!1===t.defaultPrevented&&(null==a.onClick||a.onClick(),null!=a.url&&y(a.url)&&T(!0),t.preventDefault()));break;case 27:K(),t.preventDefault()}}),[y,s,q,P,K,B,z,e]),$=r((()=>{C(b),T(!0)}),[C,b]),W=r((()=>{D(null)}),[]),Y=r(((e,t)=>{z(e,"click"),j(t)}),[z,j]);return{displayedQuery:V,isLoading:f,results:P,header:L?M.header:void 0,headerIndex:L?M.headerIndex:void 0,selectedIndex:q,searchSessionId:O,onResultHovered:W,onResultClicked:Y,onOpen:B,onClose:K,onSubmit:$,onChange:Q,onKeyDown:F}},ie={HOTEL:["Hotels","MobileHotels","Hotel_Review","MobileHotel_Review","HotelHighlight","MobileHotelHighlight","SmartDeals","MobileSmartDeals","HotelsList","MobileHotelsList","HotelsNear","MobileHotelsNear","NearbyHotels","MobileNearbyHotels","HotelSearch","LastMinute","TravelersChoiceHotels","ShowUserReviewsHotels"],ATTRACTION:["Attractions","MobileAttractions","Attractions_Coverpage","Attraction_Review","MobileAttraction_Review","AttractionsNear","AttractionProductReview","MobileAttractionProductReview","MobileAttractionsNear","Attraction_Products","MobileAttraction_Products","AttractionReviewSearch","MobileAttractionReviewSearch","NearbyAttractions","MobileNearbyAttractions","ShowUserReviewsAttractions","TravelersChoiceAttractions"],RESTAURANT:["Restaurants","MobileRestaurants","Restaurant_Review","MobileRestaurant_Review","RestaurantSearch","MobileRestaurantSearch","RestaurantsNear","MobileRestaurantsNear","RestaurantMenu","MobileRestaurantMenu","NearbyRestaurants","MobileNearbyRestaurants","TravelersChoiceRestaurants","ShowUserReviewsRestaurants"],FORUM:["ShowTopic","ShowForum","ListForums","ForumHome"]},oe={},se=({source:e,maxItems:t=10,styleVariant:a,overlayVariant:l,placeholderText:n,initialQuery:i="",hidden:s,onClose:u,scope:c,closeOnResultClicked:d,searchMode:p="SingleSearch",isModalOnly:h=!1,highlightFirstResult:g=!1})=>{var[m,y]=o(h),b=r((()=>{h||y(!1),u&&u()}),[u,h]),v=r((()=>{h||y(!0)}),[h]),[f,T]=o(i),R=Q({source:e,maxItems:t,scope:c,searchMode:p,onOpen:v,onClose:b,isOpen:m,query:f,setQuery:T,highlightFirstResult:g});return s&&!m?null:N(z,{...R,onResultClicked:(e,t)=>{d&&b(),null==R.onResultClicked||R.onResultClicked(e,t)},styleVariant:a,overlayVariant:l,placeholderText:n,query:f,scope:c,isOpen:m,testAttribute:`typeahead-${e}`})};return[()=>{z=a(Z),j=ee,B=ae,K=le,G=re,Q=ne,Object.entries(ie).forEach((([e,t])=>t.forEach((t=>{oe[t]=e})))),e({default:a(se),pageToTypeMappings:oe})},[e=>(a=e.memo,l=e.useRef,r=e.useCallback,n=e.useEffect,i=e.useMemo,o=e.useState),e=>s=e.useUserAgent,e=>u=e.default,e=>c=e.useClientSideLayoutEffect,e=>d=e.useWindow,e=>(p=e.useVisibleEffect,h=e.useOnVisible),e=>g=e.default,e=>m=e.default,e=>y=e.default,e=>b=e.default,e=>v=e.default,e=>f=e.useViewportCategory,e=>(T=e.default,R=e.useLocalize),e=>_=e.useBlockScroll,e=>S=e.default,e=>(N=e.jsx,C=e.jsxs),e=>I=e.useNavigate,e=>k=e.pages,e=>(A=e.useRoute,O=e.usePageviewUid),e=>(w=e.default,x=e.MIN_QUERY_LENGTH),e=>(E=e.useClient,M=e.useQuery),e=>L=e.default,e=>P=e.default,e=>U=e.default,e=>H=e.default,e=>D=e.default,e=>q=e.useRandomSponsorshipCampaign,e=>V=e.default]]},["1o4yt4","1nnprh","fkji80","1mb2nz","ltllz9","13btuy","a6i9w3","1qx89h","1qkjm8","17gmts","1essqv","1ys6v1","17thqz","1uzmmz","gugp1d","121h32","10ad67","u5g3tb","fgwvq1","7l5hpv","1mqwhq","tp1g68","1nc3gm","zb2uaz","1l75rc","1r73jw","1ubyuk","xg719z"]]);
