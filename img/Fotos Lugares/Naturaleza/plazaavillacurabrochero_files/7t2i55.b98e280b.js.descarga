(this.$WP=this.$WP||[]).push(["7t2i55",(e,t)=>{"use strict";var n,i,a,l,r,o,d,c,s,u,m,p,v,h,g,_,b,f,C,T,k,y,P,A,I,E,x,S,N,R,w,O,B,W,L,M,D,G,F,U,V,z,H,K,q,j,Y,Q,$,J,Z,X,ee,te,ne,ie,ae,le,re,oe,de,ce,se,ue,me,pe,ve,he,ge,_e,be,fe,Ce,Te,ke,ye,Pe,Ae,Ie,Ee,xe,Se,Ne,Re,we,Oe,Be,We,Le,Me,De,Ge,Fe,Ue,Ve,ze,He,Ke,qe,je,Ye,Qe,$e,Je,Ze,Xe,et,tt,nt,it,at,lt,rt,ot,dt,ct,st,ut,mt,pt,vt,ht,gt,_t,bt,ft,Ct,Tt,kt,yt,Pt,At,It,Et,xt,St,Nt,Rt,wt,Ot,Bt,Wt,Lt,Mt,Dt,Gt,Ft,Ut,Vt,zt,Ht,Kt,qt,jt,Yt,Qt,$t,Jt,Zt,Xt,en,tn,nn,an,ln,rn,on,dn,cn,sn,un,mn,pn,vn,hn,gn,_n,bn,fn,Cn,Tn,kn,yn,Pn,An,In,En,xn,Sn,Nn,Rn,wn,On,Bn,Wn,Ln,Mn,Dn,Gn,Fn,Un,Vn,zn,Hn,Kn,qn,jn,Yn,Qn,$n,Jn,Zn,Xn,ei,ti,ni,ii,ai,li,ri,oi,di,ci,si,ui,mi,pi,vi,hi,gi,_i,bi,fi,Ci,Ti,ki,yi,Pi,Ai,Ii,Ei,xi,Si,Ni,Ri,wi,Oi,Bi,Wi,Li,Mi,Di,Gi,Fi,Ui,Vi,zi,Hi,Ki,qi,ji,Yi,Qi,$i,Ji,Zi,Xi,ea,ta,na,ia,aa,la,ra,oa,da,ca,sa,ua,ma,pa,va,ha,ga,_a,ba,fa,Ca,Ta,ka,ya,Pa,Aa,Ia,Ea,xa,Sa,Na,Ra,wa,Oa,Ba,Wa,La,Ma,Da,Ga,Fa,Ua,Va,za,Ha,Ka,qa,ja,Ya,Qa,$a,Ja,Za,Xa,el,tl,nl,il,al,ll,rl,ol,dl,cl,sl,ul,ml,pl,vl,hl,gl,_l,bl,fl,Cl,Tl,kl,yl,Pl,Al,Il,El,xl,Sl,Nl,Rl,wl,Ol,Bl,Wl,Ll,Ml,Dl,Gl,Fl,Ul,Vl,zl,Hl,Kl,ql,jl,Yl,Ql,$l,Jl,Zl,Xl,er,tr,nr,ir,ar,lr,rr,or,dr,cr,sr,ur,mr,pr,vr,hr,gr,_r,br,fr,Cr,Tr,kr,yr,Pr,Ar,Ir,Er,xr,Sr,Nr,Rr,wr,Or,Br,Wr,Lr,Mr,Dr,Gr,Fr,Ur,Vr,zr,Hr,Kr,qr,jr,Yr,Qr,$r,Jr,Zr,Xr,eo,to,no,io,ao,lo,ro,oo,co,so,uo,mo,po,vo,ho,go,_o,bo,fo,Co,To,ko,yo,Po,Ao,Io,Eo,xo,So,No,Ro,wo,Oo,Bo,Wo,Lo,Mo,Do,Go,Fo,Uo,Vo,zo,Ho,Ko,qo,jo,Yo,Qo,$o,Jo,Zo,Xo,ed,td,nd,id,ad,ld,rd,od=e=>"WebPresentation_AdPlaceholder"===(null==e?void 0:e.__typename),dd=e=>"WebPresentation_AttractionHighlightedReviewsPlaceholder"===(null==e?void 0:e.__typename),cd=e=>"WebPresentation_AsFeaturedInWidgetPlaceholder"===(null==e?void 0:e.__typename),sd=e=>"WebPresentation_DisclaimerSection"===(null==e?void 0:e.__typename),ud=e=>"WebPresentation_MediumCardsCarouselWeb"===(null==e?void 0:e.__typename),md=e=>"WebPresentation_OmnibusDisclosure"===(null==e?void 0:e.__typename),pd=e=>"WebPresentation_PoiAboutWeb"===(null==e?void 0:e.__typename),vd=e=>"WebPresentation_PoiContribute"===(null==e?void 0:e.__typename),hd=e=>"WebPresentation_PoiHeroStandardWeb"===(null==e?void 0:e.__typename),gd=e=>"WebPresentation_PoiHoursWeb"===(null==e?void 0:e.__typename),_d=e=>"WebPresentation_PoiImproveThisListing"===(null==e?void 0:e.__typename),bd=e=>"WebPresentation_PoiLocation"===(null==e?void 0:e.__typename),fd=e=>"WebPresentation_PoiNearbyLocationsWeb"===(null==e?void 0:e.__typename),Cd=e=>"WebPresentation_PoiOverviewWeb"===(null==e?void 0:e.__typename),Td=e=>"WebPresentation_PoiReviewsAndQAWeb"===(null==e?void 0:e.__typename),kd=e=>"WebPresentation_PoiReviewSnippetsWeb"===(null==e?void 0:e.__typename),yd=e=>"WebPresentation_ProductAboveTheFoldInfo"===(null==e?void 0:e.__typename),Pd=e=>"WebPresentation_ProductAboveTheFoldCommerce"===(null==e?void 0:e.__typename),Ad=e=>"WebPresentation_ProductAboveTheFoldHighlights"===(null==e?void 0:e.__typename),Id=e=>"WebPresentation_ProductAboveTheFoldAwards"===(null==e?void 0:e.__typename),Ed=e=>"WebPresentation_ProductAboveTheFoldAccordion"===(null==e?void 0:e.__typename),xd=e=>"WebPresentation_ProductKeyDetailsSectionV2"===(null==e?void 0:e.__typename),Sd=e=>"WebPresentation_SeeMore"===(null==e?void 0:e.__typename),Nd=e=>"WebPresentation_SingleFlexCardSection"===(null==e?void 0:e.__typename),Rd=e=>"WebPresentation_StaticMapSection"===(null==e?void 0:e.__typename),wd=e=>"WebPresentation_TabbedSectionWeb"===(null==e?void 0:e.__typename),Od=e=>"WebPresentation_TravelersTalkAbout"===(null==e?void 0:e.__typename),Bd=e=>od(e)?e:null,Wd=(e,t)=>e?e.flatMap((e=>{switch(null==e?void 0:e.__typename){case"WebPresentation_PoiListSectionGroup":return[e,...(e.detailSections||[]).filter((e=>t||"WebPresentation_AttractionProductItineraryPlaceholder"!==(null==e?void 0:e.__typename)))];case"WebPresentation_PoiLocationSectionGroup":return[e,e.location,e.staticMap,e.attractions,e.restaurants];case"WebPresentation_AttractionAboutSectionGroup":return[e,e.about,e.commerce,e.heroWeb,e.reviewSnippets];case"WebPresentation_PoiInlineBookingSectionGroup":case"WebPresentation_PoiAboveTheFoldSectionGroup":var n,i,a,l=(null==(n=e.primaryList)||null==(i=n.find(Ed))||null==(a=i.items)?void 0:a.filter(Boolean))||[];return[e,e.hero,...e.primaryList||[],...l];case"WebPresentation_SupplierSectionGroup":return[e,e.about,e.hero,e.bookATour,...e.primaryList||[],...e.secondaryList||[]];default:return[]}})).filter(Boolean):[],Ld=e=>"clusterId"in e&&"ATTRACTION_WAYS_TO_EXPERIENCE"===e.clusterId?e.clusterId:"WebPresentation_ProductAboveTheFoldAccordionItem"===e.__typename?`${e.__typename}_${e.trackingKey}`:e.__typename?e.__typename:"",Md=e=>e.reduce(((e,t)=>{var n=Ld(t);return n&&e.set(n,i()),e}),new Map),Dd=({children:e,sections:t})=>{var n=a((()=>{var e=-1;return t.filter(od).map(Bd).filter(Boolean).filter((e=>["INLINE","INLINE_DTC"].includes(e.adType))).reduce(((t,n)=>("INLINE"===n.adType&&e++,t.set(n.stableDiffingType,e),t)),new Map)}),[t]),i=l((({stableDiffingType:e})=>{var t=n.get(e);return null!=t?t:-1}),[n]),r=a((()=>({getAdPosition:i})),[i]);return j(Ta.Provider,{value:r,children:e})},Gd=()=>o(Ta),Fd=["WebPresentation_AttractionAboutSectionGroup","WebPresentation_SupplierSectionGroup","WebPresentation_ProductAboveTheFoldInfo"],Ud=e=>Pa.has(e),Vd=e=>Ud(e)?`tab-data-${e}`:void 0,zd=e=>a((()=>{var t=new Map;e.forEach((e=>{var n;"sectionId"in e&&e.sectionId&&t.set(e.sectionId,(null!=(n=t.get(e.sectionId))?n:[]).concat(e))}));var n=e=>{var n;return null!=(n=t.get(e))?n:[]};return[e=>n(e)[0],n]}),[e]),Hd={ADULT:1,SENIOR:2,YOUTH:3,CHILD:4,INFANT:5},Kd=(e,t)=>Hd[e]-Hd[t],qd=e=>{var t,n,i=null==e||null==(t=e.tourGrade)?void 0:t.detailedPriceItems,a=("WebPresentation_AvailableTimedEntryOption"===(null==e||null==(n=e.timedEntry)?void 0:n.__typename)&&e.timedEntry.detailedPriceItems||i||[]).filter(Boolean);return 0===a.length?{totalPrice:null,totalStrikethroughPrice:null}:{totalPrice:a.reduce(((e,t)=>e+t.price*(t.numTravelers||1)),0),totalStrikethroughPrice:a.reduce(((e,t)=>e+t.strikeThroughPrice*(t.numTravelers||1)),0)}};function jd(){return{incrementQuery:Ea.useIncrementCallback("xGVjdr3gM1XtVv+odO7jOAqlrXDn/q0JW42aymBty1KU9NJsqgsD7pWaHOYUGTeNxonq57UMkKUwNLbzpt6Hpg=="),incrementQueryFailure:Ea.useIncrementCallback("xGVjdr3gM1XtVv+odO7jOAqlrXDn/q0JW42aymBty1JuxE4779QuCEL9qoQZ3nUKijCYsA1W/F8bIInnMbCOFA=="),incrementOfferSeen:xa.useIncrementCallback(),incrementNoAvailability:Sa.useIncrementCallback()}}var Yd={__key:63316262053602,id:"3995f74ee6e2c66ff48d30e34d827c3b",loc:{},definitions:[]},Qd=(e,t,n=!1)=>{var{incrementQuery:i}=jd(),l=tt(),r=(e=>a((()=>{var t,[n,i]=e;return[{...n,data:null==(t=n.data)?void 0:t.Result,operation:void 0},i]}),[e]))(sn({query:Yd,variables:a((()=>({...e,request:{...e.request,updateToken:t}})),[e,t]),pause:n||!l})),[{fetching:o}]=r;return d((()=>{o||i()}),[o,i]),r},$d=({contentId:e,contentType:t,state:n})=>{var{commerce:i,unitLength:l,currency:r}=mn(),{trackClick:o}=k(),{attractions:{adults:c}}=un(),{startDate:s,endDate:u,setByUser:m,pax:p}=i||{};d((()=>{var e={date:{isDefault:!m,value:s||""},pax:{isDefault:null==c||0===c,value:p||[]}};o({clientContext:"attractionCommerceQuery",clientParameter:JSON.stringify(e)})}),[o,m,s,p,c]);var v=a((()=>({unitLength:l,currency:r,request:{routeParameters:{contentId:e,contentType:t,state:n}},commerce:{attractionCommerce:{...i,startDate:s,endDate:u,setByUser:m}}})),[r,l,e,t,n,i,s,u,m]);return Na(v)},Jd=(e,t)=>{var n;switch(t.type){case"SELECT_TICKET":return{...e,ticketLink:null==(n=t.ticket)?void 0:n.linkV2,singleTicket:t.singleTicket,step:"TOURGRADES",isDuplicateItemError:!1};case"SELECT_TOUR":return{...e,selectedTourGrade:t.tour,isDuplicateItemError:!1};case"START_BOOKING":return{...e,isBooking:!0,isDuplicateItemError:!1};case"ADD_TO_CART":return{...e,isAddingToCart:!0,isDuplicateItemError:!1};case"ADD_TO_CART_SUCCESS":return{...e,isAddingToCart:!1};case"SET_TICKET_INFO":return e.datePickerConfig===t.datePickerConfig?e:{...e,datePickerConfig:t.datePickerConfig,ticketInfo:t.ticketInfo,isDuplicateItemError:!1};case"BACK":return{step:"TICKETS",isBooking:!1,isAddingToCart:!1,isDuplicateItemError:!1};case"ERROR":var i=t.isRecoverable?"RECOVERABLE_ERROR":"UNRECOVERABLE_ERROR";return{step:t.showGenericError?"GENERIC_ERROR":i,isBooking:!1,isAddingToCart:!1,isDuplicateItemError:!1};case"DUPLICATE_ITEM_ERROR":return{...e,isBooking:!1,isAddingToCart:!1,isDuplicateItemError:!0};default:return console.error("Unhandled action",t),e}},Zd=({initialStep:e="TICKETS",link:t=null})=>c(Jd,{step:e,ticketLink:t,isBooking:!1,isAddingToCart:!1,isDuplicateItemError:!1}),Xd=()=>{var e="MOBILE"===Ee();return Y("div",{children:[j(we,{variant:"title-01",children:j(le,{id:"fusion_generic_error_title"})}),j(we,{variant:"body-01",marginTop:"spacing-04",marginBottom:"spacing-05",children:j(le,{id:"fusion_generic_error_message"})}),j(xe,{onClick:()=>window.location.reload(),fullWidth:e,children:j(le,{id:"fusion_generic_error_reload_cta"})})]})},ec="REACH_MAX_POLL_COUNT",tc="NO_RESULT",nc="STATUS_COMPLETE_SUCCESS_NO_CART",ic="RESULT_STATUS_DUPLICATE_ITEM",ac=(e,t)=>new Promise(((n,i)=>{var a=l=>{fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t,credentials:"same-origin"}).then((e=>e.ok?e.json():i(new Error("NOT_OK")))).then((e=>{switch(e.polling_state){case"COMPLETE":if(!e.result)throw new Error(tc);return(e=>{switch(e.status){case"SUCCESS":return e.cart?Promise.resolve(e.cart):Promise.reject(new Error(nc));case"DUPLICATE_ITEM":return"DUPLICATE_ITEM"===(null==(t=e.notification)?void 0:t.notificationType)&&null!=(null==t?void 0:t.notificationId)?nt([null==t?void 0:t.notificationId]).catch((()=>Promise.reject(new Error("FAIL_DELETE_NOTIFICATION")))).then((()=>Promise.reject(new Error(ic)))):(console.error("[Fusion][Availability] ","NO_DUPLICATE_ITEM_ACTION"),Promise.reject(new Error(ic)));default:return Promise.reject(new Error(`RESULT_STATUS_${e.status}`))}var t})(e.result).then(n);case"IN_PROGRESS":if(l<30)return setTimeout((()=>a(l+1)),1e3),null;throw new Error(ec);default:throw new Error("FETCH_ERROR")}})).catch(i)};a(1)})),lc=e=>!(null!=e&&e.message&&Ba.has(e.message));function rc(){var e=Je(),{funnelKey:t}=o(Pt),{setCartCount:n}=ft(),i=Ct.useConstantIncrementCallback(),r=l(((t,a,l,r,o="modal")=>{var d,c;l({type:"ADD_TO_CART"}),a({clientContext:"addToCart",clientParameter:o});var s=null==t||null==(d=t.tourGrade)?void 0:d.webviewCheckout,u="WebPresentation_AvailableTimedEntryOption"===(null==t||null==(c=t.timedEntry)?void 0:c.__typename)?t.timedEntry.webviewCheckout:s,{addToCartPayload:m,addToShoppingCartUrl:p}=u||{};return null!=p&&m?ac(p,m).then((t=>{var a,l=(null==(a=t.items)?void 0:a.length)||1;return n(l),((e,t)=>{try{var{productCode:n,tourGradeCode:i,tourDate:a,passengerMix:l}=JSON.parse(t);if(n&&i&&a&&l){var r=JSON.stringify({productCode:n,tourGradeCode:i,tourDate:a,passengerMix:l});At.setCartInfoWithProductAdd(e,!1,r)}}catch(e){console.error("[Fusion][Availability] Failed to parse cart payload for abandoned cart popup")}})(e,m),i(Tt.success,kt.fetch,yt.false),t.items})).catch((e=>{var t,{productCode:n,tourGradeCode:o}=JSON.parse(m);if((null==e?void 0:e.message)===ic)l({type:"DUPLICATE_ITEM_ERROR"}),t="addToCartDuplicateItem";else{var d=lc(e),c="addToCart"+(null!=e&&e.message?`_${e.message}`:"");r(d,c),i(Tt.error,kt.fetch,yt.false),console.error("[Fusion][Availability]",e.message),t="addToCartError"}return a({clientParameter:t,trackingTitle:e.message,trackingKey:JSON.stringify({apc:n,atg:o})}),Promise.reject()})).finally((()=>l({type:"ADD_TO_CART_SUCCESS"}))):(console.error("[Fusion][Availability] there was no valid addToShoppingCartUrl, addToCartPayload"),a({clientContext:"error_noValidAddToShoppingCartUrl"}),Promise.reject(new Error("Missing add to cart data")))}),[e,n,i]),d=l(((n,a,l,r,o="modal")=>{var d,c;l({type:"START_BOOKING"}),a({clientContext:"bookTour",clientParameter:o});var s=null==n||null==(d=n.tourGrade)?void 0:d.webviewCheckout,u="WebPresentation_AvailableTimedEntryOption"===(null==n||null==(c=n.timedEntry)?void 0:c.__typename)?n.timedEntry.webviewCheckout:s,{addToCartUrl:m,addToCartPayload:p,checkoutUrl:v}=u||{},h=null!=v&&((e,t)=>{var[n,i]=e.split("?"),a=new URLSearchParams(i);return null!==t&&a.set("oik",t),`${n}?${a.toString()}`})(v,t);null!=m&&p&&h?ac(m,p).then((()=>{((e,t)=>{try{var{productCode:n,tourGradeCode:i}=JSON.parse(t);n&&i&&It.setCheckoutPopupInfo(e,n,i,!1)}catch(e){console.error("[Fusion][Availability] Failed to parse checkout payload for abandoned checkout popup")}})(e,p),i(Tt.success,kt.fetch,yt.true),window.location.href=h})).catch((e=>{var t=lc(e),n="bookTourGrade"+(null!=e&&e.message?`_${e.message}`:"");r(t,n),i(Tt.error,kt.fetch,yt.true),console.error("[Fusion][Availability]",e.message);var{productCode:l,tourGradeCode:o}=JSON.parse(p);a({clientParameter:"addToCartlessError",trackingTitle:e.message,trackingKey:JSON.stringify({apc:l,atg:o})})})):(console.error("[Fusion][Availability] there was no valid addToCartUrl, addToCartPayload"),a({clientContext:"error_noValidAddToCartUrl"}))}),[t,e,i]);return a((()=>({addTourGradeToCart:r,bookTourGrade:d})),[r,d])}var oc=({detailedPriceData:e,variant:t,showStrikeThrough:n=!0})=>{var{ageBand:i,price:a,numTravelers:l,strikeThroughPrice:r,perGroupPricing:o,groupSize:d,isTieredPricing:c}=e,s=re();return((e,t,n,i,a,l,r,o)=>{if(!(n&&e||a))return null;var d=((e,t,n,i,a,l)=>{var r="ADULT"===n&&i;i&&"ADULT"!==n&&!a&&console.error("[Fusion][Availability] non-ADULT strikethrough");var o=j(we,{color:r?"strikethroughText":"primaryText",display:"inline",variant:l,children:t});return{0:e,1:r?r&&j(Me,{price:i,variant:l,textColor:"primaryText"}):o,2:r?o:void 0,price:a?o:void 0}})(e,t,n,i,a,o);if(a){if(l){var c={groupSize:l,price:d.price};return j(le,{id:"phoenix_poi_attractions_per_group_up_to_price_txt",args:c})}return j(le,{id:"phoenix_poi_attractions_per_group_price_txt",args:d})}switch(n){case"ADULT":return j(le,r?{id:"attraction_booking_adultPricesMayVary_count_price",args:d}:{id:"attraction_booking_adult_count_price_with_strikethrough",args:d});case"CHILD":return j(le,{id:"attraction_booking_age_band_count_price_2_pl",args:d});case"INFANT":return j(le,{id:"attraction_booking_age_band_count_price_3_pl",args:d});case"YOUTH":return j(le,{id:"attraction_booking_age_band_count_price_4_pl",args:d});case"SENIOR":return j(le,{id:"attraction_booking_age_band_count_price_5_pl",args:d});default:return null}})(l,s.formatCurrency(a),i,n&&r?s.formatCurrency(r):null,o,d,c,t)},dc=({model:e,onUpdateTokenChange:t})=>{var{accessibilityString:n,selected:i,title:a,trackingKey:l,trackingTitle:r,updateLink:o}=e,{trackClick:d}=k(),{localize:c}=oe();return a?j(xt,{"aria-label":(null==n?void 0:n.text)||c.string("attractions.select.date"),selected:i||!1,onClick:()=>{d({trackingTitle:r,trackingKey:l}),t((e=>{if(e){var{updateToken:t=null}=Fe(e);return null==t&&console.error("[Fusion] FilterChipCard updateLink does not contain updateToken"),t}return null})(o))},children:j($e,{model:a})}):null},cc=({model:e,update:t})=>"WebPresentation_FilterChipCard"===e.__typename?j(La,{model:e,onUpdateTokenChange:t}):j(P,{typename:e.__typename}),sc=({model:e,update:t})=>{var{content:n,title:i}=e,a="MOBILE"===Ee(),l=i?j($e,{model:i}):null,r=a?"spacing-03":"spacing-04",o=n&&n.map(((e,n)=>"WebPresentation_FilterChipCard"===(null==e?void 0:e.__typename)&&j("div",{className:"Mj Nj MA NC",children:j(Ma,{model:e,update:t})},n))).filter(Boolean);return i&&o&&o.length>0?Y(Q,{children:[j(we,{variant:"title-04",marginTop:r,marginBottom:"spacing-02",children:l}),j("div",{className:"BZOXM f u G",children:o})]}):null},uc=e=>{var t;return"WebPresentation_AttractionProductDatePickerConfiguration"===(null==e||null==(t=e.configuration)?void 0:t.__typename)?e.configuration:null},mc=()=>o(Ga),pc=e=>{var t;return!(null!=(t=e.startTimes)&&t.length||!e.available)},vc=e=>{var t;return!(null==(t=e.startTimes)||!t.some((e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType))))},hc=e=>{var t;return null==(t=e.startTimes)?void 0:t.find((e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType)))},gc=e=>e.filter(Boolean).filter((e=>null!=e.startTime)).map((e=>{var t=e.startTime||"",n="UnavailableTimedEntryOption"===e.entryType;return{chipContent:j("div",{className:Lt({YYwTO:n}),children:t}),disabled:n,keyValue:t}})),_c=({model:e,variant:t,currentTourGrade:n})=>{var i,r,{trackClick:o}=k(),{selectedTourGrade:d,onSelectTourGrade:c}=mc(),u=(null==d?void 0:d.tourGrade)===n?null==d||null==(i=d.timedEntry)?void 0:i.startTime:null;switch(t){case"expanded":r=12;break;case"expandedNarrow":r=10;break;default:r=e.length>6?5:6}var m=a((()=>gc(((e,t)=>{if(e.length>t){var n=0,i=e.slice(n,t);if(!(e=>e.some((e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType))))(i))for(n=t;n<e.length;n++){var a=e[n];if("AvailableTimedEntryOption"===(null==a?void 0:a.entryType)){i=e.slice(n-t+1,n+1);break}}return i}return e})(e,r))),[r,e]),p=Math.max(e.length-r,0),v=a((()=>p>0?gc(e):[]),[p,e]),h=a((()=>(e=>{var t=new Map;return e.filter(Boolean).filter((e=>null!=e.startTime)).forEach((e=>{var n=e.startTime||"";t.set(n,e)})),t})(e)),[e]),g=l(((e,t,i)=>{var a;i.stopPropagation(),c({tourGrade:n,timedEntry:h.get(e)}),o({clientContext:"selectTour",clientParameter:`${(null==(a=n.title)?void 0:a.text)||""} ${e}`})}),[n,h,c,o]),_=m.map((e=>j(xt,{selected:e.keyValue===u,disabled:e.disabled,onClick:e.keyValue===u?void 0:t=>g(e.keyValue,e.keyValue===u,t),widthVariant:"full",children:e.chipContent},e.keyValue))),b=v.map((e=>j(xt,{selected:e.keyValue===u,disabled:e.disabled,onClick:t=>{g(e.keyValue,e.keyValue===u,t)},widthVariant:"full",children:e.chipContent},e.keyValue))),[f,C]=s(!1),T=e=>{var t;e.stopPropagation(),o({clientContext:f?"collapseTimedEntries":"expandTimedEntries",clientParameter:`${(null==(t=n.title)?void 0:t.text)||""}`}),C((e=>!e))},y=j(Se,"compact"===t?{variant:"primary",onClick:T,children:j(le,{id:"fusion_poi_commerce_plus_more_times_plural",args:{0:p}})}:{variant:"primary",onClick:T,children:j(le,{id:"filters_show_more"})}),P=j(Se,{variant:"primary",onClick:T,children:j(le,{id:"filters_show_less"})}),A=Lt("xVjbx A",{Uqxmg:"compact"===t,xNxLi:"expanded"===t,fEEFt:"expandedNarrow"===t});return Y("div",{className:"Mk",children:[!f&&Y("div",{className:A,children:[_,p>0&&y]}),f&&Y("div",{className:A,children:[b,P]})]})},bc=({detailedPrice:e})=>{var{ageBand:t,price:n,strikeThroughPrice:i,perGroupPricing:a,groupSize:l,isTieredPricing:r}=e,o=re();if(!t)return null;var d=((e,t,n,i,a,l)=>{var r=((e,t,n,i,a)=>{var l=("ADULT"===t||i)&&n;n&&"ADULT"!==t&&!i&&console.error("[Fusion][Availability] non-ADULT strikethrough");var r=j(we,{variant:"title-05",color:l?"strikethroughText":"primaryText",children:e});return{price:Y("div",{className:"KNKeP f J",children:[l&&j(Me,{price:n,variant:"title-05",textColor:"primaryText",marginX:"spacing-01"}),r]}),groupSize:a}})(e,t,n,i,a);if(i)return j(le,a?{id:"fusion_attractions_price_per_group_up_to_with_strikethrough",args:r}:{id:"fusion_attractions_price_per_group_with_strikethrough",args:r});switch(t){case"ADULT":return j(le,l?{id:"fusion_attractions_price_per_adult_price_varies_with_strikethrough",args:r}:{id:"fusion_attractions_price_per_adult_with_strikethrough",args:r});case"CHILD":return j(le,{id:"fusion_attractions_price_per_child",args:r});case"INFANT":return j(le,{id:"fusion_attractions_price_per_infant",args:r});case"SENIOR":return j(le,{id:"fusion_attractions_price_per_senior",args:r});case"YOUTH":return j(le,{id:"fusion_attractions_price_per_youth",args:r});default:return null}})(o.formatCurrency(n),t,i?o.formatCurrency(i):null,a,l,r);return j("div",{className:"dEsBY f e J Wi",children:d})},fc="JrgeC _S G_",Cc=(e,t)=>{var n,i;return null!=t?`${(null==(n=e.title)?void 0:n.text)||""} ${t.startTime||""}`:null==(i=e.title)?void 0:i.text},Tc=({model:e,timesVariant:t})=>{var n,i,r,{trackClick:o}=k(),{selectedTourGrade:d,onSelectTourGrade:c}=mc(),{startTimes:s}=e,u=a((()=>hc(e)),[e]),m=a((()=>null!=s&&s.length>0&&j(Ua,{model:s,currentTourGrade:e,variant:t})),[s,e,t]),p=(null==(n=e.rnplEligibility)?void 0:n.isEligible)||u&&"rnplEligibility"in u&&(null==(i=u.rnplEligibility)?void 0:i.isEligible)||!1,v=a((()=>pc(e)||vc(e)),[e]),h=(null==d?void 0:d.tourGrade)===e,g=l((()=>{v&&(h&&null!=d&&d.timedEntry||(c({tourGrade:e,timedEntry:u}),o({clientContext:"selectTour",clientParameter:Cc(e,u)})))}),[e,u,h,v,d,c,o]),_=u&&"detailedPriceItems"in u?u.displayPrice:null,b=null!=(r=e.displayPrice)?r:_;return j("div",{onClick:g,className:Lt("bnmSS z",{eWGjp:v}),children:j("div",{className:"LsdeA k",children:Y("div",{className:"w",children:[p&&j(Ft,{variant:"secondary",marginBottom:"spacing-02",children:j(le,{id:"attractions_rnpl_eligible"})}),Y("div",{className:"isnnV MJ",children:[e.title&&j(we,{variant:"title-05",children:j($e,{model:e.title})}),b&&j(we,{variant:"supporting-02",children:j(Va,{detailedPrice:b})})]}),v&&null!=e.description&&e.description&&j(Gt,{cta:j("button",{className:Lt(fc,"BYEDu"),children:j(we,{variant:"supporting-01",elementType:"span",children:j(le,{id:"common_Read_more"})})}),collapsible:!0,ctaCollapse:j("button",{className:fc,children:j(we,{variant:"supporting-01",elementType:"span",children:j(le,{id:"common_Readless"})})}),collapsed:!0,numLinesToShow:2,contentClickCanCollapseContent:!1,children:j(we,{variant:"supporting-01",children:j("span",{dangerouslySetInnerHTML:{__html:e.description}})})}),!m&&j("div",{className:"Mk",children:j(xt,{selected:h,disabled:!v,onClick:g,children:j(le,{id:"experiences_select_tour"})})}),m&&j("div",{className:"Mk",children:m})]})})})},kc=({model:e,condensedTours:t=!1,timesVariant:n,onShowAllTours:i,showSummary:a=!0})=>{var l,r,{selectedTourGrade:o,onSelectTourGrade:c}=mc(),{trackClick:s}=k();u((()=>{var t;if(null==o||!o.tourGrade||null==(t=e.tourGrades)||!t.includes(o.tourGrade)){var n=(e=>{var t;return null==(t=e.tourGrades)?void 0:t[0]})(e);if(null!=n&&(pc(n)||vc(n))){var i,a,l=hc(n);c({tourGrade:n,timedEntry:l});var r=null!=l?`${(null==(i=n.title)?void 0:i.text)||""} ${l.startTime||""}`:null==(a=n.title)?void 0:a.text;s({clientContext:"autoSelectTour",clientParameter:r})}else null!=o&&o.tourGrade&&c(null)}}),[e,o,c,s]),d((()=>{var t;0===(null==(t=e.tourGrades)?void 0:t.length)&&s({clientContext:"noAvailableTourGrades"})}),[e,s]);var m=null!=(l=null==(r=e.tourGrades)?void 0:r.filter(Boolean))?l:[],p=m.length,v=t?m.slice(0,2):m;t&&null!=o&&o.tourGrade&&!v.includes(o.tourGrade)&&(v[v.length-1]=o.tourGrade);var h=t&&v.length<p,g=h&&j(le,{id:"fusion_poi_commerce_see_all_tours_plural",args:{0:p}});return v.length?Y(Q,{children:[v.map(((e,t)=>j(za,{model:e,timesVariant:n},t))),h&&i&&j(Se,{marginTop:"spacing-04",onClick:i,children:g})]}):a&&e.summary?Y(Q,{children:[j(we,{variant:"body-01",color:"secondaryText",marginY:"spacing-04",children:j($e,{model:e.summary})}),j(Ot,{})]}):null},yc=()=>{var{fullFAQLink:e}=Ge(),{trackClick:t}=k(),n=l((()=>{t({clientContext:"RNPLCopy",clientParameter:"learnMoreClick"})}),[t]),{selectedTourGrade:i}=mc(),a=null!=i&&i.tourGrade&&"rnplEligibility"in i.tourGrade?null==i?void 0:i.tourGrade.rnplEligibility:null,r=null!=i&&i.timedEntry&&"rnplEligibility"in i.timedEntry?i.timedEntry.rnplEligibility:null;return(null==r?void 0:r.isEligible)||(null==a?void 0:a.isEligible)?Y(we,{variant:"supporting-01",marginTop:"spacing-03",children:[j(le,{id:"experiences_rnpl_eligible_message"}),j(we,{variant:"button-04",elementType:"span",marginLeft:"spacing-01",children:j(ln,{href:e,theme:"inline",target:"_blank",onClick:n,children:j(le,{id:"fusion_reserve_now_pay_later_notice_cta"})})})]}):null},Pc=e=>"WebPresentation_TourGradesHeaderWeb"===(null==e?void 0:e.__typename),Ac=e=>"WebPresentation_PoiTickets"===(null==e?void 0:e.__typename),Ic=e=>"WebPresentation_TourGradesDetail"===(null==e?void 0:e.__typename),Ec=e=>"WebPresentation_ChipCardCarousel"===(null==e?void 0:e.__typename),xc=e=>"WebPresentation_DisclaimerSection"===(null==e?void 0:e.__typename),Sc=e=>{var t;return!(null!=(t=e.startTimes)&&t.length||!e.available)},Nc=e=>{var t;return!(null==(t=e.startTimes)||!t.some((e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType))))},Rc=e=>{var t;return null==(t=e.startTimes)?void 0:t.find((e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType)))},wc=({trackingKey:e,plusBundlingProps:t})=>{var[n]=s(Qt()),i=zt(),{cashbackEnabled:a}=$t(),{isOptimusSubscriber:l}=Yt(),{cashbackDisplayAmount:r}=jt(t),o=void 0!==r,[d,c]=s(!1);return a&&l&&o?Y(we,{variant:"title-05",marginRight:"spacing-01",color:"accentPurpleText",marginTop:"spacing-01",children:[j(Se,{variant:"accent",onClick:()=>{i({actionSubType:"optimusExperiencesCashbackClick",actionType:"click",impressionKey:n,itemType:"howToEarn",customData:{flow:"ExperiencesCheckout",isSubscriber:!0,trackingKey:e}}),c(!0)},children:j("div",{className:"suAYV",children:j(le,{id:"plus_tour_grade_get_paid_v2",args:{0:r||""}})})}),d&&j(qt,{variant:"steps",onClose:()=>{c(!1)},getFunnelKeyByToken:t=>t(e),cashbackDisplayAmount:r,showCloseButton:!1})]}):null},Oc="iSqkX u",Bc=(e,t)=>e.filter(Boolean).filter((e=>null!=e.startTime)).map((e=>{var t=e.startTime||"",n="UnavailableTimedEntryOption"===e.entryType;return{chipContent:j("div",{className:$({Yvque:n}),children:t}),disabled:n,keyValue:t}})).sort(((e,n)=>t&&e.disabled!==n.disabled?e.disabled?1:-1:0)),Wc=({model:e,currentTourGrade:t,variant:n,onSeeAllTimes:i,timesStartExpanded:r,listId:o})=>{var c,{trackClick:u}=k(),m=Ee(),[p,v]=ve(),h="Treatment 1"===p||"Treatment 2"===p;d(v,[v]);var{selectedTourGrade:g,onSelectTourGrade:_}=mc(),b=(null==g?void 0:g.tourGrade)===t?null==g||null==(c=g.timedEntry)?void 0:c.startTime:null,f=a((()=>"MOBILE"===m||"compact"===n?3:6),[m,n]),C=a((()=>h?Bc(e,h).slice(0,f):Bc(((e,t)=>{if(e.length>t){var n=0,i=e.slice(n,t);if(!(e=>e.some((e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType))))(i))for(n=t;n<e.length;n++){var a=e[n];if("AvailableTimedEntryOption"===(null==a?void 0:a.entryType)){i=e.slice(n-t+1,n+1);break}}return i}return e})(e,f))),[f,e,h]),T=Math.max(e.length-f,0),y=a((()=>T>0?Bc(e,h):[]),[T,e,h]),P=a((()=>(e=>{var t=new Map;return e.filter(Boolean).filter((e=>null!=e.startTime)).forEach((e=>{var n=e.startTime||"";t.set(n,e)})),t})(e)),[e]),A=l(((e,n)=>{var i,a;n.stopPropagation(),_({tourGrade:t,timedEntry:P.get(e)}),u({clientContext:"clickTimeSlot",clientParameter:`${(null==(i=t.title)?void 0:i.text)||""} ${e}`}),u({clientContext:"selectTour",clientParameter:`${(null==(a=t.title)?void 0:a.text)||""} ${e}`})}),[t,P,_,u]),[I,E]=s((()=>!!r&&T>0)),x=e=>{var n;e.stopPropagation(),u({clientContext:I?"collapseTimedEntries":"expandTimedEntries",clientParameter:`${(null==(n=t.title)?void 0:n.text)||""}`}),E((e=>!e))},S=j(le,{id:"attractions.see.more.times"});"Treatment 2"===p&&T>0&&(S=j(le,1===T?{id:"attractions_see_1_more_time"}:{id:"attractions_see_n_more_times",args:{numTimes:T}}));var N=j(we,{variant:"body-01",marginTop:"spacing-03",marginBottom:"spacing-02",dataAttributes:{"data-automation":`see_more_times${o+1}`},children:j(Se,{variant:"primary",onClick:e=>{var n;i?(u({clientContext:"expandTimedEntries",clientParameter:`${(null==(n=t.title)?void 0:n.text)||""}`}),i()):x(e)},children:Y("div",{className:Oc,children:[S,!i&&j(Zt,{})]})})}),R=j(we,{variant:"body-01",marginTop:"spacing-03",marginBottom:"spacing-02",children:j(Se,{variant:"primary",onClick:x,children:Y("div",{className:Oc,children:[j(le,{id:"attractions.see.fewer.time"})," ",j(Xt,{})]})})}),w=e=>j(xt,{selected:e.keyValue===b,disabled:e.disabled,onClick:e.keyValue===b?void 0:t=>A(e.keyValue,t),widthVariant:"full",children:e.chipContent},e.keyValue),O=C.map(w),B=y.map(w),W=$("RoebY","compact"===n&&"AqyFs");return Y("div",{className:"Mk",children:[!I&&Y(Q,{children:[j("div",{className:W,children:O}),T>0&&N]}),I&&Y(Q,{children:[j("div",{className:W,children:B}),R]})]})},Lc=({tourGrade:e,timedEntry:t})=>{var n=re(),{totalPrice:i,totalStrikethroughPrice:a}=qd({tourGrade:e,timedEntry:t});if(null==i)return null;var l=n.formatCurrency(i),r=null!=a&&a>0?n.formatCurrency(a):null,o=j(we,{variant:"title-05",color:r?"strikethroughText":"primaryText",display:"inline",dataAttributes:{"data-automation":r?"commerce_modal_visible_price_discounted":"commerce_modal_visible_price"},children:l});return j(le,{id:"attractions.booking.section.total_currency_strikethrough",args:{0:r&&j(Me,{price:r,variant:"title-05",textColor:"primaryText",dataAttributes:{"data-automation":"commerce_modal_strikethrough_price"}}),1:o}})},Mc="Hbnyp",Dc="yQEaD Gs u MI",Gc=(e,t)=>{var n,i;return null!=t?`${(null==(n=e.title)?void 0:n.text)||""} ${t.startTime||""}`:null==(i=e.title)?void 0:i.text},Fc=({model:e,timesVariant:t="expanded",onSeeAllTimes:n,timesStartExpanded:i,listId:r})=>{var d,c,s,u,{trackClick:m}=k(),{funnelKey:p}=o(Pt),{selectedTourGrade:v,onSelectTourGrade:h}=mc(),{startTimes:g}=e,_=a((()=>Rc(e)),[e]),b=Ht(),f=zt(),C=_&&"detailedPriceItems"in _?_.detailedPriceItems:null,T=_&&"totalPrice"in _?_.totalPrice:null,y=_&&"disclaimerText"in _?_.disclaimerText:null,P=null!=(d=e.detailedPriceItems)&&d.length?e.detailedPriceItems:C,A=e.totalPrice||T,I=e.disclaimerText||y,E=(null==(c=e.rnplEligibility)?void 0:c.isEligible)||_&&"rnplEligibility"in _&&(null==(s=_.rnplEligibility)?void 0:s.isEligible)||!1,x=a((()=>Sc(e)||Nc(e)),[e]),S=(null==v?void 0:v.tourGrade)===e,{plusBundlingProps:N}=e,{isEligibleForBundling:R}=Vt(N),w=l((()=>{R&&b({impressionKey:p,itemName:"TourGrade",itemType:"optimusExperiencesCashbackTag",customData:{flow:"ExperiencesCheckout",gbv:A,tourGrade:e}})}),[b,p,R,e,A]),O=Ut(w),B=l((()=>{x&&(S&&null!=v&&v.timedEntry||(h({tourGrade:e,timedEntry:_}),m({clientContext:"tourGradeCellClicked",clientParameter:Gc(e,_)}),m({clientContext:"selectTour",clientParameter:Gc(e,_)}),R&&f({itemType:"OptimusCashbackTourGradeSelection",actionSubType:"optimusExperiencesCashback",actionType:"click",impressionKey:p,customData:{flow:"ExperiencesCheckout",gbv:A,tourGrade:e}})))}),[e,_,S,x,v,h,m,f,p,A,R]),W=a((()=>null!=g&&g.length>0&&j(ja,{model:g,currentTourGrade:e,variant:t,onSeeAllTimes:n,timesStartExpanded:i,listId:r})),[g,e,t,n,i,r]);return Y("div",{onClick:B,className:Lt("ORwKL B2 Z BC z",{nZpcR:S,hFhea:x,[Mc]:R}),ref:O,children:[R&&j(we,{variant:"supporting-01",color:"invertText",children:j("div",{className:Lt(Dc,"FKxJc"),children:j(le,{id:"exp_bundle_info_card_free_membership_included"})})}),Y("div",{className:"eBrZK k",children:[Y("div",{className:Lt("WKmDZ",{[Mc]:R}),children:[Y("div",{className:"zvvPz k",children:[e.title&&j(we,{variant:"title-04",marginBottom:"spacing-02",children:j($e,{model:e.title})}),R&&j(we,{variant:"supporting-01",color:"invertText",children:j("div",{className:Lt(Dc,"BVuOu"),children:j(le,{id:"exp_bundle_info_card_free_membership_included"})})})]}),E&&j(Ft,{variant:"secondary",marginBottom:"spacing-02",children:j(le,{id:"attractions_rnpl_eligible"})}),x&&null!=e.description&&e.description&&j(Gt,{cta:e=>j(Se,{variant:"primary-small",onClick:()=>{e(),m({clientContext:"tourGrade_readMore"})},children:j("div",{className:"rFpnd",children:j(le,{id:"common_Read_more"})})}),collapsible:!0,ctaCollapse:j(Se,{variant:"primary-small",children:j(le,{id:"common_Readless"})}),collapsed:!0,numLinesToShow:2,contentClickCanCollapseContent:!1,children:j(we,{variant:"supporting-01",color:"primaryText",children:j("span",{dangerouslySetInnerHTML:{__html:e.description}})})}),P&&j(we,{variant:"supporting-01",marginTop:"spacing-03",children:P.filter(Boolean).sort(((e,t)=>{var n,i;return Kd(null!=(n=e.ageBand)?n:"ADULT",null!=(i=t.ageBand)?i:"ADULT")})).map(((e,t)=>j("div",{children:j(Wa,{detailedPriceData:e,variant:"supporting-01",showStrikeThrough:!1})},t)))}),j(we,{variant:"title-05",marginY:"spacing-01",children:j(Ya,{tourGrade:e,timedEntry:_})}),I&&j(we,{variant:"supporting-02",children:j($e,{model:I})}),null!==N&&j(qa,{trackingKey:p,plusBundlingProps:N}),Y("div",{className:"OPQUQ",children:[" ",W," "]})]}),x&&j("div",{className:"wmkpp",children:j(Bt,{onSelect:B,selected:S,value:e.trackingTitle+(null!=(u=Gc(e,_))?u:"")})})]}),j("div",{className:Lt("GevCP",{[Mc]:R}),children:W})]})},Uc=({model:e,condensedTours:t,onShowAllTours:n,timesVariant:i,onSeeAllTimes:a,autoExpandTourGradeIndex:l,showSummary:r=!0})=>{var o,c,{onSelectTourGrade:s,selectedTourGrade:m}=mc(),{trackClick:p}=k(),{incrementNoAvailability:v}=jd();u((()=>{var t;if(null==m||!m.tourGrade||null==(t=e.tourGrades)||!t.includes(m.tourGrade)){var n=(e=>{var t;return null==(t=e.tourGrades)?void 0:t[0]})(e);if(null!=n&&(Sc(n)||Nc(n))){var i,a,l=Rc(n);s({tourGrade:n,timedEntry:l});var r=null!=l?`${(null==(i=n.title)?void 0:i.text)||""} ${l.startTime||""}`:null==(a=n.title)?void 0:a.text;p({clientContext:"autoSelectTour",clientParameter:r})}else null!=m&&m.tourGrade&&s(null)}}),[e,m,s,p]),d((()=>{var t;0===(null==(t=e.tourGrades)?void 0:t.length)&&(p({clientContext:"noAvailableTourGrades"}),v())}),[e,p,v]);var h=null!=(o=null==(c=e.tourGrades)?void 0:c.filter(Boolean))?o:[],g=h.length,_=t?h.slice(0,2):h;t&&null!=m&&m.tourGrade&&!_.includes(m.tourGrade)&&(_[_.length-1]=m.tourGrade);var b=t&&_.length<g;return e.summary||_.length?Y("div",{className:Mt({marginBottom:"spacing-05"}),children:[r&&e.summary&&j(we,{variant:"body-01",marginTop:"spacing-04",marginBottom:"spacing-04",children:j($e,{model:e.summary})}),e.tourGrades&&j(Wt,{name:"tour_grades",children:j("div",{className:"gNvPK A",children:_.filter(Boolean).map(((e,t)=>j(Qa,{model:e,timesVariant:i,onSeeAllTimes:a?()=>a(t):void 0,listId:t,timesStartExpanded:l===t},t)))})}),b&&n&&j(Se,{marginTop:"spacing-05",onClick:n,children:j(le,{id:"fusion_poi_commerce_see_all_tours_plural",args:{0:g}})})]}):null},Vc=({result:e,update:t,fetching:n,polling:i,duplicateItemError:a,openModal:l,variant:r="expanded",onSeeAllTimes:o})=>{var c,s,u,m,p,{localize:v}=oe(),{setTicketInfo:h}=mc(),[g]=he(),_="test_value_prop_inline_below"===g,b=null==e||null==(c=e.sections)?void 0:c.find(Pc),f=null==e||null==(s=e.sections)?void 0:s.find(Ic),C=null==e||null==(u=e.sections)?void 0:u.find(Ec),T=null==e||null==(m=e.sections)?void 0:m.find(xc),{datePicker:k,productName:y,productDescription:P,labels:A,noCommerceMessage:I}=b||{},E=uc(k);d((()=>{var e;E&&((null==(e=E.passengerInfo)?void 0:e.ageBands)||[]).length>0&&null!=y&&null!=P&&null!=A&&h(E,{name:y,description:P,labels:A})}),[E,y,P,A,h]);var x=!(null!=I&&I.text);return null!=I&&I.text&&I.text===(null==f||null==(p=f.summary)?void 0:p.text)&&console.error("[Fusion] noCommerceMessage exists in both TourGradesHeader and TourGradesDetail"),Y(Q,{children:[(n||i)&&j("div",{className:"gInAK f u j",children:j(Et,{variant:"large","aria-label":v.string("fusion_attraction_commerce_loading")})}),!(n||i)&&Y(Q,{children:[_&&j(Ot,{marginTop:"spacing-04"}),a&&j(we,{variant:"supporting-02",color:"dangerText",marginY:"spacing-04",children:v("already_added_to_cart")}),I&&j(we,{variant:"supporting-01",color:"dangerText",marginTop:"spacing-04",children:j($e,{model:I})}),C&&Y(Q,{children:[j("div",{className:"YWWCl",children:j(Da,{model:C,update:t})}),j(Ot,{})]}),f&&!_&&j($a,{model:f,onShowAllTours:l,timesVariant:r,condensedTours:"compact"===r,onSeeAllTimes:o,showSummary:x}),f&&_&&j(Ha,{model:f,onShowAllTours:l,timesVariant:r,condensedTours:"compact"===r,showSummary:x}),T&&j("div",{className:"LuCGf",children:j(vt,{model:T})}),j(Ka,{})]})]})},zc=({tourGradeInfo:e,...t})=>{var n,i,{timedEntry:a,tourGrade:l}=e||{},[r]=Dt(t),o=a&&"detailedPriceItems"in a&&null!=(n=a.detailedPriceItems)&&n.length?a.detailedPriceItems:null,d=null!=l&&l.detailedPriceItems&&null!=(i=l.detailedPriceItems)&&i.length?l.detailedPriceItems:o,c=a&&"totalPrice"in a?a.totalPrice:null,s=(null==l?void 0:l.totalPrice)||c;return null!=d&&d.length&&s?j(we,{variant:"title-04",...r,children:Y("div",{className:"Xpmfk A",children:[j("div",{className:"lNsdQ A",children:null==d?void 0:d.filter(Boolean).map(((e,t)=>j(Wa,{detailedPriceData:e,variant:"title-04"},t)))}),j("div",{className:"qqqab Wi",children:j($e,{model:s})})]})}):null},Hc=({shelfSlotName:e,isMobile:t})=>{var{params:n}=gn(),i="detailId"in n?n.detailId:0,a="geoId"in n?n.geoId:0,l=a?`/Attractions-g${a}`:"/Attractions";return i?Y(Q,{children:[j(we,{variant:"title-04",marginTop:"spacing-04",children:j(le,{id:"attractions_similar_exp_shelf_title"})}),j(hn,{shelfTypes:["SimilarExperiencesV2"],maxItems:4,detailId:i,geoId:a,shelfSlotName:e,scrollContainer:t?"design-system":"multi-column-container",cardType:t?"Vertical":"Horizontal",marginTop:"spacing-03",hideTitle:!0,showLoading:!0}),j(xe,{variant:"secondary",href:l,target:"_blank",marginTop:"spacing-04",children:j(le,{id:"airm_see_all"})})]}):null},Kc=({ticket:e,addDivider:t})=>{var{onSelectTicket:n}=mc(),{trackClick:i}=k(),a=Ue({internalLink:e.productDetailsLink}),l=null!=e.labels&&e.labels.length>0&&j(ht,{model:e.labels});return Y("div",{children:[null!=l&&j("div",{className:"vubpL",children:l}),j(I,{href:a.url,children:j(we,{variant:"title-04",marginBottom:"spacing-01",children:e.name})}),null!=e.reviewCount&&e.reviewCount>0&&null!=e.reviewRating&&j(St,{numReviews:e.reviewCount,rating:e.reviewRating,size:"small",marginBottom:"spacing-02"}),null!=e.description&&j(wt,{variant:"minimal",children:j(I,{href:a.url,children:j("span",{dangerouslySetInnerHTML:{__html:e.description}})})}),Y("div",{className:"f k u Ml",children:[e.price&&j(I,{href:a.url,children:j(we,{variant:"title-05",children:j($e,{model:e.price})})}),j(xe,{variant:"commerce",size:"medium",onClick:()=>{n(e),i({clientContext:"selectTicket",clientParameter:e.name})},dataAttributes:{"data-automation":"poi-ticket-commerce"},children:j(le,{id:"exp_check_availability"})})]}),t&&j(Ot,{marginY:"spacing-04"})]})},qc=({model:e})=>{var{onSelectTicket:t}=mc(),{trackClick:n}=k();return d((()=>{var i,a,l;1===(null==(i=e.tickets)?void 0:i.length)&&e.tickets[0]&&(t(e.tickets[0],!0),n({clientContext:"selectTicket",clientParameter:null==(a=e.tickets)||null==(l=a[0])?void 0:l.name}))}),[t,e.tickets,n]),j("div",{children:e.tickets&&e.tickets.length>1&&e.tickets.filter(Boolean).map(((e,t,n)=>j(Kc,{ticket:e,addDivider:t<n.length-1},t)))})},jc=({section:e,update:t,autoExpandTourGradeIndex:n})=>{switch(e.__typename){case"WebPresentation_PoiTickets":return j(el,{model:e});case"WebPresentation_TourGradesDetail":return j($a,{model:e,autoExpandTourGradeIndex:n});case"WebPresentation_ChipCardCarousel":return j(Da,{model:e,update:t});case"WebPresentation_DisclaimerSection":case"WebPresentation_TourGradesHeaderWeb":return null;default:return j(P,{typename:e})}},Yc=({model:e,update:t,autoExpandTourGradeIndex:n})=>{var{sections:i}=e;return i&&j(Q,{children:i.map(((e,i)=>e&&j(jc,{section:e,update:t,autoExpandTourGradeIndex:n},i)))})},Qc=({result:e,fetching:t,polling:n,update:i,duplicateItemError:a,autoExpandTourGradeIndex:l})=>{var{localize:r}=oe();return Y("div",{children:[(t||n)&&j("div",{className:"f u j Mm",children:j(Et,{variant:"large","aria-label":r.string("fusion_attraction_commerce_loading")})}),!(t||n)&&e&&Y(Q,{children:[a&&j(we,{variant:"supporting-02",color:"dangerText",marginTop:"spacing-03",children:r("already_added_to_cart")}),j(tl,{model:e,update:i,autoExpandTourGradeIndex:l})]})]})},$c=({trackingKey:e,subscribed:t})=>{var{funnelKey:n}=o(Pt),{isOptimusSubscriber:i}=Yt();return j(Kt,{itemName:"OptimusBundlingTourGradeBanner",itemType:"optimusBanner",impressionKey:n,customData:{flow:"ExperiencesCheckout",isSubscriber:i,trackingKey:e},children:Y("div",{className:"NAPqh Pj PX Pw PJ ML Gs u",children:[j("span",{className:"tELTG Nk",children:j(dn,{variant:"plus-logo-short-white",height:24})}),j(we,{elementType:"span",variant:"body-01",color:"onDarkText",children:j(de,t?{id:"plus_tour_grade_banner_title_subscribed"}:{id:"plus_tour_grade_banner_title"})})]})})},Jc=({trackingKey:e})=>{var t=Jt(),{isOptimusSubscriber:n}=Yt(),i=cn();return n&&i||t?j($c,{trackingKey:e,subscribed:n||!1}):null},Zc=({result:e,renderPickerFlow:t,trackingKey:n})=>{var i,a=null==e||null==(i=e.sections)?void 0:i.find(Pc);return a?j(Xc,{model:a,renderPickerFlow:t,trackingKey:n}):null},Xc=({model:e,renderPickerFlow:t,trackingKey:n})=>{var{setTicketInfo:i}=mc(),{datePicker:l,freeCancellationMessage:r,productName:o,productDescription:c,tags:s,labels:u,noCommerceMessage:m}=e;d((()=>{var e,t=uc(l);t&&((null==(e=t.passengerInfo)?void 0:e.ageBands)||[]).length>0&&null!=o&&null!=c&&null!=u?i(t,{name:o,description:c,labels:u}):console.error("[Fusion] TourGradesHeaderWeb missing key data, AttractionCommerceModal will be missing header.")}),[l,o,c,u,i]);var p=a((()=>null!==r?j(Qe,{model:r}):null!==s?j(on,{model:s}):null),[r,s]);return Y(Q,{children:[null!=p&&j("div",{className:Mt({marginTop:"spacing-03",marginBottom:"spacing-03"}),children:p}),j(il,{trackingKey:n}),t(),m&&j(we,{variant:"supporting-01",color:"dangerText",marginTop:"spacing-03",children:j($e,{model:m})})]})},es=()=>Y("div",{className:"xfizj",children:[Y("div",{children:[j(we,{variant:"title-02",children:j(le,{id:"attractions_page_unavailable"})}),j(we,{variant:"body-01",marginTop:"spacing-03",marginBottom:"spacing-04",children:j(le,{id:"attractions_page_will_be_back"})}),j(xe,{onClick:()=>window.location.reload(),size:"large",children:j(le,{id:"bookings_page_retry"})})]}),j("div",{className:"Eehxy j",children:j(pn,{src:"/img2/experiences/red-suitcase.svg",width:248})})]}),ts=()=>{var e="MOBILE"===Ee();return Y("div",{children:[j(we,{variant:"title-02",children:j(le,{id:"fusion_generic_error_title"})}),j(we,{variant:"body-01",marginTop:"spacing-03",marginBottom:"spacing-04",children:j(le,{id:"attractions_product_unavailable"})}),j(Xa,{shelfSlotName:"SimilarProductsModal",isMobile:e})]})},ns="SBCRl f",is=({result:e})=>{if(!e)return null;var{sections:t}=e;return t?j(Q,{children:t.map(((e,t)=>e&&"WebPresentation_DisclaimerSection"===e.__typename?j("div",{className:"ylJXV",children:j(vt,{model:e})},t):null))}):null},as=({datePickerConfig:e,children:t,clearTourGrade:n,priceDescription:i,applyButtonText:r=j(le,{id:"phoenix_product_attractions_check_availability_btn"}),recordApplyCtaCopyImpression:o,optimizeCalendarBucket:d})=>{var c,{singleDate:s,setSingleDate:u,isDefaultDates:m}=dt(),{pax:p,setPax:v,defaultPax:h}=ct(null==e||null==(c=e.passengerInfo)?void 0:c.ageBands),g=Ee(),_=l((e=>{var t;o(),"MOBILE"!==g&&(null==(t=e.ref.current)||t.scrollIntoView())}),[g,o]),b=l(((e,t,i=!0)=>{n(),u(e,t,i)}),[n,u]),f=l(((e,t)=>{n(),v(e,t)}),[n,v]),C=l((()=>f(h,!0)),[h,f]),T=a((()=>null!=e&&e.priceCalendar&&e.priceCalendar.length>0?new Set(e.priceCalendar.map((e=>null==e?void 0:e.date)).filter(Boolean)):void 0),[null==e?void 0:e.priceCalendar]),k=a((()=>{var t=new Map;return null!=e&&e.priceCalendar&&e.priceCalendar.forEach((e=>{var n;null!=(null==e?void 0:e.date)&&null!=(null==(n=e.price)?void 0:n.text)&&t.set(e.date,e.price.text)})),t}),[null==e?void 0:e.priceCalendar]),y=st({date:s,setDate:b,availableDates:T,showFooterDescription:!0,isDefaultDates:m,priceMap:k,optimizeCalendarBucket:d,numberOfMonths:"Treatment 1"===d?1:2}),P=ut({passengerInfo:null==e?void 0:e.passengerInfo,defaultPax:h,currentPax:p,setPax:f,showApplyButton:!1,isPaxOptimization:!!d&&"control"!==d,onReset:C}),A=a((()=>[y,P]),[y,P]),I=l((({onClick:e,disabled:t})=>j(xe,{disabled:t,size:"small",variant:"commerce",onClick:e,children:r})),[r]);return j(ot,{autoAdvance:!1,pickers:A,onOpen:_,inline:!0,renderApplyButton:I,pickerFooter:i,refocusOnReset:!1,isOptimizedPicker:!!d&&"control"!==d,children:t})},ls=({onClose:e,initialStep:t="TICKETS",tourContentInfo:n,ticketContentInfo:i,trackingKey:r="",onAddToCart:o,autoExpandTourGradeIndex:c})=>{var{localize:s}=oe(),[u,m]=wa({initialStep:t}),p=Ee(),{trackClick:v}=k(),{incrementQueryFailure:h}=jd(),{step:g,ticketLink:_,singleTicket:b,ticketInfo:f,selectedTourGrade:C,datePickerConfig:T,isBooking:y,isAddingToCart:P,isDuplicateItemError:A}=u,I=gt("IB_CLICK"),[E,x]=ge(),S=_t(),[N,R]=_e(),[w,O]=be();d((()=>{I(),S({event:"IB_CLICK"})}),[I,S]),d(O,[O]);var B,W,L,M="TICKETS"===t&&!b,D="MOBILE"===p,G=l(((e,t=!1)=>{m({type:"SELECT_TICKET",ticket:e,singleTicket:t})}),[m]),F=l(((e,t)=>{m({type:"SET_TICKET_INFO",datePickerConfig:e,ticketInfo:t})}),[m]),U=l((e=>{m({type:"SELECT_TOUR",tour:e})}),[m]),V=l((()=>U(null)),[U]),z=l(((e,t)=>{m({type:"ERROR",isRecoverable:e,showGenericError:!E}),v({clientContext:"errorScreen",clientParameter:`${e?"":"un"}recoverable_inline_${t}`}),h(),x()}),[m,v,h,E,x]),{addTourGradeToCart:H,bookTourGrade:K}=rc(),q=()=>{H(C,v,m,z).then((t=>{null==o||o(t),null==e||e()})).catch((()=>{}))},J=()=>{K(C,v,m,z)},Z=null!=T&&T.priceDescription?j($e,{model:T.priceDescription}):null;if("TICKETS"===g)({contentId:B,contentType:W,state:L}={contentId:null==i?void 0:i.contentId,contentType:null==i?void 0:i.contentType,state:null==i?void 0:i.contentState});else if("TOURGRADES"===g){var X,ee;B=null==n?void 0:n.contentId,W=null==n?void 0:n.contentType,L=null==n?void 0:n.contentState,"Routing_AttractionCommerceParameters"===(null==_||null==(X=_.webRoute)||null==(ee=X.typedParams)?void 0:ee.__typename)&&(B=B||_.webRoute.typedParams.contentId,W=W||_.webRoute.typedParams.contentType,L=L||_.webRoute.typedParams.state)}var[{data:te,fetching:ne,polling:ie,error:ae},re]=Ra({contentId:B,contentType:W,state:L});d((()=>{ae&&(console.error("[Fusion][Availability] attraction commerce query resulted in an error",ae.message),z(!0,"commerceQueryError"))}),[ae,z]);var de=a((()=>({onSelectTicket:G,setTicketInfo:F,selectedTourGrade:C,onSelectTourGrade:U,clearTourGrade:V})),[G,F,C,U,V]),ce=N.control?j(le,{id:"phoenix_product_attractions_check_availability_btn"}):N.treatment1&&j(le,{id:"attractions_update_search"})||N.treatment2&&j(le,{id:"phoenix_picker_apply"}),se=!!w&&"control"!==w,ue=g.endsWith("ERROR");return j(Fa.Provider,{value:de,children:j(as,{datePickerConfig:T,applyButtonText:ce,clearTourGrade:V,priceDescription:Z,recordApplyCtaCopyImpression:R,optimizeCalendarBucket:w,children:({renderPickerFlow:t,currentPicker:n,closePicker:i})=>{var a,l,o,d,u=()=>{!n&&M&&m({type:"BACK"}),i(),v({clientContext:"back"})},p=D&&"TOURGRADES"===g&&M,h=!1,_=!D&&null==n&&"TOURGRADES"===g&&M?j(Se,{onClick:u,disabled:y||P,children:j(le,{id:"phoenix_back"})}):void 0;switch("TOURGRADES"===g&&(l=(h=!D&&null!=Z&&"date"===(null==n?void 0:n.name))&&Z,D||"date"!==(null==n?void 0:n.name)&&"pax"!==(null==n?void 0:n.name)?(a=j(xe,{onClick:J,variant:"commerce",disabled:!C||y||P||A,loading:y,dataAttributes:{"data-automation":"attractions-commerce-modal-primary"},"aria-label":s.string("fusion_attraction_commerce_booking"),children:j(le,{id:"attractions_booking_reserve_now"})}),o=j(bt,{onClick:q,disabled:!C||y||P||A,loading:P,"aria-label":s.string("fusion_attraction_commerce_booking"),fullWidth:D,marginRight:"spacing-03",children:j(le,{id:"attractions_add_to_cart_cta"})})):a=j(xe,{dataAttributes:{"data-automation":"attractions-commerce-modal-primary"},onClick:()=>{v({clientContext:"checkAvailability"}),null==n||n.onApply(),i()},variant:w&&"control"!==w?"commerce":"primary",children:ce})),g){case"TICKETS":d=s.string("phoenix_poi_attractions_tickets_tab");break;case"TOURGRADES":d=null==f?void 0:f.name;break;default:d=null}var b=(null==f?void 0:f.labels)&&f.labels.length>0&&j(ht,{model:f.labels});return j(rt,{variant:"fixed-height-sticky-footer",heightOption:"restricted-full",footer:(null!=l||null!=a||null!=o)&&j("div",{className:"FPRSV",children:Y("div",{className:$("YCrWp f"),children:[_&&j("div",{className:ns,children:_}),null!=l&&Y("div",{className:ns,children:[!se&&l,se&&h&&Y("div",{className:"ALFYy f e",children:[j(we,{variant:"supporting-01",children:l}),Y(we,{variant:"supporting-01",marginTop:"spacing-01",children:[j(le,{id:"attractions_adult_shown_calendar"})," "]})]})]}),Y("div",{className:$(ns,"CYcyQ"),children:[j("div",{children:o}),j("div",{children:a})]})]})}),backButton:p?j(Ne,{onClick:u,disabled:y||P,icon:lt,size:"small","aria-label":s.string("phoenix_back")}):void 0,onClose:y||P?void 0:e,children:Y("div",{className:$("qSYVO",{"CpuBS S":y||P}),children:[null!=b&&j("div",{className:"xyGVT",children:b}),null!=d&&j(we,{variant:"title-02",marginBottom:"spacing-02",children:d}),"TOURGRADES"===g&&j(al,{result:te,trackingKey:r,renderPickerFlow:null!=T&&T.passengerInfo?t:()=>null}),!ue&&Y(Q,{children:[j("div",{className:n?"_T Xd o U":"",children:j(nl,{fetching:ne,polling:ie,result:te,update:re,duplicateItemError:A,autoExpandTourGradeIndex:c})}),!(n||ne||ie)&&Y(Q,{children:[j(is,{result:te}),j(Ka,{})]})]}),"GENERIC_ERROR"===g&&j(Oa,{}),"RECOVERABLE_ERROR"===g&&j(ll,{}),"UNRECOVERABLE_ERROR"===g&&j(rl,{})]})})}})})},rs=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,a,l;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(a=i;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;for(a of t.entries())if(!e(a[1],n.get(a[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(a=i;0!=a--;)if(t[a]!==n[a])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=i;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=i;0!=a--;){var r=l[a];if(!e(t[r],n[r]))return!1}return!0}return t!=t&&n!=n},os=({previousDatePicker:e,nextDatePicker:t,paxPicker:n,setDate:i,availableDates:r,priceMap:o,onOpen:d,onClose:c,applyButton:s,priceDescription:u,narrow:m})=>{var{singleDate:p,isDefaultDates:v}=dt(),h="TABLET"===Ee(),g=mt({offset:-1,currentDate:p,setDate:i,availableDates:r}),_=mt({offset:0,currentDate:p,setDate:i,availableDates:r}),b=mt({offset:1,currentDate:p,setDate:i,availableDates:r}),f=a((()=>({name:"separator",value:null,renderButton:function(){return j("div",{className:"RjOhL"})}})),[]),C=st({date:p,setDate:i,availableDates:r,showFooterDescription:!0,isDefaultDates:v,priceMap:o,variant:"icon",numberOfMonths:m?1:void 0}),T=a((()=>[e,g,_,m?null:b,t,f,C,n].filter(Boolean)),[e,g,_,b,t,f,C,n,m]),k=l((()=>$("ozROR A w",m&&"vUptH")),[m]);return j(ot,{autoAdvance:!1,pickers:T,renderApplyButton:s,pickerFooter:u,inputFieldVariant:"unstyled",alignEdge:h?"right":"left",onOpen:d,onClose:c,getPickerButtonContainerStyle:k})},ds=({previousDatePicker:e,nextDatePicker:t,paxPicker:n,setDate:i,availableDates:r,priceMap:o,onOpen:d,onClose:c,applyButton:s,priceDescription:u})=>{var{singleDate:m,isDefaultDates:p}=dt(),[v]=be(),h=st({date:m,setDate:i,availableDates:r,showFooterDescription:!0,isDefaultDates:p,priceMap:o,variant:"text-and-icon",optimizeCalendarBucket:v,numberOfMonths:"Treatment 1"===v?1:2}),g=a((()=>[e,h,t,n]),[e,h,t,n]),_=l((e=>e?"TegBo A w":"ZINlY A w"),[]);return j(ot,{autoAdvance:!1,pickers:g,renderApplyButton:s,pickerFooter:u,inputFieldVariant:"unstyled",alignEdge:"right",onOpen:d,onClose:c,fixedWidthDatePicker:"Treatment 1"===v,isOptimizedPicker:!!v&&"control"!==v,getPickerButtonContainerStyle:_})},cs=({paxPicker:e,setDate:t,availableDates:n,priceMap:i,onOpen:l,onClose:r,applyButton:o,priceDescription:d})=>{var{singleDate:c,isDefaultDates:s}=dt(),[u]=be(),m=st({date:c,setDate:t,availableDates:n,showFooterDescription:!0,isDefaultDates:s,priceMap:i,variant:"text-and-icon",optimizeCalendarBucket:u,numberOfMonths:"Treatment 1"===u?1:2}),p=a((()=>[m,e]),[m,e]);return j(ot,{autoAdvance:!1,pickers:p,renderApplyButton:o,pickerFooter:d,alignEdge:"right",onOpen:l,onClose:r,fixedWidthDatePicker:"Treatment 1"===u,isOptimizedPicker:!!u&&"control"!==u})},ss=({datePickerConfig:e,variant:t="compact"})=>{var n,{clearTourGrade:i}=mc(),{pax:r,setPax:o,defaultPax:d}=ct(null==e||null==(n=e.passengerInfo)?void 0:n.ageBands),{singleDate:c,setSingleDate:s}=dt(),u="MOBILE"===Ee(),[m,p]=_e(),[v,h]=be(),g=null!=e&&e.priceDescription?j($e,{model:e.priceDescription}):null,_=l(((e,t,n=!0)=>{i(),s(e,t,n)}),[i,s]),b=l(((e,t)=>{i(),o(e,t)}),[i,o]),f=a((()=>null!=e&&e.priceCalendar&&e.priceCalendar.length>0?new Set(e.priceCalendar.map((e=>null==e?void 0:e.date)).filter(Boolean)):void 0),[null==e?void 0:e.priceCalendar]),C=a((()=>{var t=new Map;return null!=e&&e.priceCalendar&&e.priceCalendar.forEach((e=>{var n;null!=(null==e?void 0:e.date)&&null!=(null==(n=e.price)?void 0:n.text)&&t.set(e.date,e.price.text)})),t}),[null==e?void 0:e.priceCalendar]),T=l((()=>{p(),h()}),[p,h]),k=l((()=>b(d,!0)),[d,b]),y=l((e=>{e.value&&"pax"===e.name&&!rs(e.value,r)&&b(e.value,!0)}),[r,b]),P=l((({onClick:e,disabled:t})=>j("div",{className:"NB",children:Y(xe,{disabled:t,size:"medium",variant:"commerce",onClick:e,children:[m.control&&j(le,{id:"phoenix_product_attractions_check_availability_btn"}),m.treatment1&&j(le,{id:"attractions_update_search"}),m.treatment2&&j(le,{id:"phoenix_picker_apply"})]})})),[m]),A=pt({direction:"backward",setDate:_,currentDate:c,availableDates:f}),I=pt({direction:"forward",setDate:_,currentDate:c,availableDates:f}),E=ut({passengerInfo:null==e?void 0:e.passengerInfo,defaultPax:d,currentPax:r,setPax:o,showApplyButton:!u,onReset:k,isPaxOptimization:!!v&&"control"!==v});return"compact"===t?j(cl,{datePickerConfig:e,setDate:_,setPax:b,onOpen:T,onClose:y,availableDates:f,priceMap:C,applyButton:P,priceDescription:g,previousDatePicker:A,nextDatePicker:I,paxPicker:E}):"legacy"===t?j(sl,{datePickerConfig:e,setDate:_,setPax:b,onOpen:T,onClose:y,availableDates:f,priceMap:C,applyButton:P,priceDescription:g,paxPicker:E}):j(dl,{datePickerConfig:e,setDate:_,setPax:b,onClose:y,availableDates:f,priceMap:C,applyButton:P,priceDescription:g,previousDatePicker:A,nextDatePicker:I,paxPicker:E,narrow:"expandedNarrow"===t})},us=({model:e})=>{var{setTicketInfo:t}=mc(),n="MOBILE"===Ee(),{datePicker:i,productName:a,productDescription:l,labels:r,noCommerceMessage:o,freeCancellationMessage:c,tags:s}=e,u=uc(i);d((()=>{var e;u&&((null==(e=u.passengerInfo)?void 0:e.ageBands)||[]).length>0&&null!=a&&null!=l&&null!=r?t(u,{name:a,description:l,labels:r}):console.error("[Fusion] TourGradesHeaderWeb missing key data, AttractionCommerceModal will be missing header.")}),[u,a,l,r,t]);var m=s?j(on,{model:s}):null,p=c?j(Qe,{model:c}):m;return Y(Q,{children:[p?Y("div",{className:"DZFNa f _Y MK",children:[j(Cn,{size:12}),j(we,{variant:"input-03",color:"secondaryText",elementType:"span",children:p})]}):null,j(ul,{datePickerConfig:u,variant:n?"compact":"expanded"}),j(Ot,{marginTop:"spacing-03"}),o&&j(we,{variant:"supporting-02",color:"dangerText",marginTop:"spacing-03",children:j($e,{model:o})})]})},ms=({result:e,update:t,fetching:n,polling:i,duplicateItemError:a})=>{var l,r,o,d,c,s,u,m,{localize:p}=oe(),v="TABLET"===Ee(),h=null==e||null==(l=e.sections)?void 0:l.find(Pc),g=null==e||null==(r=e.sections)?void 0:r.find(Ic),_=null==e||null==(o=e.sections)?void 0:o.find(Ec),b=null==e||null==(d=e.sections)?void 0:d.find(xc),f=null==e||null==(c=e.sections)?void 0:c.find(Ac),C=!(null!=h&&null!=(s=h.noCommerceMessage)&&s.text);return(null==h||null==(u=h.noCommerceMessage)?void 0:u.text)===(null==g||null==(m=g.summary)?void 0:m.text)&&console.error("[Fusion] noCommerceMessage exists in both TourGradesHeader and TourGradesDetail"),Y(Q,{children:[h&&j(ml,{model:h}),(n||i)&&j("div",{className:"gQRyR f u j",children:j(Et,{variant:"large","aria-label":p.string("fusion_attraction_commerce_loading")})}),!(n||i)&&Y(Q,{children:[a&&j(we,{variant:"supporting-02",color:"dangerText",marginTop:"spacing-03",children:p("already_added_to_cart")}),f&&j(el,{model:f}),_&&Y(Q,{children:[j("div",{className:"ickWP",children:j(Da,{model:_,update:t})}),j(Ot,{})]}),g&&j(Ha,{model:g,timesVariant:v?"expanded":"compact",showSummary:C}),b&&j("div",{className:"QYneg",children:j(vt,{model:b})}),j(Ka,{})]})]})},ps=({title:e,children:t,inline:n,onClose:i,disableRestoreFocus:a})=>{var{localize:l}=oe(),r=m(null),o=p();return j(yn,{hideBackdrop:!0,inline:n,className:"MGKYe t _U s l Gg Za",onClose:i,autoFocusSortFn:Tn(r),disableRestoreFocus:a,children:j("div",{className:"qqDJl",role:"dialog","aria-labelledby":o,children:Y("div",{className:"FtYHF f e",children:[j("div",{className:"RaDds t _U",children:j(Ne,{variant:"clear",icon:Pn,"aria-label":l.string("common_Close"),onClick:i,ref:r})}),j(J,{children:j("div",{id:o,children:e})}),j("div",{className:"F1 _g",children:j(J,{children:t})})]})})})},vs=({ageBand:e,count:t})=>{switch(e){case"ADULT":return j(le,{id:"fusion_commerce_pax_adults_count",args:{0:t}});case"SENIOR":return j(le,{id:"fusion_commerce_pax_seniors_count",args:{0:t}});case"YOUTH":return j(le,{id:"fusion_commerce_pax_youths_count",args:{0:t}});case"CHILD":return j(le,{id:"fusion_commerce_pax_children_count",args:{0:t}});case"INFANT":return j(le,{id:"fusion_commerce_pax_infants_count",args:{0:t}});default:return null}},hs=()=>{var{pax:e}=ct(),t=[];return e.forEach(((e,n)=>t.push({count:e,ageBand:n}))),j(Q,{children:t.filter((({count:e})=>e>0)).sort(((e,t)=>Kd(e.ageBand,t.ageBand))).map((({ageBand:e,count:t})=>j("div",{children:j(vs,{ageBand:e,count:t})},e)))})},gs="cxIZO Wi",_s=({price:e,strikethroughPrice:t,variant:n})=>{if(null==e)return null;var i=j(we,{variant:"small"===n?"title-05":"title-03",color:t?"strikethroughText":"primaryText",display:"inline",children:e});return Y("div",{children:[t&&j(Me,{price:t,variant:"small"===n?"supporting-01":"title-04",textColor:"primaryText"})," ",i]})},bs=({description:e,tourGrade:t,reserveButton:n,addToCartButton:i,freeCancellationNode:a,socialPromotionalInfo:l,labels:r})=>{var o,d,c,s,u=re(),{localize:m}=oe(),{singleDate:p}=dt(),v=u.formatDate("week_short_month_short_date",p),h=null==t||null==(o=t.timedEntry)?void 0:o.startTime,g=U(),{numberOfReviews:_,averageRating:b}=V(),f=null!=(d=null==r?void 0:r.filter(Boolean))?d:[],C=b&&b>=0&&_&&_>0,T=m.string("mobile_reviews_plural",{0:null!=_?_:0});s=0===_?T:[m.string("common_Xof5bubbles",{0:u.formatNumber("one",null!=b?b:0)}),T].join(". ");var{totalStrikethroughPrice:k,totalPrice:y}=qd(t),P=null!=y?u.formatCurrency(y):null,A=null!=k&&k>0?u.formatCurrency(k):null;return Y("div",{children:[f.length>0&&j("div",{className:Mt({marginBottom:"spacing-03"}),children:j(ht,{model:f})}),e&&j(we,{variant:"title-03",marginBottom:"spacing-03",children:e}),g.supplierName&&j(we,{variant:"body-01",color:"secondaryText",marginBottom:"spacing-03",children:j(le,{id:"phoenix_poi_by_provider",args:{0:g.supplierName}})}),C&&j(Nt,{size:"small",rating:b,label:T,"aria-label":s}),l&&j("div",{className:Mt({marginTop:"spacing-03"}),children:l}),Y(we,{variant:"body-01",marginTop:"spacing-05",children:[Y("div",{className:"kaLWI",children:[j("div",{children:j(le,{id:"fusion_commerce_pax_tour_label"})}),j("div",{className:gs,children:(null==t||null==(c=t.tourGrade)?void 0:c.title)&&j($e,{model:t.tourGrade.title})}),j("div",{children:j(le,{id:"fusion_commerce_pax_date_label"})}),j("div",{className:gs,children:v}),j("div",{children:j(le,{id:"fusion_commerce_pax_time_label"})}),j("div",{className:gs,children:null!=h?h:"-"}),j("div",{children:j(le,{id:"fusion_commerce_pax_qty_label"})}),j("div",{className:gs,children:j(hl,{})})]}),j(Ot,{marginY:"spacing-05"}),Y("div",{className:"OyMcW Px",children:[j(le,{id:"attractions_booking_booking_fee"}),j("div",{className:gs,children:u.formatCurrency(0)}),j(le,{id:"exp_checkout_subtotal"}),j("div",{className:gs,children:j(_s,{price:P,strikethroughPrice:A,variant:"small"})}),j(we,{variant:"title-03",children:j(le,{id:"fusion_commerce_pax_total_label"})}),j("div",{className:gs,children:j(_s,{price:P,strikethroughPrice:A,variant:"large"})})]}),Y("div",{className:"LuzZi",children:[i," ",n]}),a&&Y("div",{className:"qyIqs _Y",children:[j(Cn,{size:12}),j(we,{variant:"input-03",color:"secondaryText",elementType:"span",children:a})]})]})]})},fs=e=>{var[t,n]=s((()=>(e=>matchMedia(e).matches)(e)));return d((()=>{var t=matchMedia(e);n(t.matches);var i=()=>{n(t.matches)},a="addEventListener"in t;return a?t.addEventListener("change",i):t.addListener(i),()=>{a?t.removeEventListener("change",i):t.removeListener(i)}}),[e]),t},Cs=({onClose:e,datePickerConfig:t,reserveButton:n,addToCartButton:i,fetching:a,polling:l,duplicateItemError:r,result:o,update:d,selectedTourGrade:c,showErrorScreen:s})=>{var u,m,p=_l("(max-width: 1130px)"),v=An(),h=null==o||null==(u=o.sections)?void 0:u.find((e=>"WebPresentation_TourGradesHeaderWeb"===(null==e?void 0:e.__typename))),{tags:g,freeCancellationMessage:_,socialPromotionalInfo:b,labels:f}=null!=h?h:{},C=g?j(on,{model:g}):null,T=_?j(Qe,{model:_}):C,k=b&&j(In,{model:b,variant:"supporting-01"}),y=p?"expandedNarrow":"expanded";return j(vl,{onClose:e,title:j(we,{variant:"title-02",children:j(le,{id:"fusion_commerce_all_tour_options"})}),children:Y("div",{className:"czWwQ A Mk",children:[Y("div",{children:[s&&j(Oa,{}),!s&&Y(Q,{children:[j(ul,{datePickerConfig:t,variant:y}),j(Ja,{duplicateItemError:r,fetching:a,polling:l,result:o,update:d,variant:y})]})]}),j("div",{className:$("ZQgVA Ra E",null==c&&"QMEER S"),children:j(gl,{tourGrade:c,description:null!=(m=null==v?void 0:v.MAIN_H1)?m:"",reserveButton:n,addToCartButton:i,freeCancellationNode:T,socialPromotionalInfo:k,labels:f})})]})})},Ts=({onClose:e,initialStep:t="TICKETS",tourContentInfo:n,ticketContentInfo:i,onAddToCart:r})=>{var{localize:o}=oe(),{trackClick:c}=k(),s="DESKTOP"===Ee(),[u,m]=wa({initialStep:t}),{incrementQueryFailure:p}=jd(),{step:v,ticketInfo:h,ticketLink:g,selectedTourGrade:_,isAddingToCart:b,isBooking:f,isDuplicateItemError:C,datePickerConfig:T}=u,y=gt("IB_CLICK"),P=_t();d((()=>{y(),P({event:"IB_CLICK"})}),[y,P]);var A,I=l(((e,t=!1)=>{m({type:"SELECT_TICKET",ticket:e,singleTicket:t})}),[m]),E=l(((e,t)=>{m({type:"SET_TICKET_INFO",datePickerConfig:e,ticketInfo:t})}),[m]),x=l((e=>{m({type:"SELECT_TOUR",tour:e})}),[m]),S=l((()=>x(null)),[x]),N=l((e=>{m({type:"ERROR",isRecoverable:e,showGenericError:!0}),c({clientContext:"errorScreen"}),p()}),[m,c,p]),{addTourGradeToCart:R,bookTourGrade:w}=rc();switch(v){case"TICKETS":A=o.string("phoenix_poi_attractions_tickets_tab");break;case"TOURGRADES":A=null==h?void 0:h.name;break;default:A=null}var O,B,W,L,M=(null==h?void 0:h.labels)&&h.labels.length>0&&j(ht,{model:h.labels}),D=j(xe,{onClick:()=>{w(_,c,m,N)},variant:"commerce",disabled:!_||f||b||C,loading:f,fullWidth:!s,dataAttributes:{"data-automation":"attractions-commerce-modal-primary"},"aria-label":o.string("fusion_attraction_commerce_booking"),children:j(le,{id:"attractions_booking_reserve_now"})}),G=j(bt,{onClick:()=>{R(_,c,m,N).then((t=>{null==r||r(t),null==e||e()})).catch((()=>{}))},disabled:!_||f||b||C,loading:b,"aria-label":o.string("fusion_attraction_commerce_booking"),fullWidth:!s,marginRight:s?void 0:"spacing-03",children:j(le,{id:"attractions_add_to_cart_cta"})});if("TOURGRADES"===v&&(O=Y("div",{className:"dyqcu",children:[j(Za,{tourGradeInfo:_,marginBottom:"spacing-03"}),Y("div",{className:$("zadtN A"),children:[j("div",{children:G}),j("div",{children:D})]})]})),"TICKETS"===v)({contentId:B,contentType:W,state:L}={contentId:null==i?void 0:i.contentId,contentType:null==i?void 0:i.contentType,state:null==i?void 0:i.contentState});else if("TOURGRADES"===v){var F,U;B=null==n?void 0:n.contentId,W=null==n?void 0:n.contentType,L=null==n?void 0:n.contentState,"Routing_AttractionCommerceParameters"===(null==g||null==(F=g.webRoute)||null==(U=F.typedParams)?void 0:U.__typename)&&(B=B||g.webRoute.typedParams.contentId,W=W||g.webRoute.typedParams.contentType,L=L||g.webRoute.typedParams.state)}var[{data:V,fetching:z,polling:H,error:K},q]=Ra({contentId:B,contentType:W,state:L});d((()=>{K&&(console.error("[Fusion][Availability] attraction commerce query resulted in an error",K.message),N(!0))}),[K,N]),d((()=>{(z||H)&&_&&S()}),[z,H,_,S]);var Q=a((()=>({setTicketInfo:E,clearTourGrade:S,onSelectTicket:I,onSelectTourGrade:x,selectedTourGrade:_})),[E,S,I,x,_]);return j(Fa.Provider,{value:Q,children:s?j(bl,{datePickerConfig:T,addToCartButton:G,reserveButton:D,onClose:f||b?void 0:e,duplicateItemError:C,fetching:z,polling:H,update:q,result:V,selectedTourGrade:_,showErrorScreen:"GENERIC_ERROR"===v}):j(rt,{variant:"fixed-height-sticky-footer",heightOption:"restricted-full",footer:O,onClose:f||b?void 0:e,children:Y("div",{className:$("DRTxf",{"otHUz S":f}),children:[null!=M&&j("div",{className:"FtNql",children:M}),null!=A&&j(we,{variant:"title-03",marginBottom:"spacing-03",children:A}),"GENERIC_ERROR"!==v&&j(pl,{result:V,fetching:z,polling:H,update:q,duplicateItemError:C}),"GENERIC_ERROR"===v&&j(Oa,{})]})})})},ks=({onClose:e,initialStep:t="TICKETS",trackingKey:n="",tourContentInfo:i,ticketContentInfo:a,isAttractionCommerceModalOpen:l,autoExpandTourGradeIndex:r})=>{var[o,c]=s(!1),[u,m]=s(void 0),p="MOBILE"===Ee(),[v,h]=fe(),[g]=he(),_=p&&"test"===v||!p&&null!==g&&"control"!==g;return d((()=>{l&&p&&h()}),[p,h,l]),a||i?Y(Q,{children:[o&&u&&j(at,{addToCartData:u,onClose:()=>c(!1)}),l&&!_&&j(ol,{onClose:e,initialStep:t,tourContentInfo:i,ticketContentInfo:a,trackingKey:n,onAddToCart:e=>{m({cartItems:e}),c(!0)},autoExpandTourGradeIndex:r}),l&&_&&j(fl,{onClose:e,initialStep:t,tourContentInfo:i,ticketContentInfo:a,onAddToCart:e=>{m({cartItems:e}),c(!0)}})]}):null},ys=({cta:e,isPerGroupPricing:t,price:n,strikethroughPrice:i})=>{var a=null!=i;if(!n)return null;var l=Y(we,{variant:"title-03",color:a?"strikethroughText":"primaryText",children:[j(Me,{price:i?j($e,{model:i}):null,marginRight:"spacing-01",textColor:a?"primaryText":"strikethroughText",variant:"title-04",display:"inline-block"}),j($e,{model:n})]}),r=Y("div",{className:"f u k w",children:[j("div",{className:"tavvu",children:j(we,{variant:"supporting-01",children:j(le,t?{id:"fusion_attractions_price_per_group",args:{price:l}}:{id:"fusion_attractions_price_per_adult",args:{price:l}})})}),j("div",{className:"JBpxV NL",children:e})]});return Y(Q,{children:[r,j(Ze,{children:j("div",{className:"U",children:r})})]})},Ps=(e,t)=>e&&t?`${e}&campaign=${t}`:void 0,As=({model:e,variant:t})=>{var{isPerGroupPricing:n,isTieredPricing:i,maxTravelersPerUnit:a,price:l,strikeThroughPrice:r}=e,o=null!=r,d="DESKTOP"===Ee(),c=j(we,{display:"inline",variant:"small"===t?"title-04":"title-03",color:o?"strikethroughText":"primaryText",dataAttributes:{"data-automation":o?"commerce_module_visible_price_discounted":"commerce_module_visible_price"},children:j($e,{model:l})});return j("div",{className:"GyNKk",children:j(we,{variant:"small"===t?"supporting-01":"body-01",children:j(Le,{price:Y("div",{className:d?"oompc":"LkylH J",children:[r&&j(Me,{dataAttributes:{"data-automation":"commerce_module_strikethrough_price"},price:j($e,{model:r}),variant:"small"===t?"title-04":"title-03",textColor:o?"primaryText":"strikethroughText",marginRight:"spacing-02"}),c]}),strikeThroughPrice:void 0,isPerGroupPricing:!0===n,isTieredPricing:!0===i,maxTravelersPerUnit:null!==a?a:void 0})})})},Is=({buttonText:e,isClickOff:t})=>Y(Q,{children:[e&&j($e,{model:e}),t&&j(Re,{size:19})]}),Es=({model:e})=>{var{commercePersistentCTA:t,isExperiencesPaidTraffic:n,isPerGroupPricing:i,price:r,strikeThroughPrice:o,trackingKey:c,viatorCommerceLinks:u}=e,p=null!=i&&i,{localize:v}=oe(),{trackClick:h}=k(),g="DESKTOP"===Ee(),[_,b]=Ce();d((()=>{g&&b()}),[g,b]);var{setPersistentCommerce:f}=W(),{setClickOffTest:C}=Oe(),[T,{openModal:y,closeModal:P}]=ue({trackingContext:"checkAvailability",fragment:"SHOW_BOOKING"}),A=l(y,[y]),[I,{openModal:E,closeModal:x}]=me("rnplAdditionalInfo");Ve("RESERVE_NOW_PAY_LATER_OPEN_OVERLAY",E);var S,N,R,w,O,B,L=null===(null==u?void 0:u.detailLink)||null===(null==u?void 0:u.landerLink),{isFetching:M,bucket:D,recordImpression:G}=((e,t=!1)=>{var{isFetching:n,isEligible:i}=((e=!1)=>{var{status:t,hasCartItems:n}=((e=!1)=>{var t=tt(),[n,i]=s(e?"Abort":"Fetching"),[a,l]=s();return d((()=>{t&&!e&&(i("Fetching"),it().then((({itemCount:e})=>{i("Success"),l(0!==e)})).catch((()=>i("Failed"))))}),[t,e]),{status:n,hasCartItems:a}})(e),{fetching:i,isSubscribed:a}=et(e),l=i||"Fetching"===t;return{isFetching:l,isEligible:l||e?void 0:!(a||n)}})(e||t),[a,l]=(()=>{var[e,t]=Xe("ta_vi_pdp_click_off_test_1672849503");switch(null==e?void 0:e.toLowerCase().trim()){case"control":return["control",t];case"vi affiliate lander":return["lander",t];case"vi pdp with pivot":return["detail",t];default:return[null,t]}})();return{isFetching:n,bucket:i&&!e?a:null,recordImpression:l}})(n,L),{isClickOff:F,buttonText:U,ctaUrl:V}=((e,t,n)=>{var i=Je();switch(n){case"detail":var a;if(null==t||null==(a=t.detailLink)||!a.externalUrl)break;var{text:l,url:r}=Ue({externalLink:t.detailLink});return{isClickOff:!0,buttonText:l,ctaUrl:Ps(r,i)};case"lander":var o;if(null==t||null==(o=t.landerLink)||!o.externalUrl)break;var{text:d,url:c}=Ue({externalLink:t.landerLink});return{isClickOff:!0,buttonText:d,ctaUrl:Ps(c,i)}}var{text:s}=Ue({internalLink:null==e?void 0:e.link});return{isClickOff:!1,buttonText:s}})(t,u,D),z=(e=>{var t=(()=>{switch(e){case"detail":return Be.detail;case"lander":return Be.lander;default:return Be.none}})();return We.useIncrementCallback(t)})(D),H=l((()=>{h({clientContext:"click_bookOnViatorCTA"}),z(1)}),[z,h]),K=a((()=>F&&V?{href:V,target:"_blank",rel:"noopener noreferrer",onClick:M?void 0:H}:{onClick:M?void 0:A}),[M,V,F,A,H]),q=m(null);return d((()=>{var e="commerce",n=U?j(Is,{buttonText:U,isClickOff:F}):null,i=(null==t?void 0:t.fromPriceShort)&&j(Qe,{model:t.fromPriceShort}),a=j(Tl,{cta:j(xe,{variant:e,...K,children:n}),isPerGroupPricing:p,price:r,strikethroughPrice:o});C({isFetching:M,isInTest:F}),!M&&D&&G(),f({ctaButtonProps:M?null:{variant:e,children:n,...K},footerComponent:a,footerFadesIn:!0,isFooterVisible:()=>{var e,t,n=null==(e=q.current)||null==(t=e.getBoundingClientRect())?void 0:t.bottom;return null!=n&&n<0},priceText:i})}),[U,D,M,K,null==t?void 0:t.fromPriceShort,F,y,p,r,G,C,f,o]),Y("div",{className:"QYPrC MK",ref:q,children:[!g&&j(ne,{component:ie.commerce,status:r&&U&&null!=t&&t.link?ae.ok:ae.missing}),r&&Y(Q,{children:[_&&j("div",{className:"pEhiE",children:j(As,{model:e,variant:"large"})}),j("div",{className:"ZSjyC",children:j(As,{model:e,variant:"small"})})]}),!g&&j(xe,{variant:"commerce",size:"medium",loading:M,"aria-label":v.string("common_loading_ffffe209"),...K,children:j("span",{className:$("VhRIL",{LCIGM:F}),children:j(Is,{buttonText:U,isClickOff:F})})}),(null==t?void 0:t.link)&&j(Cl,{onClose:P,initialStep:"TOURGRADES",tourContentInfo:(S=t.link,"Routing_AttractionCommerceParameters"===(null==S||null==(N=S.webRoute)||null==(R=N.typedParams)?void 0:R.__typename)&&({contentId:w,contentType:O,state:B}=S.webRoute.typedParams),{contentId:w,contentType:O,contentState:B}),trackingKey:c,isAttractionCommerceModalOpen:T}),I&&j(De,{onClose:x})]})},xs=({model:e})=>{var{exploreLink:t,noCommerceMessage:i,unavailableMessage:a}=e,{text:l,url:r}=ze(t),[o,{openModal:d,closeModal:c}]=me("rnplAdditionalInfo");Ve("RESERVE_NOW_PAY_LATER_OPEN_OVERLAY",d);var s=n.useRef(null);return Y(Q,{children:[Y("div",{className:"Lvark A Ml Nb MK NC",ref:s,children:[Y("div",{children:[a&&j(we,{variant:"title-04",children:j($e,{model:a})}),i&&j(we,{variant:"body-01",marginTop:"spacing-02",children:j($e,{model:i})})]}),l&&null!=r&&j(xe,{variant:"primary",size:"medium",href:r,children:j($e,{model:l})})]}),o&&j(De,{onClose:c})]})},Ss="ofyTK",Ns=({valueProp:e})=>{var t=kn(),{eventId:n}=e.webLink||{},i=He(),a=l((()=>{n&&i(n)}),[n,i]),r=l((e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())}),[a]);return j("span",n?{className:Ss,children:j("span",{className:Lt("_S Wb",t),role:"button",onClick:a,onKeyPress:r,tabIndex:0,children:j(we,{variant:"input-03",color:"secondaryText",elementType:"span",children:j($e,{model:e.title})})})}:{className:Ss,children:j($e,{model:e.title})})},Rs=({valueProps:e,...t})=>e.length?Y("div",{className:Lt("jilbn f _Y",Mt(t)),children:[j("div",{className:"fJuIA f Pb PO Po PB Rb",children:j(xn,{size:12})}),j("div",{children:e.map((e=>j(Ns,{valueProp:e},e.identifier)))})]}):null,ws=({model:e})=>{var t,{keyDetails:n}=e,i=null!=(t=null==n?void 0:n.filter(Boolean))?t:[],[a,{openModal:l,closeModal:r}]=me("lowPriceGuaranteeDetails");return Ve("LOW_PRICE_GUARANTEE_OPEN_OVERLAY",l),i.length>0&&Y(Q,{children:[j("div",{className:"WMxXw",children:j(Ot,{marginBottom:"spacing-04"})}),j(Pl,{valueProps:i,marginBottom:"spacing-04"}),a&&j(En,{onClose:r})]})},Os=18,Bs=({identifier:e})=>{switch(e){case"duration":return j(Nn,{size:Os});case"traveler-requirements":return j(Rn,{size:Os});case"supported-languages":return j(On,{size:Os});case"mobile-phone":return j(wn,{size:Os});case"start-time":return j(Sn,{size:Os});case"pet-friendly":return j(Bn,{size:Os});default:return null}},Ws=({model:e})=>{var{description:t,identifier:n,tooltip:i}=e,a=Y(Q,{children:[t&&j(we,{variant:"body-01",elementType:"span",marginRight:"spacing-01",children:j(on,{model:t})}),i&&j(Wn,{model:i,labelVariant:"body-01"})]});return Y("div",{className:"zcyXe f _Y",children:[j("div",{className:"CBBDT",children:j(Bs,{identifier:n})}),j("div",{children:a})]})},Ls=({model:e})=>{var t,{keyDetails:n}=e,i=null!=(t=null==n?void 0:n.filter(Boolean))?t:[];return i.length>0&&Y(Q,{children:[j(Ot,{marginBottom:"spacing-04"}),j("div",{className:"VntFx",children:i.map((e=>j(Il,{model:e},e.identifier)))}),j(Ot,{marginTop:"spacing-04"})]})},Ms=({model:e})=>{var{title:t,highlights:n}=e;return Y("div",{className:"_R",children:[t&&j(we,{variant:"title-05",marginY:"spacing-03",children:j($e,{model:t})}),j(we,{variant:"body-01",elementType:"div",children:j("ul",{className:"lwUUi",children:null==n?void 0:n.filter(Boolean).map((e=>j("li",{className:"Ptvsb",children:j($e,{model:e})},e.text)))})})]})},Ds=({name:e,year:t,logo:n})=>{var{localize:i}=oe(),a=null==t?void 0:((e,t)=>null!==e.to&&void 0!==e.to?t.string("sng_year_range_dash",{0:e.from,1:e.to}):e.from)(t,i),l=null==t?void 0:((e,t)=>null!==e.to&&void 0!==e.to?t.string("sng_year_range",{0:e.from,1:e.to}):"")(t,i);return Y("div",{className:"f w",children:[n,Y("div",{className:"f e j NE",children:[j(we,{variant:"title-05",children:e}),t&&j(we,{variant:"body-01",children:j("div",{"aria-label":l,children:a})})]})]})},Gs=({variant:e})=>j("div",{className:$({kbKhz:"green"===e,GRYhG:"yellow"===e}),children:j("div",{className:"QCnbt Rb Ce",children:j("div",{className:"iezEl",children:j(Dn,{size:35})})})}),Fs=({year:e,variant:t})=>{var{localize:n}=oe(),i="best-of-the-best"===t,a=n(i?"TC_BOTB_Header_2020":"phoenix_poi_awards_title_tc");return j("div",{className:"Cj H4",children:j(Sl,{logo:j(Nl,{variant:i?"yellow":"green"}),name:a,year:e})})},Us=({variant:e})=>{var t,n,i=vn(),{localize:a}=oe(),l=a("ds_award_michelin_text");switch(e){case"one-star":t=a.string("ds_award_michelin_one_star_label"),n="/img2/restaurant-awards/Stars/1-Star.svg";break;case"two-star":t=a.string("ds_award_michelin_two_star_label"),n="/img2/restaurant-awards/Stars/2-Stars.svg";break;case"three-star":t=a.string("ds_award_michelin_three_star_label"),n="/img2/restaurant-awards/Stars/3-Stars.svg";break;case"bib":t=a.string("ds_award_michelin_bib"),n="/img2/restaurant-awards/michelin/Bib.svg";break;default:t=null,n=null}return Y("div",{className:"f u",children:[n&&t&&j("img",{src:`${i}${n}`,alt:t}),j("span",{className:"UmUDA",role:"presentation",children:l})]})},Vs=()=>{var e=vn(),{localize:t}=oe(),n=t.string("ds_award_michelin_text");return j("div",{className:"fUnYK Rb",children:j("div",{className:"UZvfv Pc",children:j("img",{src:`${e}/img2/restaurants/michelin_man.svg`,alt:n})})})},zs=({variant:e})=>j(Sl,{logo:j(Vs,{}),name:j(Us,{variant:e})}),Hs=e=>({from:E(e)}),Ks=({model:e})=>{var{simpleAboutAwardYears:t,awardCategory:n}=e;switch(n){case"BEST_OF_THE_BEST":return j(Rl,{year:Ol(t||""),variant:"best-of-the-best"});case"TRAVELERS_CHOICE":return j(Rl,{year:Ol(t||""),variant:"default"});case"GREEN_LEADER":return j(Mn,{message:"Integrate the Green Leader Award",jira:"SNG-1049",valueToDump:e});default:return j(P,{typename:e.__typename})}},qs={ONE_STAR:"1-star",TWO_STARS:"2-star",THREE_STARS:"3-star",BIBGOURMAND:"bib"},js=e=>qs[e]?qs[e]:"generic",Ys=({model:e})=>{var{michelinAwardType:t}=e;return t&&j(wl,{variant:js(t)})},Qs=({model:e})=>{switch(e.__typename){case"WebPresentation_MichelinAboutAward":return j(Wl,{model:e});case"WebPresentation_SimpleAboutAward":return j(Bl,{model:e});default:return j(P,{typename:e.__typename})}},$s=({model:e})=>{var{awards:t}=e;return j("div",{className:Mt({marginY:"spacing-03"}),children:null!=t&&t.length>0&&(null==t?void 0:t.map(((e,t)=>e&&j(Ll,{model:e},t))))})},Js=({model:e,...t})=>{var{title:n,awards:i,subsectionType:a}=e,[l]=Dt(t);return Y("div",{className:Mt(l),children:[n&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:n})}),i&&i.map(((e,t)=>e&&j(Ll,{model:e},`slot-${String(t)}`)))]})},Zs=({internalLink:e})=>{var{url:t,text:n,trackingContext:i}=ze(e),{trackClick:a}=k({clientContext:i});return t&&n?j(Se,{leftAlign:!0,href:t,onClick:()=>a(),children:j($e,{model:n})}):null},Xs=({model:e})=>{var{question:t,review:n,title:i}=e;return Y("div",{className:Mt({marginBottom:"spacing-04"}),children:[i&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:i})}),Y("div",{className:"iJAeb f",children:[j(Zs,{internalLink:t}),j(Zs,{internalLink:n})]})]})},eu=({model:e})=>{var{subsectionText:t,title:n,contactLinks:i}=e;return Y("div",{className:Mt({marginBottom:"spacing-04"}),children:[n&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:n})}),t&&j(we,{variant:"body-01",marginBottom:"spacing-01",children:j($e,{model:t})}),i&&i.filter(Boolean).map(((e,t)=>j(Un,{model:e},t)))]})},tu=({model:e})=>{var{link:t,improveThisListingText:n}=e,{url:i,text:a,trackingContext:r}=t?Ke(t):{},{trackClick:o}=k({clientContext:r}),d=l((()=>{o()}),[o]),{params:c,page:s}=gn(),u="detailId"in c&&c.detailId?c.detailId:void 0,m="geoId"in c&&c.geoId?c.geoId:void 0;return null!=i&&a?Y("div",{className:"XJScC A",children:[j("div",{className:"H-",children:j(Vn,{})}),Y("div",{children:[n&&j(we,{variant:"body-01",marginBottom:"spacing-01",children:j($e,{model:n})}),j(zn,{scope:{saItemName:"AttractionAboutWebSection",saItemType:"improveThisListing",pageGeoId:m,pageLocationId:u,pageName:s,scopeType:"standalone",team:"Attractions"},children:j(Se,{href:i,onClick:d,children:j($e,{model:a})})})]})]}):null},nu=({children:e,clickHandler:t})=>{var n="IE"===Hn().browser.family;return j(Gt,{collapsible:!0,cta:j(Se,{children:j(le,{id:"common_Read_more"})}),ctaCollapse:j(Se,{children:j(le,{id:"common_Readless"})}),ctaHiddenInitially:!0,ctaNewline:!0,collapsed:!0,contentClickCanCollapseContent:!1,numLinesToShow:7,webkitLineClamp:!n,clickCallback:t?e=>("CTA"===e&&t(),!1):void 0,children:j(we,{variant:"body-01",children:e})})},iu=({model:e,collapse:t=!1,onCollapsedClick:n})=>{var{list:i,title:a,bulleted:l}=e,r=i&&j("ul",{className:null!=l&&l?"IMSns":void 0,children:i.filter(Boolean).map(((e,t)=>j("li",{className:"seKux _d _c",children:j(we,{variant:"body-01",elementType:"span",children:j($e,{model:e})})},t)))});return Y("div",{className:Mt({marginBottom:"spacing-04"}),children:[a&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:a})}),i&&(t?j(Vl,{clickHandler:n,children:r}):r)]})},au=({model:e})=>Y("div",{children:[j(Mn,{message:"WebPresentation_MichelinPovAward",jira:"TODO",valueToDump:e}),"WebPresentation_MichelinPovAward"]}),lu=({model:e})=>{var{title:t,awards:n}=e;return Y("div",{children:[t&&j(we,{variant:"body-01",children:j($e,{model:t})}),n&&n.filter(Boolean).map(((e,t)=>j(Hl,{model:e},`slot-${String(t)}`)))]})},ru=({model:e})=>{var{title:t,description:n,couponCode:i,couponSubtext:a,validDates:l,redemptionLink:r,redemptionSubtext:o,isRedemptionWebsite:d,inactiveText:c}=e,{trackClick:s}=k(),{url:u,text:m,trackingContext:p}=Ue({internalOrExternalLink:r});return Y("div",{className:"jdyJH c",children:[null!=t&&j(we,{variant:"title-02",marginBottom:"spacing-03",children:t}),null!=n&&j(we,{variant:"body-01",marginBottom:"spacing-03",children:n}),l&&j(we,{variant:"title-05",marginBottom:"spacing-03",children:j($e,{model:l})}),null!=i&&j(we,{variant:"title-05",marginBottom:"spacing-01",children:i}),a&&j(we,{variant:"supporting-02",marginBottom:"spacing-03",children:j($e,{model:a})}),c&&Y(we,{variant:"title-05",marginBottom:"spacing-03",children:[j(qn,{size:20,color:"dangerIcon"}),j($e,{model:c})]}),m&&null!=u&&(!0===d?j(xe,{variant:"primary",fullWidth:!0,href:u,target:"_blank",onClick:()=>{s({clientContext:p})},children:j($e,{model:m})}):j(Se,{href:u,onClick:()=>{s({clientContext:p})},children:j($e,{model:m})})),o&&j(we,{variant:"supporting-02",marginTop:"spacing-01",marginBottom:"spacing-03",children:j($e,{model:o})})]})},ou=({isRight:e,onClick:t,disabled:n=!1})=>{var{localize:i}=oe(),a="MOBILE"===Ee();return j("div",{className:$({"YOReY _Q X0 Z1 M0":e,"CBPxV _Q X0 Z1 M0":!e,_:n}),children:j(Ne,{icon:e?jn:Yn,size:a?"small":"medium",onClick:t,variant:"primary-border","aria-label":e?i.string("next_offer"):i.string("previous_offer")})})},du=({offers:e})=>{var t,n=ce(),[i,a]=s(0),l=m(-1),r=m(-1),o=m(-1),d=e.length,c=i>0,u=i<d-1,p=e=>{var t=i+("LEFT"===e?-1:1);t>=0&&t<d&&a(t)},v=()=>{if(-1===o.current||-1===r.current||-1===l.current)return l.current=-1,void(r.current=-1);var e=l.current-r.current;if(o.current<=Math.abs(e)){l.current=-1,r.current=-1;var t=n?-1:1,i=e/Math.abs(e);p(t*i==-1?"LEFT":"RIGHT")}};return Y("div",{className:"NgisO w",onTouchStart:e=>{var t;e&&e.currentTarget&&e.touches&&1===(null==(t=e.touches)?void 0:t.length)&&(o.current=.1*e.currentTarget.clientWidth,l.current=e.touches[0].pageX-e.currentTarget.offsetLeft,r.current=-1)},onTouchMove:e=>{var t;if(e&&e.currentTarget&&e.touches&&1===(null==(t=e.touches)?void 0:t.length)&&-1!==o.current&&-1!==l.current){r.current=e.touches[0].pageX-e.currentTarget.offsetLeft;var n=l.current-r.current;o.current<=Math.abs(n)&&v()}},onTouchEnd:v,children:[j("div",{className:"ZBbmG _T w",style:(t=100*i,{transform:`translateX(${n?`${t}%`:`-${t}%`})`,transition:"transform ease-out 0.45s"}),children:e.map(((e,t)=>j("div",{className:"oimsc",children:j(ql,{model:e})},t)))}),j(jl,{isRight:!1,onClick:e=>{e.stopPropagation(),e.preventDefault(),p("LEFT")},disabled:!c}),j(jl,{isRight:!0,onClick:e=>{e.stopPropagation(),e.preventDefault(),p("RIGHT")},disabled:!u}),j("div",{className:"iboCx u j w",children:j(Kn,{numberOfItems:d,selectedIndex:i})})]})},cu=({model:e,onClose:t})=>j(rt,{onClose:t,widthOption:"fixed-40",children:1===e.length?j("div",{className:"iZKRQ",children:j(ql,{model:e[0]})}):j("div",{className:"Gjfbc _T",children:j(du,{offers:e})})}),su=({model:e})=>{var{text:t,subText:n,specialOffers:i}=e,[a,{openModal:l,closeModal:r}]=me("specialOffers"),o=i.filter(Boolean)||[];return 0===o.length?null:Y(Q,{children:[Y(Se,{onClick:l,leftAlign:!0,children:[j($e,{model:t}),n&&j($e,{model:n})]}),a&&j(Yl,{model:o,onClose:r})]})},uu=({model:e})=>{var{subsectionTitle:t,hotelWebsite:n,specialOffers:i}=e,{trackClick:a}=k(),{url:l,text:r,trackingContext:o}=qe(n);return Y("div",{className:"MK",children:[t&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:t})}),Y("div",{className:"XmbnU f e",children:[r&&null!=l&&j(Se,{href:l,target:"_blank",onClick:()=>{a({clientContext:o})},leftAlign:!0,rel:"nofollow",showExternalLinkIcon:!0,children:j($e,{model:r})}),i&&j(Ql,{model:i})]})]})},mu=({model:e,collapse:t=!1,onCollapsedClick:n})=>{var{list:i,title:a}=e,l=i&&j("ul",{children:i.filter(Boolean).map((e=>j("li",{className:"WdlWg _c",children:j(we,{variant:"body-01",children:j($e,{model:e})})},e.text)))});return Y("div",{className:Mt({marginBottom:"spacing-04"}),children:[a&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:a})}),i&&(t?j(Vl,{clickHandler:n,children:l}):l)]})},pu=({model:e,collapse:t=!1,onCollapsedClick:n})=>{var{text:i,title:a}=e,l=i&&j("div",{className:"_c",children:j(on,{model:i})});return Y("div",{className:Mt({marginBottom:"spacing-04"}),children:[a&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:a})}),i&&(t?j(Vl,{clickHandler:n,children:l}):l)]})},vu=({model:e})=>{var{tags:t,subsectionType:n}=e;return j("div",{className:Mt({marginBottom:"spacing-03"}),children:t&&t.filter(Boolean).map(((e,t)=>j(Qn,{model:e},`slot-${String(t)}`)))})},hu=({model:e})=>{var{link:t,text:n,title:i}=e,{url:a,trackingContext:r}=Ue({internalOrExternalLink:t}),{trackClick:o}=k({clientContext:r}),d=l((()=>{o()}),[o]),c=null!=a&&null!=n;return Y("div",{children:[i&&j(we,{variant:"title-05",marginBottom:c?"spacing-01":void 0,children:j($e,{model:i})}),c&&j(Se,{href:a,target:"_blank",onClick:d,marginBottom:"spacing-03",leftAlign:!0,children:j(Qe,{model:n})})]})},gu=({model:e,icon:t})=>Y("div",{className:"LaHpi A",children:[j("div",{children:t}),j(hu,{model:e})]}),_u=()=>{var{faqs:e}=$n({itemType:"PRODUCT",limit:4});return null==e||0===e.length?null:Y(Q,{children:[j("dl",{children:e.map((({question:e,answer:t},n)=>Y(v,{children:[j("dt",{children:j(we,{variant:"title-05",children:e})}),j("dd",{className:Mt({marginBottom:"spacing-04"}),children:j(we,{variant:"body-01",children:j(Jn,{answer:t})})})]},n)))}),j(Zn,{questions:e.map((({question:e,answerJsonLd:t})=>({name:e||"",acceptedAnswer:{text:t||""}})))})]})},bu=()=>{var e=z(),{introductionText:t,itineraryText:n,itineraryTextIsVUC:i}=e||{},a=null!=t?t:n;return null==a?null:j("div",{className:Lt(Mt({marginBottom:"spacing-04"}),"_d"),"data-has-vuc":i||void 0,children:j(we,{variant:"body-01",elementType:"span",children:a})})},fu=({model:e})=>{var{text:t,tooltip:n}=e;return Y("div",{children:[j(we,{variant:"title-05",display:"inline-block",marginRight:"spacing-01",children:j($e,{model:t})}),n&&j(Wn,{model:n})]})},Cu=({model:e,collapse:t,onCollapsedClick:n,...i})=>{switch(e.__typename){case"WebPresentation_AwardsAboutSubsection":return j(Dl,{model:e,...i});case"WebPresentation_CommunityLinksSubsection":return j(Gl,{model:e});case"WebPresentation_ContactSubsection":return j(Fl,{model:e});case"WebPresentation_ImproveThisListingSubsectionWeb":return j(Ul,{model:e});case"WebPresentation_LongTextListSubsection":return j(zl,{model:e,collapse:t,onCollapsedClick:n});case"WebPresentation_MichelinPovSubsection":return j(Kl,{model:e});case"WebPresentation_RelatedLinksSubsection":return j($l,{model:e});case"WebPresentation_SmallTextListSubsection":return j(Jl,{model:e,collapse:t,onCollapsedClick:n});case"WebPresentation_StandaloneInfoSubsection":return j(Zl,{model:e,collapse:t,onCollapsedClick:n});case"WebPresentation_TagCloudAboutSubsection":return j(Xl,{model:e});case"WebPresentation_TextGroupWithIconSubsection":return j(er,{model:e});case"WebPresentation_FaqSubsection":return j(tr,{model:e});case"WebPresentation_WhatToExpectSubsection":return j(nr,{model:e});case"WebPresentation_TooltipSubsection":return j(ir,{model:e});default:return j(P,{typename:e.__typename})}},Tu=e=>"WebPresentation_AwardsAboutSubsection"===(null==e?void 0:e.__typename),ku=e=>(e=>"WebPresentation_ContactSubsection"===(null==e?void 0:e.__typename))(e)?e:null,yu=e=>null!=e&&"WebPresentation_TextGroupWithIconSubsection"===e.__typename,Pu=e=>yu(e)?e:null,Au=e=>(e=>"WebPresentation_TooltipSubsection"===(null==e?void 0:e.__typename))(e)?e:null,Iu=({contents:e})=>j("div",{children:e.map(((e,t)=>j(ar,{model:e},t)))}),Eu=({item:e,initiallyExpanded:t=!1})=>{var n,i,a,[l,r]=s(t),{trackClick:o}=k(),{sectionRefMapping:d}=L(),c=d.get(Ld(e));M(c,((e,t,n)=>{r(!0),e(n)}));var u,m=null!=(n=null==(i=z())?void 0:i.isTextAvailable)&&n,{faqs:p}=$n({itemType:"PRODUCT",limit:4}),v=!(null==p||0===p.length),h=null==(a=e.content)?void 0:a.filter(Boolean).filter((e=>"WebPresentation_WhatToExpectSubsection"!==e.__typename||m)).filter((e=>"WebPresentation_FaqSubsection"!==e.__typename||v));return null==h||0===h.length?null:j(Fn,{ref:c,question:j($e,{model:e.title}),answer:j(Iu,{contents:h}),onExpandCollapseClick:(u=e.trackingKey,e=>{r((e=>!e)),o({clientContext:e?"accordionClose":"accordionOpen",clientParameter:u})}),isExpanded:l})},xu=({model:e})=>{var t,{items:n}=e,[i,{openModal:a,closeModal:l}]=me("freeCancellationDetails");Ve("CANCELLATION_POLICY_OPEN_OVERLAY",a);var[r,o]=Te();d(o,[o]);var c=null==n?void 0:n.filter(Boolean).find((e=>"accordionCancellationPolicy"===e.trackingKey));return Y(Q,{children:[j(Gn,{children:null==n?void 0:n.filter(Boolean).map((e=>j(Eu,{item:e,initiallyExpanded:r&&"accordionInclusions"===e.trackingKey},e.trackingKey)))}),i&&c&&j(rt,{variant:"variable-height",widthOption:"fixed-60",title:c.title&&j($e,{model:c.title}),onClose:l,children:null==(t=c.content)?void 0:t.filter(Boolean).map(((e,t)=>j(ar,{model:e},t)))})]})},Su=({rating:e,numReviews:t,onClick:n})=>{var i,{localize:a}=oe(),l=re(),r=kn(),o=a.string("mobile_reviews_plural",{0:t});return i=0===t?o:[a.string("common_Xof5bubbles",{0:l.formatNumber("one",e)}),o].join(". "),j("a",{href:"#REVIEWS",onClick:n,className:r,children:j(Nt,{rating:e,label:j(Se,{onClick:n,children:j(we,{variant:"body-01",children:o})}),"aria-label":i,size:"medium"})})},Nu=()=>{var e,[t,n]=ke();d(n,[n]);var{productText:i,productTextIsVUC:a}=null!=(e=H(t))?e:{},{trackClick:r}=k(),o=l((()=>{r({clientContext:"open_aboutModal"})}),[r]),c=l((()=>{r({clientContext:"close_aboutModal"})}),[r]);return j(Xn,{productText:i,productTextIsVUC:a,marginTop:"spacing-04",onOpenReadMore:o,onCloseReadMore:c})},Ru="DruqB MK",wu="ljQea k w",Ou="eiUTr",Bu="eRkRJ",Wu=({model:e,container:t})=>{var{labels:n,numberReviews:i,rating:a,socialPromotionalInfo:l,supplierLink:r}=e,{url:o,text:c}=Ue({internalLink:r}),{trackClick:s}=k(),{scrollToSection:u}=L(),m=U(),p="MOBILE"===Ee(),[,v]=he();d((()=>{p||v()}),[v,p]);var h=(null==m?void 0:m.supplierId)&&m.supplierReviews.length>0,g=An(),_=(null==g?void 0:g.MAIN_H1)||null,b=n&&n.length>0,f=!!t,C=b||f?{marginY:"spacing-02"}:{marginBottom:"spacing-02"};return Y("div",{className:Ru,children:[Y("div",{className:wu,children:[j("div",{className:Ou,children:b&&j(ht,{model:n})}),f&&j("div",{className:Bu,children:j(w,{model:t,useSmallIcons:!0})})]}),j(we,{variant:p?"title-03":"title-02",elementType:"h1",dataAttributes:{"data-automation":"mainH1"},...C,children:_}),null!=c&&null!=o&&j(Se,{leftAlign:!0,onClick:e=>{h&&(e.preventDefault(),s({clientContext:"supplier"}),u("WebPresentation_AttractionProductAboutTheOperatorPlaceholder"))},href:o,target:"_blank",children:j(we,{variant:"body-01",children:j($e,{model:c})})}),(null!==a&&null!==i||l)&&Y("div",{className:"JFSZd",children:[null!==a&&null!==i&&j("div",{className:"ssmSR",children:j(rr,{rating:a,numReviews:i,onClick:e=>{e.preventDefault(),s({clientContext:"review"}),u("WebPresentation_PoiReviewsAndQAWeb")}})}),l&&j(In,{model:l,variant:"supporting-01"})]}),j(or,{})]})},Lu=({container:e,reducedDesktopTabletView:t=!1})=>{var n="MOBILE"===Ee(),[i]=ye(),[a]=Pe(),l=(i||"pivots_and_mw_breadcrumbs"===a)&&n,r=!t;return Y("div",{className:Ru,children:[Y("div",{className:wu,children:[j("div",{className:Ou,children:j(we,{variant:"title-05",children:j(le,{id:"phoenix_poi_about_title"})})}),e&&!l&&r&&j("div",{className:Bu,children:j(w,{model:e,useSmallIcons:!0})})]}),j(or,{})]})},Mu=({reducedMobileView:e=!1,reducedDesktopTabletView:t=!1,...n})=>{var i="MOBILE"===Ee();return i&&e?j(Lu,{...n}):!i&&t?j(Lu,{reducedDesktopTabletView:t,...n}):j(Wu,{...n})},Du=({info:e,container:t})=>{var{minimalMobileInfo:n,minimalDesktopTabletInfo:i}=pe();return j(Gu,{model:e,children:j(dr,{model:e,container:t,reducedMobileView:n,reducedDesktopTabletView:i})})},Gu=({model:e,children:t})=>{var{sectionRefMapping:n}=L(),i=e.__typename;return j(ya,{id:Vd(i),ref:n.get(Ld(e)),dataAttributes:{"data-automation":i},fullWidth:!0,collapsedPadding:!0,children:t})},Fu=({primaryList:e,isInlineBooking:t,container:n})=>{var i,a,[l]=Ia(e),[{aboveInfoVariant:r}]=Ae(),o=Ee(),d="DESKTOP"===o,c=r&&"MOBILE"===o,s=l("PRODUCT_INFO"),u=l("PRODUCT_COMMERCE"),m=l("PRODUCT_NO_COMMERCE"),p=l("PRODUCT_KEY_DETAILS"),v=l("PRODUCT_HIGHLIGHTS"),h=l("PRODUCT_AWARDS"),g=l("PRODUCT_ACCORDION"),_=l("PRODUCT_VALUE_PROP"),b=Pd(u)&&j(Gu,{model:u,children:j(kl,{model:u})}),f="WebPresentation_ProductKeyDetailsSection"===(null==(i=_)?void 0:i.__typename)&&j(Gu,{model:_,children:j(Al,{model:_})});return Y("div",{className:"IsYTu A",children:[yd(s)&&!c&&j(Du,{info:s,container:n}),d?f:b,yd(s)&&c&&j(Du,{info:s,container:n}),(a=m,"WebPresentation_ProductAboveTheFoldNoCommerce"===(null==a?void 0:a.__typename)&&!t&&j(Gu,{model:m,children:j(yl,{model:m})})),d?b:f,xd(p)&&j(Gu,{model:p,children:j(El,{model:p})}),Ad(v)&&j(Gu,{model:v,children:j(xl,{model:v})}),Id(h)&&j(Gu,{model:h,children:j(Ml,{model:h})}),Ed(g)&&j(Gu,{model:g,children:j(lr,{model:g})})]})},Uu=({model:e,container:t})=>{var{hero:n,primaryList:i}=e,{sectionRefMapping:a}=L(),l=a.get(e.__typename),r=(null==i?void 0:i.filter(Boolean))||[];return j(ya,{id:Vd(e.__typename),ref:l,dataAttributes:{"data-automation":e.__typename},collapsedPadding:!0,children:Y("div",{className:"QynDH",children:[j("div",{className:"JlKmO A",children:j(te,{component:ie.mediaviewer,children:n&&j(Z,{model:n,sticky:!0})})}),j(cr,{primaryList:r,container:t})]})})},Vu=({model:e})=>{var t=se(),n=li(t)?"title-04":"expressive-display-07";return"WebPresentation_ImageBackgroundCard"===e.__typename?j(ai,{model:e,textVariant:n}):j(P,{typename:e.__typename})},zu=({model:e})=>{var{content:t,seeAllV2:n,sponsoredBy:i,subtitle:a,narrowCardsCarouselTitle:l,trackingTitle:r}=e,{trackClick:o}=k(),{url:d,text:c,trackingContext:s}=Ue({internalLink:n});return j(ii,{title:l&&j($e,{model:l}),subtitle:a&&j($e,{model:a}),sponsor:i&&j($e,{model:i}),link:{title:c?j($e,{model:c}):null,href:d,onClick:()=>{o({clientContext:s})}},children:j(ni,{size:"narrow",onEachScrollEnd:e=>{o({clientContext:"scrollShelfCarousel",clientParameter:JSON.stringify({trackingTitle:r,scrollDirection:e})})},children:t&&t.filter(Boolean).map(((e,t)=>{var n;return e&&null!==(null==(n=e.title)?void 0:n.text)&&j(ur,{model:e},t)})).filter(Boolean)})})},Hu=({model:e})=>"WebPresentation_VerticalMerchandisingCardWeb"===e.__typename?j(di,{model:e}):j(P,{typename:e.__typename}),Ku=({model:e})=>{var{content:t}=e,{trackClick:n}=k({clientContext:"shelfScroll"});return t&&j(ni,{size:"medium",onScrolled:n,children:t.map((e=>{var t;return e&&j(pr,{model:e},null==(t=e.saveId)?void 0:t.id)}))})},qu=({model:e})=>{var{activeTabIndex:t,clusterId:i,sectionTitle:a,showMore:l,tabs:r}=e,{url:o,text:d,trackingContext:c}=l?ze(l):{},{trackClick:s}=k(),[u,m]=n.useState(null!==t?t:0),p=n.useCallback((()=>{s({clientContext:c})}),[s,c]),v=n.useCallback((e=>{m(e),s({clientContext:"tabClick",clientParameter:e.toString()})}),[m,s]),h=null!=i?i:"TabbedSectionWeb",g=e=>`${h}-tab-${String(e)}`,_=e=>`${h}-tabpanel-${String(e)}`,b=r&&j(ri,{value:u,onChange:v,children:r.filter(Boolean).map((({title:e},t)=>j(oi,{value:t,id:g(t),ariaControls:_(t),children:e&&j($e,{model:e})},t)))});return Y(Q,{children:[Y("div",{className:"f k O",children:[a&&j(we,{variant:"title-03",marginBottom:"spacing-01",children:j($e,{model:a})}),null!=o&&d&&j("div",{className:"I",children:j(Se,{href:o,onClick:p,target:"_blank",children:j($e,{model:d})})})]}),j(te,{component:ie.shelf,children:r&&Y(Q,{children:[b,j("div",{className:"AZGsL Mk",children:r.filter(Boolean).map(((e,t)=>j("div",{role:"tabpanel",id:_(t),"aria-labelledby":g(t),className:t!==u?"kjMnt U w":void 0,children:j(vr,{model:e})},t)))})]})})]})},ju="qCIJU",Yu=({model:e,variant:t,displayType:n})=>{var{cardLink:i,cardTitle:a,cardPhoto:l,primaryInfo:r}=e,o="DESKTOP"===Ee(),d=Ue({internalOrExternalLink:i}),c=_i(l),s=hi(c,200,200),u="minimal"===t||"minimal-border"===t&&o?1:3,m=gi("newTabDesktop"),{trackClick:p}=k();return null!=a&&a.text&&null!=d&&d.url&&s?j(ln,{theme:"none",href:d.url,target:m,onClick:()=>{p({clientContext:d.trackingContext||"card",clientParameter:"CategoryPivotCard"})},display:n,children:Y("div",{className:$({"IWOSw Fi":"minimal"===t,"KppXz Fi Pi PW Pv PI Gi Z B1 BF":"minimal-border"===t}),children:[j(rn,{theme:"image",children:j("div",{className:ju,children:j("img",{src:s.url,alt:a.text,className:ju})})}),Y("div",{className:"HQlAc e j",children:[j(rn,{theme:"standalone",children:j(we,{variant:"title-04",color:"inherit",lineClamp:u,children:j("span",{className:"_a",children:a.text})})}),null!=r&&j("div",{className:"FpwlD",children:j(we,{variant:"supporting-01",lineClamp:2,children:j("span",{className:"_a",children:r.text})})}),j("div",{className:"bjkuT",children:j(pi,{size:24})})]})]})}):null},Qu=({model:e})=>"WebPresentation_CategoryMinimalCardWeb"===e.__typename?j(gr,{model:e,variant:"minimal-border"}):j(P,{typename:e.__typename}),$u=({model:e})=>{var{content:t,title:n}=e,i="MOBILE"===Ee(),[a,r]=Pe(),{funnelKey:c}=o(Pt),{page:s}=gn(),u=_n(),m=Je(),p=mi(),v=ui(),h=n?j($e,{model:n}):null,g=i?"title-04":"title-03",_=i&&"pivots_and_mw_breadcrumbs"===a,b=_?{paddingBottom:"var(--spacing-04)"}:{paddingBottom:"var(--spacing-05)"};d((()=>{r()}),[r]);var f=l((()=>{v({externalKey:c,itemName:"CategoryPivotsCarousel",itemType:"categoryPivotsCarouselTag",page:s,pageUid:u,sessionId:m,team:"Attractions",userId:p})}),[v,c,s,u,m,p]),C=Ut(f),T=t&&t.map((e=>{var t;return"WebPresentation_CategoryMinimalCardWeb"===(null==e?void 0:e.__typename)&&(null==e||null==(t=e.cardTitle)?void 0:t.text)&&(null==e?void 0:e.cardLink)&&(null==e?void 0:e.cardPhoto)&&j("div",{className:"METKN Fg I",children:j(_r,{model:e})},e.trackingTitle)})).filter(Boolean);return n&&T&&3===T.length?Y("div",{className:"qiRAC",style:b,ref:C,children:[!_&&j(we,{variant:g,marginBottom:"spacing-03",children:h}),j("div",{className:"PwZsJ z f",children:T})]}):null},Ju=({model:e})=>{var{link:t,omnibusVariant:n}=e;if(!t||!n)return null;var{url:i}=Ue({internalOrExternalLink:t});return j(bi,{omnibusVariant:n,serviceLink:null!=i?i:""})};function Zu(){var e=K(),t=q();return e||t?j(an,{children:j(g,{children:j(Cr,{productItinerary:e,mdtProductItinerary:t})})}):null}var Xu=({model:{photoCTA:e,reviewCTA:t,sectionTitle:n}})=>{var{trackClick:i}=k(),{logInteraction:l,logImpression:r}=ki(),{writeUserReviewUrl:o}=Pi(),{localize:c}=oe(),{params:s}=gn(),u="geoId"in s?s.geoId:0,m=yi(),p=a((()=>[t,e].map(((e,t)=>{var{url:n,text:i,trackingContext:a="contributeCTA"}=Ue({internalLink:e});return null==i||null==n?null:{name:["reviewCTA","photoCTA"][t],url:0===t&&o||n,text:i,trackingContext:a}})).filter(Boolean)),[e,t,o]);return d((()=>{p.some((e=>"reviewCTA"===e.name))&&r("POI_WRITE_REVIEW_SECTION",!0,{customData:{geoId:u}})}),[p,r,u]),Y(Q,{children:[n&&j(we,{variant:"title-03",marginBottom:"spacing-04",children:j($e,{model:n})}),j("div",{className:"Alxev",children:p.map((({name:e,url:t,text:n,trackingContext:a})=>j(xe,{variant:"secondary",href:t,onClick:()=>{"reviewCTA"===e&&l("POI_WRITE_REVIEW_SECTION",!1,{customData:{geoId:u}}),i({clientContext:a})},marginBottom:"spacing-02",marginRight:"spacing-02",children:"reviewCTA"===e&&m?c.string("attractions_community_content_cta_finish_your_review"):j($e,{model:n})},e)))})]})},em=({model:e})=>{var{day:t,intervals:n}=e;return((null==n?void 0:n.length)||0)>0?Y("div",{className:"XZfLa",children:[j(we,{variant:"body-01",elementType:"span",children:j($e,{model:t})}),j("div",{className:"ybcTv e",children:null==n?void 0:n.map(((e,t)=>j(we,{variant:"body-01",children:e},t)))})]}):null},tm=({model:e,onClose:t})=>{var{fullScheduleTitle:n,fullSchedule:i,servingTitle:a,servingText:l}=e;return j(rt,{onClose:t,children:Y("div",{className:Mt({marginBottom:"spacing-08"}),children:[n&&j(we,{variant:"title-01",marginBottom:"spacing-05",children:j($e,{model:n})}),null==i?void 0:i.filter(Boolean).map(((e,t)=>j(kr,{model:e},t))),a&&l&&Y(Q,{children:[j(we,{variant:"title-01",children:j($e,{model:a})}),j(we,{variant:"body-01",children:j(on,{model:l})})]})]})})},nm=({todayTitle:e,todaySchedule:t})=>Y("div",{children:[e&&j(we,{variant:"title-05",children:j($e,{model:e})}),t&&t.length>0&&j(we,{variant:"body-01",children:t.filter(Boolean).map(((e,t)=>Y(v,{children:[0!==t&&", ",j($e,{model:e})]},t)))})]}),im=({todayTitle:e,todaySchedule:t,onClick:n})=>{var{localize:i}=oe();return j("div",{className:"EIVzV u",children:Y(we,{variant:"title-05",color:"secondaryText",children:[e&&(n?j(Se,{onClick:n,ariaAttributes:{"aria-label":i.string("open_hours_details")},children:j($e,{model:e})}):j($e,{model:e})),t&&t.length>0&&j("span",{className:"EFKKt",children:t.filter(Boolean).map(((e,t)=>Y(v,{children:[0!==t&&", ",j($e,{model:e})]},t)))})]})})},am=({model:e})=>{var{todayTitle:t,todaySchedule:n,fullSchedule:i}=e,l=Ee(),{localize:r}=oe(),[o,{openModal:d,closeModal:c}]=me("openHours"),s="MOBILE"===l,u=a((()=>((null==i?void 0:i.filter(Boolean).length)||0)>0),[i]),m=u?d:void 0,p=u&&s?j(pi,{size:24}):null,v=s?j(Pr,{todayTitle:t,todaySchedule:n}):j(Ar,{todayTitle:t,todaySchedule:n,onClick:m}),h=s&&u?"button":"div",g=s&&u?{"aria-label":r.string("open_hours_details"),onClick:m}:{};return Y(Q,{children:[Y(h,{className:"LdRjT u",...g,children:[v,p]}),u&&Y(Q,{children:[o&&j(yr,{model:e,onClose:c}),j("div",{className:"iAVRx",children:null==i?void 0:i.filter(Boolean).map(((e,t)=>j(kr,{model:e},t)))})]})]})},lm=({model:e})=>{var{poiHours:t}=e;return"MOBILE"===Ee()&&t?j(Ir,{model:t}):null},rm=()=>{var{page:e,params:t}=gn();return-1===["Hotel_Review","Restaurant_Review"].indexOf(e)||null==t.detailId?null:j(Ai,{locationId:t.detailId})},om="fZIel",dm=({model:e})=>{var{sectionTitle:t,sectionDescription:n,improveThisListingRoute:i}=e,a="MOBILE"===Ee(),r=i?ze(i):null,{trackClick:o}=k({clientContext:null==r?void 0:r.trackingContext}),d=l((()=>{o()}),[o]),{params:c,page:s}=gn(),u="detailId"in c&&c.detailId?c.detailId:void 0,m="geoId"in c&&c.geoId?c.geoId:void 0;return Y("div",{className:"nWuhW",children:[Y("div",{className:om,children:[t&&j(we,{variant:"title-05",children:j($e,{model:t})}),n&&j(we,{variant:"body-01",marginTop:"spacing-01",children:j($e,{model:n})}),(null==r?void 0:r.text)&&null!==r.url&&j(zn,{scope:{saItemName:"AttractionAboutWebSection",saItemType:"improveThisListing",pageGeoId:m,pageLocationId:u,pageName:s,scopeType:"standalone",team:"Attractions"},children:j(xe,{href:r.url,variant:"secondary",size:"large",fullWidth:a,marginTop:"spacing-04",onClick:d,children:j($e,{model:r.text})})})]}),j("div",{className:om,children:j(xr,{})})]})},cm="kUaIL",sm="aVUMb",um=({model:e})=>{var{contactLinks:t,numberReviews:n,poiHoursOverview:i,rating:a,rankingDetails:l,supplierLink:r,tags:o}=e,{page:c,params:s}=gn(),u="geoId"in s?s.geoId:0,{collapseOverview:m}=pe(),{localize:p}=oe(),{browser:v}=Hn(),h=Ee(),{logImpression:g,logInteraction:_}=ki(),{writeUserReviewUrl:b}=Pi(),{trackClick:f}=k(),{sectionRefMapping:C,scrollToSection:T}=L(),y=C.get("WebPresentation_PoiReviewsAndQAWeb"),P="MOBILE"!==h,A="IE"===v.family,{url:I,text:E}=Ue({internalLink:r}),{url:x,text:S,trackingContext:N}=Ue({internalLink:l}),R="AttractionProductReview"!==c&&b,w=null!=E&&null!=I,O=(a||0)>0&&(n||0)>0,B=(null==o?void 0:o.text)||!1,W=((null==t?void 0:t.length)||0)>0,M=O||null!=S&&null!=x||B||w,D=W||P&&null!=i||R,G=M||D,F=re();return d((()=>{R&&g("POI_WRITE_REVIEW_HEADER",!0,{customData:{geoId:u}})}),[g,R,u]),G?Y("div",{className:"IuzAT e",children:[M&&Y("div",{className:sm,children:[O&&null!==a&&null!==n&&j("div",{className:cm,children:j(ln,{theme:"standalone",onClick:e=>{e.preventDefault(),f({clientContext:"review"}),T(y)},href:"#REVIEWS",children:j(Nt,{rating:a,label:j("span",{className:"KAVFZ",children:p("mobile_reviews_plural",{0:n})}),"aria-label":[p.string("common_Xof5bubbles",{0:F.formatNumber("one",a)}),p.string("mobile_reviews_plural",{0:n})].join(". ")})})}),null!=S&&null!=x&&j("div",{className:cm,children:j(ln,{theme:"standalone",href:x,onClick:()=>f({clientContext:N}),children:j(we,{variant:"body-01",children:j($e,{model:S})})})}),B&&null!=(null==o?void 0:o.text)&&j("div",{className:cm,children:j(we,{variant:"body-01",children:j(Gt,{numLinesToShow:P?1:2,webkitLineClamp:!A,ctaHiddenInitially:!0,collapsed:m,children:o.text})})}),null!=E&&null!=I&&j("div",{className:cm,children:j(Se,{href:I,target:"_blank",leftAlign:!0,children:j(we,{variant:"body-01",children:j($e,{model:E})})})})]}),D&&Y("div",{className:sm,children:[P&&i&&j(Ir,{model:i}),(W||R)&&Y("div",{className:"WoBiw K",children:[null==t?void 0:t.filter(Boolean).map(((e,t)=>j(Un,{model:e},t))),R&&j(Se,{href:b,onClick:()=>{_("POI_WRITE_REVIEW_HEADER",!1,{customData:{geoId:u}})},children:p("attractions_community_content_cta_write_a_review")})]})]})]}):null},mm=e=>{if(e){var{url:t}=ze(e);return t}return null},pm=e=>{if(e){var{updateToken:t}=Fe(e);return t}return null},vm=({model:e,onUpdateTokenChange:t})=>{var n=bn(),{links:i}=e,r=parseInt(e.limit,10),o=(parseInt(e.currentPageNumber,10)-1)*r,d=parseInt(e.totalResults,10),{trackClick:c}=k(),{sectionRefMapping:s,scrollToSection:u}=L(),m=s.get("WebPresentation_PoiReviewsAndQAWeb"),p=a((()=>i?new Map(i.map((e=>null==(null==e?void 0:e.pageNumber)||isNaN(parseInt(e.pageNumber,10))?null:[parseInt(e.pageNumber,10),{url:mm(e.internalLink),updateToken:pm(e.updateLink)}])).filter(Boolean)):new Map),[i]),v=l((e=>{var t,n;return null!=(t=null==(n=p.get(e.pageNumber))?void 0:n.url)?t:"#"}),[p]),h=l((e=>{var t;return null==(t=p.get(e.pageNumber))?void 0:t.updateToken}),[p]),g=l(((e,i)=>{i.preventDefault(),c({clientContext:"paginate"});var a=h(e);if(a){t(a);var l=v(e);if(l){var r=fn(l);r&&n(r,"IN_PLACE")}u(m)}}),[c,t,n,h,v,m,u]);return isNaN(o)||o<0||!d?null:j(Ei,{offset:o,limit:r,total:d,onClick:g,getUrl:v,hideLastLink:!0})},hm=({model:e,onUpdateTokenChange:t})=>{var{primaryButton:n,tooltip:i}=e,{text:a,url:l,updateToken:r}=je(n);return Y("div",{className:"f k u",children:[i&&j(Wn,{model:i}),a&&null!=r&&t?j(xe,{onClick:()=>t(r),variant:"primary",size:"small",children:j($e,{model:a})}):a&&null!=l&&j(xe,{href:l,variant:"primary",size:"small",children:j($e,{model:a})})]})},gm=({model:e,answer:t=!1})=>{var{memberProfile:n,text:i}=e;return Y(Q,{children:[n&&j("div",{className:t?"AVZra":"vgzIc",children:j(Ni,{model:n})}),null!=i&&j(we,{variant:"supporting-01",marginBottom:"spacing-04",children:i})]})},_m=({model:e})=>{var{question:t,topAnswer:n,allAnswerLink:i}=e,{trackClick:a}=k(),{text:l,url:r,trackingContext:o}=Ue({internalLink:i});return Y("div",{className:"rckub",children:[t&&j(Or,{model:t}),n&&j("div",{className:"VvAyq PJ",children:j(Or,{model:n,answer:!0})}),null!=l&&null!=r&&j("div",{className:"WpoRo NM",children:j(Se,{variant:"accent",href:r,target:"_blank",onClick:()=>{a({clientContext:o})},children:j($e,{model:l})})})]})},bm=({model:{ctaList:e,noContentText:t}})=>{var{trackClick:n}=k(),{writeUserReviewUrl:i}=Pi(),{params:l}=gn(),r="geoId"in l?l.geoId:0,{logInteraction:o,logImpression:c}=ki(),s=a((()=>(null==e?void 0:e.map((e=>{var t,n,{url:a,text:l,trackingContext:r="noContentCtas"}=Ue({internalLink:e});return null==l||null==a?null:{page:null==e||null==(t=e.webRoute)?void 0:t.page,url:"UserReview"===(null==e||null==(n=e.webRoute)?void 0:n.page)&&i||a,text:l,trackingContext:r}})).filter(Boolean))||[]),[e,i]);return d((()=>{s.some((e=>"UserReview"===(null==e?void 0:e.page)))&&c("POI_WRITE_REVIEW_SECTION",!0,{customData:{geoId:r}})}),[s,c,r]),j("div",{className:"WpEnN c",children:Y("div",{className:"zYjpJ",children:[t&&j("div",{className:"QDndx",children:j(we,{variant:"title-02",children:j($e,{model:t})})}),j("div",{className:"CsVjo f",children:s.map((({page:e,url:t,text:i,trackingContext:a})=>j("span",{className:"XKZEH",children:j(xe,{variant:"UserReview"===e?"primary":"secondary",size:"large",href:t,onClick:()=>{"UserReview"===e&&o("POI_WRITE_REVIEW_SECTION",!1,{customData:{geoId:r}}),n({clientContext:a})},children:j($e,{model:i})})},t)))})]})})},fm=({initialSearchQuery:e,onSubmit:t,debounceTime:i=2e3,...a})=>{var{localize:l}=oe(),[r,o]=n.useState(e),d=Ri((e=>{null!=e&&t(e)}),i);return n.useEffect((()=>{o(e)}),[e]),j("form",{className:Lt(Mt(a)),onSubmit:e=>{e.preventDefault(),null!=r&&t(r)},children:j(wi,{size:"medium",placeholder:l.string("sng_search_reviews"),onChange:e=>{d(e.currentTarget.value),o(e.currentTarget.value)},onClear:()=>{o(""),t("")},value:r||"",searchButtonType:"submit"})})},Cm=({popularMentions:e,onPopularMentionToggle:t,currentlySelected:i=[],...a})=>{var{localize:l}=oe(),r=n.useMemo((()=>e.filter(Boolean).map((e=>({chipContent:e,keyValue:e,active:i.includes(e)})))),[e,i]),[o,d]=n.useState(r);return n.useEffect((()=>{d(r)}),[r]),o&&o.length>0?Y("div",{className:Lt(Mt(a)),children:[j(we,{variant:"title-05",children:l("community_popular_mentions")}),j(Oi,{chipsData:o,onChange:e=>{var n=o.map((t=>({...t,active:t.keyValue===e?!t.active:t.active})));d(n),t(n.filter((e=>e.active)).map((e=>e.keyValue)))},displayOptions:{singleLineScrollMobile:!0,lineLimit:3},variant:"button",marginTop:"spacing-02"})]}):null},Tm=e=>e.filter(Boolean).map((e=>{var t={id:e.name};switch(e.__typename){case"WebPresentation_MultiValueFilter":case"WebPresentation_EnumeratedValueFilter":return t.value=e.values?e.values.filter(Boolean).filter((e=>e.isSelected)).map((e=>e.value)):void 0,t;default:return console.error("Using unsupported filter:",e.__typename),t}})),km=e=>{switch(e.__typename){case"WebPresentation_SimpleTextFilterValue":return e.simpleText||"";case"WebPresentation_BubbleRatingFilterValue":return String(e.minimumRatingValue);default:return console.error(`[Fusion] ${e.__typename} is an incorrect FilterValueObjectFragment used in SingleSelectFilterGroup menu`),""}},ym=({filterValue:e,tooltip:t,onFilterChange:n})=>Y("span",{className:"f",children:[j(xt,{selected:e.isSelected,onClick:()=>n(e.value),children:e.object&&`${km(e.object)}`}),t&&j("span",{className:"Vt",children:j(Wn,{model:t})})]}),Pm=({filter:e,name:t,onFilterChange:n,onOpen:i})=>{var l,r=re(),o=a((()=>{var t;return(null==(t=e.values)?void 0:t.filter(Boolean).filter((e=>null!==e.object)).map((e=>({displayName:`${km(e.object)}`,value:e.value,trailingInfo:null!=e.count?`(${r.formatNumber("integer",e.count)})`:void 0}))))||[]}),[e,r]),d=null==(l=e.values)?void 0:l.filter(Boolean).find((e=>!0===e.isSelected));return 0===o.length?null:Y("div",{className:"f Nj",children:[j(Wi,{options:o,menuVariant:"trailing-top-caret",label:t,placeholder:t,value:null==d?void 0:d.value,onChange:n,onOpen:()=>i(null==e.title?"language":e.title),trigger:"chip",fullscreenMobile:!0}),e.tooltip&&j(Ln,{model:e.tooltip})]})},Am=({model:{filter:e,name:t},onFilterChange:n})=>{var i,a,[r,o]=s(e),[d]=s(e),{trackClick:c}=k(),u=void 0!==(null==d||null==(i=d.values)?void 0:i.filter(Boolean).find((e=>!0===e.isSelected))),m=l((e=>{if(r){var t=((e,t,n)=>({...e,values:e.values&&e.values.filter(Boolean).map((e=>({...e,isSelected:n?e.value===t:e.value===t&&!e.isSelected})))||[]}))(r,e,u),i=null==t.title?"filter":t.title;c({clientContext:`select${i}`,clientParameter:e}),n&&t&&(n(Tm([t])),o(t))}}),[n,o,u,r,c]),p=l((e=>{c({clientContext:`${e}Filter`})}),[c]),v=null==r||null==(a=r.values)?void 0:a.filter(Boolean);return 1!==(null==v?void 0:v.length)||u?r&&null!==t&&j(Gr,{filter:r,name:t,onFilterChange:m,onOpen:p}):v[0]&&j(Dr,{filterValue:v[0],tooltip:null==r?void 0:r.tooltip,onFilterChange:m})},Im=({model:e})=>{var{minimumRatingValue:t,typeName:n}=e;return t&&j(Rt,{rating:t/10})},Em=({model:e})=>{var{simpleText:t,typeName:n}=e;return j(we,{variant:"body-01",elementType:"span",children:t})},xm=({model:e})=>{switch(e.__typename){case"WebPresentation_BubbleRatingFilterValue":return j(Ur,{model:e});case"WebPresentation_SimpleTextFilterValue":return j(Vr,{model:e});default:return j(P,{typename:e.__typename})}},Sm=({model:{count:e,object:t}})=>{var n=re();return Y("div",{children:[t&&j(zr,{model:t}),null!==e&&Y(we,{elementType:"span",variant:"body-01",marginLeft:"spacing-02",children:["(",n.formatNumber("integer",e),")"]})]})},Nm=({model:e,onFilterChange:t})=>{var{title:n,values:i,tooltip:a}=e,{localize:r}=oe(),o=l((n=>{if(t&&e.values){if(null===n)return void t();t({...e,values:e.values.filter(Boolean).map((e=>({...e,isSelected:e.value===n})))})}}),[t,e]);if(null===i||0===i.length)return null;var d=i.filter(Boolean).find((e=>!0===e.isSelected)),c=i.filter(Boolean).map((e=>{var t=null!==e.selectedAccessibilityString&&null!==e.selectedAccessibilityString.text?e.selectedAccessibilityString.text:r.string("sng_deselect_filter"),n=null!==e.unselectedAccessibilityString&&null!==e.unselectedAccessibilityString.text?e.unselectedAccessibilityString.text:r.string("sng_select_filter");return{chipContent:j(Hr,{model:e}),ariaLabel:e.isSelected?t:n,keyValue:`${e.value}`}}));return Y(Q,{children:[Y("div",{className:"f",children:[j(we,{variant:"title-04",marginY:"spacing-03",children:n}),a&&j(Wn,{model:a})]}),j(Bi,{chipsData:c,selectedValue:null==d?void 0:d.value,onChange:e=>o(e)})]})},Rm=({model:e,onFilterChange:t})=>{var{title:n,values:i}=e,{localize:a}=oe(),r=l((n=>{t&&e.values&&t({...e,values:e.values.filter(Boolean).map((e=>({...e,isSelected:e.value===n.value?!e.isSelected:e.isSelected})))})}),[t,e]);return null!==i&&0!==i.length&&i.filter(Boolean).some((e=>null!==e.object))?Y(Q,{children:[j(we,{variant:"title-04",marginY:"spacing-03",children:n}),i.filter(Boolean).map((e=>{var t=e.selectedAccessibilityString&&e.selectedAccessibilityString.text?e.selectedAccessibilityString.text:a.string("sng_deselect_filter"),n=e.unselectedAccessibilityString&&e.unselectedAccessibilityString.text?e.unselectedAccessibilityString.text:a.string("sng_select_filter");return j(xt,{"aria-label":e.isSelected?t:n,selected:e.isSelected,disabled:0===e.count,onClick:()=>r(e),marginRight:"spacing-02",marginTop:"spacing-01",marginBottom:"spacing-01",children:j(Hr,{model:e})},e.value)}))]}):null},wm=({model:e,onFilterChange:t})=>{switch(e.__typename){case"WebPresentation_MultiValueFilter":return j(qr,{model:e,onFilterChange:t});case"WebPresentation_EnumeratedValueFilter":return j(Kr,{model:e,onFilterChange:t});default:return j(P,{typename:e.__typename})}},Om=({model:e,onFilterChange:t,onFilterClear:n,filterModalOpen:i,setFilterModalOpen:a})=>{var{filters:r,name:o,tooltip:c}=e,[u,m]=s(null===r?[]:r),{localize:p}=oe(),{trackClick:v}=k();d((()=>{m(null===r?[]:r)}),[r]);var h,g=l((()=>{a(!1);var e=Tm(u);t&&t(e),v({clientContext:"applyFilters",clientParameter:JSON.stringify(e)})}),[v,t,u,a]),_=l((()=>{a(!1),v({clientContext:"closeFilterModal"}),t&&t(Tm(u))}),[v,t,u,a]),b=l((()=>{v({clientContext:"resetFilters"}),n&&(m(u.filter(Boolean).map((e=>{var t={...e};switch(e.__typename){case"WebPresentation_MultiValueFilter":case"WebPresentation_EnumeratedValueFilter":return t.values=e.values?e.values.filter(Boolean).map((e=>{var t={...e};return t.isSelected=!1,t})):null,t;default:return console.error("Using unsupported filter:",e.__typename),null}}))),n(u.filter(Boolean).map((e=>e.name))),a(!1))}),[v,n,u,m,a]),f=e=>{if(v({clientContext:"selectFilter"}),e){var t=u.filter(Boolean).map((t=>t.name===e.name?e:t));m(t)}},C=(h=0,u.filter(Boolean).forEach((e=>{switch(e.__typename){case"WebPresentation_EnumeratedValueFilter":case"WebPresentation_MultiValueFilter":e.values&&(h+=e.values.map((e=>e&&e.isSelected?1:0)).reduce(((e,t)=>e+t),0));break;default:console.error("Using unsupported filter:",e.__typename)}})),h);return Y(Q,{children:[Y(xt,{"aria-label":i?p.string("sng_click_to_close_filter"):p.string("sng_click_to_open_filter"),onClick:()=>{v({clientContext:"filterChip"}),a(!0)},selected:C>0,marginRight:"spacing-02",children:[o,C>0&&j("span",{className:"oKsxY",children:C})]}),i&&j(rt,{title:p("filter_reviews"),onClose:_,variant:"fixed-height-sticky-footer",primaryButton:j(xe,{onClick:g,children:j(le,{id:"sng_fusion_list_filters_modal_apply"})}),secondaryButton:j(Se,{variant:"accent",onClick:b,children:j(le,{id:"sng_fusion_list_filters_modal_reset"})}),buttonsAlignment:"space-between",children:u&&u.map(((e,t)=>e&&j(jr,{model:e,onFilterChange:f},t)))}),c&&j(Wn,{model:c})]})},Bm=({model:e,onFilterChange:t,onFilterClear:n,filterModalOpen:i,setFilterModalOpen:a})=>{switch(e.__typename){case"WebPresentation_SingleSelectFilterGroup":return j(Fr,{model:e,onFilterChange:t});case"WebPresentation_StandardFilterGroup":return j(Yr,{model:e,onFilterChange:t,onFilterClear:n,filterModalOpen:i,setFilterModalOpen:a});default:return j(P,{typename:e.__typename})}},Wm=({model:e,onFilterChange:t,onFilterClear:n,filterModalOpen:i,setFilterModalOpen:a,...l})=>{var{availableFilterGroups:r}=e;return j("div",{className:Lt(Mt(l),"yUtWQ _T"),children:j("div",{className:Lt(Mt(l),"UDHpd f u G"),children:r&&r.map((e=>e&&j(Qr,{model:e,onFilterChange:t,onFilterClear:n,filterModalOpen:i,setFilterModalOpen:a},e.name)))})})},Lm=(e,t)=>{var n,i;return(null==e||null==(n=e.find((e=>(null==e?void 0:e.inputKey)===t)))||null==(i=n.inputValues)?void 0:i.filter(Boolean))||[]},Mm=({model:e,filterModalOpen:t,setFilterModalOpen:n})=>{var{filterResponse:i,keywords:a,searchFilterId:l}=e,{state:{clientState:r},actions:{updateReviewFiltersAndNavigate:o,removeReviewFiltersAndNavigate:d}}=xi(),{trackClick:c}=k();return Y("div",{className:"VwjDI",children:[j("div",{className:"Jscab",children:j(Lr,{onSubmit:e=>{null!==l&&(o([{inputKey:l,inputValues:[e]}]),c({clientContext:"search",clientParameter:e}))},initialSearchQuery:Lm(null==r?void 0:r.userInput,l).join(", "),debounceTime:500})}),i&&j("div",{className:"JEtPQ",children:j($r,{model:i,filterModalOpen:t,setFilterModalOpen:n,onFilterChange:e=>{if(null!==l){var t=e.filter(Boolean).map((e=>({inputKey:e.id,inputValues:e.value})));o(t)}},onFilterClear:d})}),a&&j(Mr,{popularMentions:a,currentlySelected:Lm(null==r?void 0:r.userInput,l),onPopularMentionToggle:e=>{c({clientContext:"popularMention",clientParameter:e.join("_")}),o([{inputKey:l,inputValues:e}])}})]})},Dm=({model:{filterResetLink:e,message:t}})=>{var{actions:{resetReviewFiltersAndNavigate:n}}=xi(),{trackClick:i}=k(),a=e?ze(e):null;return Y(Q,{children:[null!==t&&j(we,{variant:"body-01",children:j($e,{model:t})}),(null==a?void 0:a.text)&&j(Se,{onClick:()=>{i({clientContext:null!==a.trackingContext&&""!==a.trackingContext?a.trackingContext:"resetReviewFilters"}),n()},marginTop:"spacing-03",children:j($e,{model:a.text})})]})},Gm=({model:{count:e,isSelected:t,label:n,percentage:i}})=>null!==i&&n&&e&&j(Li,{ratingRatio:i/100,label:j($e,{model:n}),ratingCountLabel:j($e,{model:e}),isSelected:t||!1}),Fm=({model:{averageBar:e,excellentBar:t,poorBar:n,terribleBar:i,veryGoodBar:a},onClick:l})=>{var r=kn(),{localize:o}=oe(),d=l?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l())}:void 0,c={onClick:l,onKeyPress:d,...l?{tabIndex:0,"aria-label":o.string("filter_reviews"),className:$("_S",r)}:void 0};return Y("div",{...c,children:[t&&j(Xr,{model:t}),a&&j(Xr,{model:a}),e&&j(Xr,{model:e}),n&&j(Xr,{model:n}),i&&j(Xr,{model:i})]})},Um=({model:e})=>j("div",{className:"wps-component",children:j(Mn,{message:"WebPresentation_AttractionSubRating",jira:"TODO",valueToDump:e})}),Vm=({rating:e,subRatingLabel:t})=>Y("div",{children:[Y("div",{className:"BQeot f",children:[j("span",{className:"Ni",children:j(Mi,{color:"bubbleIcon",size:16})}),j(we,{variant:"title-05",elementType:"span",children:Math.round(2*e)/2})]}),j(we,{variant:"body-01",children:t})]}),zm=({model:{data:e}})=>(null==e?void 0:e.subRatings)&&Y("div",{className:"Zfbcd f u",children:[null!==e.subRatings.location&&j(Vm,{rating:e.subRatings.location,subRatingLabel:j(le,{id:"ur_question.prompt.47"})}),null!==e.subRatings.cleanliness&&j(Vm,{rating:e.subRatings.cleanliness,subRatingLabel:j(le,{id:"ur_question.prompt.14"})}),null!==e.subRatings.service&&j(Vm,{rating:e.subRatings.service,subRatingLabel:j(le,{id:"rd_userrating.prompt.12"})}),null!==e.subRatings.value&&j(Vm,{rating:e.subRatings.value,subRatingLabel:j(le,{id:"ur_question.prompt.13"})})]})||null,Hm=({model:e})=>j("div",{className:"wps-component",children:j(Mn,{message:"WebPresentation_RestaurantSubRating",jira:"TODO",valueToDump:e})}),Km=({model:e})=>{switch(e.__typename){case"WebPresentation_AttractionSubRating":return j(to,{model:e});case"WebPresentation_HotelSubRating":return j(no,{model:e});case"WebPresentation_RestaurantSubRating":return j(io,{model:e});default:return j(P,{typename:e.__typename})}},qm=({model:e,onClick:t})=>{var{rating:n,ratingCounts:i,reviewCountText:a,subRatings:l,tooltip:r}=e,o=a&&j($e,{model:a});return Y("div",{className:"yFKLG",children:[r&&j("div",{className:"Px",children:j(Wn,{model:r})}),j(Di,{typographyVariant:"supporting-01",iconSize:16,marginBottom:"spacing-04"}),Y("div",{className:"f u j",children:[null!==n&&j(we,{variant:"title-03",marginRight:"spacing-02",children:n.toFixed(1)}),o&&null!==n&&j(Nt,{rating:n,label:o,size:"medium"})]}),i&&j("div",{className:"Ml",children:j(eo,{model:i,onClick:t})}),l&&j(ao,{model:l})]})},jm=({model:e,filterModalOpen:t,setFilterModalOpen:n})=>{var{actions:{setUpdateToken:i}}=xi();switch(e.__typename){case"WebPresentation_NoContentFallbackCard":return j(Wr,{model:e});case"WebPresentation_QuestionAndAnswerCard":return j(Br,{model:e});case"WebPresentation_ReviewCardWeb":return j(Si,{model:e});case"WebPresentation_ReviewsFilterCardWeb":return j(Jr,{model:e,filterModalOpen:t,setFilterModalOpen:n});case"WebPresentation_ReviewsNoFilterResultsCardWeb":return j(Zr,{model:e});case"WebPresentation_ReviewsSummaryCardWeb":return j(lo,{model:e,onClick:()=>n(!0)});case"WebPresentation_SingleActionCard":return j(wr,{model:e,onUpdateTokenChange:i});case"WebPresentation_PartialUpdatePaginationLinksListWeb":return j(Rr,{model:e,onUpdateTokenChange:i});default:return j(P,{typename:e.__typename})}},Ym=({model:e})=>{var{content:t,seeMore:n}=e,i="MOBILE"===Ee(),{trackClick:a}=k();if(null===t||0===t.length||!t.some(Boolean))return null;var l=n?ze(n):null,r=t.filter(Boolean).slice(0,i?5:void 0).map(((e,t)=>j(ro,{model:e,filterModalOpen:!1,setFilterModalOpen:()=>{}},t)));return Y("div",{children:[j(Jm,{separatorToBeInserted:j(Ot,{marginY:"spacing-05"}),emptyState:j(Ii,{}),children:r}),null!=(null==l?void 0:l.text)&&null!=l.url&&j(xe,{fullWidth:i,size:"large",variant:"secondary",href:l.url,onClick:()=>{a({clientContext:l.trackingContext})},children:j($e,{model:l.text})})]})},Qm="vutJR",$m=({model:{content:e},leftHandRailAds:t})=>{var n,i="MOBILE"===Ee(),{localize:a}=oe(),{scrollOffset:l}=L(),[r,d]=s(!1),[c,u]=s(!1),{state:{detailRequest:m}}=S(),{loading:p,polling:v}=o(N);if(null===e||0===e.length||!e.some(Boolean))return null;var h,g=e.filter(Boolean).find((e=>"WebPresentation_ReviewsSummaryCardWeb"===e.__typename)),_=e.filter(Boolean).find((e=>"WebPresentation_ReviewsFilterCardWeb"===e.__typename)),b=e.filter(Boolean).filter((e=>"WebPresentation_ReviewsSummaryCardWeb"!==e.__typename&&"WebPresentation_ReviewsFilterCardWeb"!==e.__typename&&"WebPresentation_ReviewCard"!==e.__typename)).map(((e,t)=>j(ro,{model:e,filterModalOpen:c,setFilterModalOpen:u},t))),f=!(null!=(n=m.routeParameters)&&n.pagee),C=i&&f&&b.length>5&&!r;return Y("div",{className:"eSDnY",children:[j("div",{className:"LXdgT",children:_&&j(ro,{model:_,filterModalOpen:c,setFilterModalOpen:u})}),j("div",{className:Qm,children:j(Ot,{marginY:"spacing-03"})}),Y("div",{className:"bdeBj e",children:[g&&j(ro,{model:g,filterModalOpen:c,setFilterModalOpen:u}),j("div",{className:"F1 Pa PX Pn PJ",children:(null==t?void 0:t[0])&&j(ei,{model:t[0],offsetTop:l,...(h=t[1],{firstAdSize:"300x250|300x600",secondAdPosition:"LEFT_HAND_RAIL_DTC"===(null==h?void 0:h.adType)?"RailNova":void 0,secondAdSize:h?"300x250|300x600":void 0})})})]}),j("div",{className:Qm,children:j(Ot,{marginY:"spacing-03"})}),Y("div",{className:"LbPSX",children:[p&&!v&&j("div",{className:"gaSOa l w",children:j(Gi,{"aria-label":a.string("sng_results_loading")})}),Y("div",{className:p?"jqDFe":void 0,children:[j(Jm,{separatorToBeInserted:j(Ot,{marginY:"spacing-05"}),hideListEntriesAtIndex:C?5:void 0,emptyState:j(Ii,{}),loading:p,children:b}),C&&j(xe,{fullWidth:i,size:"large",variant:"secondary",onClick:()=>d(!0),marginTop:"spacing-04",children:a.string("attractions.merchandising.see-more")})]})]})]})},Jm=({children:e,separatorToBeInserted:t,hideListEntriesAtIndex:n,emptyState:i,loading:a})=>b.count(e)>0?j(Q,{children:b.map(e,((e,i)=>Y("div",{className:null!=n&&i>=n?"_":void 0,children:[i>0&&t,e]},i)))}):a?null:(console.error("[Fusion] UGC review list error was displayed"),i),Zm=({model:e,leftHandRailAds:t})=>{var{content:n}=e;return null!==n&&0!==n.length&&n.some(Boolean)?n.filter(Boolean).find((e=>"WebPresentation_ReviewsSummaryCardWeb"===e.__typename))?j(co,{model:e,leftHandRailAds:t}):j(oo,{model:e}):null},Xm=e=>`tab-qa-reviews-${String(e)}`,ep=e=>`tab-data-qa-reviews-${String(e)}`,tp=({model:{tabs:e,__typename:t},leftHandRailAds:n})=>{var{trackClick:i}=k(),a=null==e?void 0:e.findIndex((e=>!0===(null==e?void 0:e.initialTab))),[r,o]=s(a),{fragment:c}=gn(),{scrollToSection:u,sectionRefMapping:m}=L(),p=m.get(t),v=l((()=>{u(p)}),[p,u]);return d((()=>{"REVIEWS"===c&&v()}),[c,v]),e&&Y("section",{id:"REVIEWS",children:[j(ri,{value:r,onChange:e=>{i({clientContext:0===e?"reviewTab":"qaTab"}),o(e)},children:e.filter(Boolean).map(((e,t)=>j(oi,{value:t,titleTypographyVariant:"title-03",id:Xm(t),ariaControls:ep(t),children:e.tabTitle&&j($e,{model:e.tabTitle})},Xm(t))))}),j("section",{children:e.filter(Boolean).map(((e,t)=>j("div",{hidden:r!==t,id:ep(t),children:j(so,{model:e,leftHandRailAds:n})},ep(t))))})]})},np="qyzqH f k w",ip=({model:e,container:t})=>{var{labels:n,numberReviews:i,rating:a,socialPromotionalInfo:l,supplierLink:r}=e,{url:o,text:c}=Ue({internalLink:r}),{trackClick:s}=k(),{scrollToSection:u}=L(),m="MOBILE"===Ee(),{minimalDesktopTabletInfo:p}=pe(),[v,h]=Pe();d((()=>{m||h()}),[m,h]);var g=An(),_=(null==g?void 0:g.MAIN_H1)||null,b=U(),f=(null==b?void 0:b.supplierId)&&b.supplierReviews.length>0;if(!m&&!p)return null;var C=n&&n.length>0,T=!!t;return Y("div",{className:"zdtsV f",style:"pivots_and_mw_breadcrumbs"===v||"pivots_and_h1"===v?{marginTop:0}:{},children:[C&&j("div",{className:np,children:j("div",{className:"afslK",children:j(ht,{model:n})})}),Y("div",{className:np,children:[Y("div",{children:[j(we,{variant:"title-02",marginBottom:"spacing-02",elementType:"h1",dataAttributes:{"data-automation":"mainH1"},children:_}),null!=c&&null!=o&&j(Se,{leftAlign:!0,onClick:e=>{f&&(e.preventDefault(),s({clientContext:"supplier"}),u("WebPresentation_AttractionProductAboutTheOperatorPlaceholder"))},href:o,target:"_blank",children:j(we,{variant:"body-01",children:j($e,{model:c})})})]}),T&&!m&&p&&j("div",{className:"zyTzN f",children:j(w,{model:t})})]}),(null!==a&&null!==i||l)&&Y("div",{className:"PAqCz f",children:[null!==a&&null!==i&&j("div",{className:"eziEU f",children:j(rr,{rating:a,numReviews:i,onClick:e=>{e.preventDefault(),s({clientContext:"review"}),u("WebPresentation_PoiReviewsAndQAWeb")}})}),l&&j(In,{model:l,variant:"supporting-01"})]})]})},ap=({link:e})=>{var{text:t,eventId:n,trackingContext:i}=e,a=kn(),{trackClick:r}=k({clientContext:i}),o=He(),d=l((()=>{r(),o(n)}),[n,r,o]);return null==t?null:j("button",{className:$("jaLBh _G B- _S d _T c G_ P0",a),onClick:d,children:j($e,{model:t})})},lp=({model:e})=>{var{title:t,description:n,icon:i,link:a}=e,l=(e=>{switch(e){case"accessible":return j(Fi,{size:24});case"checkmark":return j(Ui,{size:24});case"child":return j(Vi,{size:24});case"clock":return j(Sn,{size:24});case"group-tour":return j(Rn,{size:24});case"mobile-phone":return j(wn,{size:24});case"pet-friendly":return j(Bn,{size:24});case"train":return j(zi,{size:24});case"twenty-four-hour-cancellation":return j(Hi,{size:24});case"verified-checkmark-fill":return j(Ki,{size:24});default:return null}})(i);return Y("div",{className:"Ybevl",children:[null!=l&&j("span",{children:l}),Y("div",{className:"pPvUE",children:[t&&j(we,{variant:"supporting-01",children:j($e,{model:t})}),n&&j(we,{variant:"supporting-01",children:j($e,{model:n})}),a&&j(we,{variant:"supporting-01",children:j(po,{link:a})})]})]})},rp=({children:e})=>{var{scrollContainerProps:t,scrollButtonsProps:n}=ji();return j("div",{className:"EATTi _T",children:Y("ul",{className:"eCALs f _e",...t,children:[b.map(e,(e=>Y("li",{className:"NZJiR f F0",children:[e,j("div",{"data-carousel-waypoint":!0})]},e.key))),j(qi,{...n})]})})},op=({model:e})=>{var{sectionTitle:t,highlight:n,keyDetails:i}=e,[a,{openModal:l,closeModal:r}]=me("lowPriceGuaranteeDetails");Ve("LOW_PRICE_GUARANTEE_OPEN_OVERLAY",l);var o=null!=n;if(!i)return null;var d=i.filter(Boolean).map(((e,t)=>j(vo,{model:e},t)));return Y("div",{className:$("ZeOcM",{mEOOU:o}),children:[Y("div",{className:$({pwykm:!o}),children:[t&&j(we,{variant:n?"body-01":"title-03",children:j($e,{model:t})}),n&&j(we,{variant:"title-03",marginTop:"spacing-03",children:j($e,{model:n})})]}),j("div",{className:$("ZoaTV",{zMHub:o,TNKPH:!o}),children:d}),j("div",{className:"naVyA Mm",children:j(ho,{children:d})}),a&&j(En,{onClose:r})]})},dp=()=>{var{page:e}=gn();return"AttractionProductReview"!==e?null:j("section",{className:"_T","data-automation":"aboutTheOperatorSection",children:j(Yi,{})})},cp=({model:e,leftHandRailAds:t,container:n})=>{var{getAdPosition:i}=Gd(),{removeInlineAd:a}=fi();switch(e.__typename){case"WebPresentation_AlertSection":return null;case"WebPresentation_AdPlaceholder":return a?null:j(ei,{model:e,inlineAdCounter:i(e)});case"WebPresentation_AttractionProductAboutTheOperatorPlaceholder":return j(_o,{});case"WebPresentation_AsFeaturedInWidgetPlaceholder":return j(Ci,{});case"WebPresentation_AttractionProductItineraryPlaceholder":return j(Zu,{});case"WebPresentation_AttractionHighlightedReviewsPlaceholder":return j(Ti,{});case"WebPresentation_DisclaimerSection":return j(vt,{model:e});case"WebPresentation_NarrowCardsCarousel":return j(mr,{model:e});case"WebPresentation_MediumCardsCarouselWeb":return j(ti,{model:e});case"WebPresentation_PoiContribute":return j(Tr,{model:e});case"WebPresentation_PoiHoursWeb":return j(Er,{model:e});case"WebPresentation_PoiImproveThisListing":return j(Sr,{model:e});case"WebPresentation_ProductAboveTheHeroInfo":return j(mo,{model:e,container:n});case"WebPresentation_ProductKeyDetailsWebSection":return j(go,{model:e});case"WebPresentation_PoiOverviewWeb":return j(Nr,{model:e});case"WebPresentation_PoiReviewsAndQAWeb":return j(uo,{model:e,leftHandRailAds:t});case"WebPresentation_TabbedSectionWeb":return j(hr,{model:e});case"WebPresentation_WideCardsCarousel":return j(si,{model:e});case"WebPresentation_CategoryPivotsCarousel":return j(br,{model:e});case"WebPresentation_OmnibusDisclosure":return j(fr,{model:e});default:return j(P,{typename:e.__typename})}},sp=e=>["WebPresentation_AttractionHighlightedReviewsPlaceholder"].includes(e.__typename),up=e=>["WebPresentation_PoiOverviewWeb","WebPresentation_AdPlaceholder","WebPresentation_ProductAboveTheHeroInfo","WebPresentation_ProductKeyDetailsWebSection","WebPresentation_OmnibusDisclosure","WebPresentation_AttractionProductAboutTheOperatorPlaceholder","WebPresentation_CategoryPivotsCarousel"].includes(e.__typename),mp=e=>["WebPresentation_CategoryPivotsCarousel"].includes(e.__typename),pp=["WebPresentation_AlertSection"],vp=["WebPresentation_PoiHoursWeb"],hp=({model:e,leftHandRailAds:t,container:n})=>{var i,{detailSections:a}=e,l="MOBILE"!==Ee(),r=K(),o=q(),d=null!=r||null!=o,{sectionRefMapping:c}=L();return null!=a&&a.length?a.filter(Boolean).filter((e=>!pp.includes(e.__typename)&&!(l&&vp.includes(e.__typename))&&(d||"WebPresentation_AttractionProductItineraryPlaceholder"!==e.__typename))).map(((e,a)=>{if(od(e)){var l=null!=i&&a-i<=2;if(i=a,l)return null}return j(ya,{id:Vd(e.__typename),ref:c.get(Ld(e)),dataAttributes:{"data-automation":e.__typename},fullWidth:sp(e),collapsedPadding:up(e),fullBleedMobile:mp(e),children:j(bo,{model:e,leftHandRailAds:t,container:n})},((e,t)=>"stableDiffingType"in e&&null!=e.stableDiffingType?e.stableDiffingType:`item-${String(t)}`)(e,a))})):null},gp="ARdFa A R4 o",_p="kZBQY",bp="NnMPl _S B- Gm H0",fp=({onHeroClick:e,onSeeAllPhotosClick:t,images:n,totalPhotoCount:i})=>{var{localize:a}=oe();return 0===n.length?null:1===n.length?j("div",{className:$(gp,"w"),children:j("button",{"aria-label":a.string("mobile_tablet_see_all_photos_no_count"),onClick:()=>{var t;e({id:null!=(t=n[0].id)?t:-1,type:"p"})},className:bp,children:j(vi,{source:n[0].imageSource,width:"100%",height:"100%",lazy:!1})})}):2===n.length?Y("div",{className:$(gp,"kpcLM"),children:[j("button",{"aria-label":a.string("mobile_tablet_see_all_photos_no_count"),onClick:()=>{var t;e({id:null!=(t=n[0].id)?t:-1,type:"p"})},className:$(bp,_p),children:j(vi,{source:n[0].imageSource,width:"100%",height:"100%",lazy:!1})}),j("button",{"aria-label":a.string("mobile_tablet_see_all_photos_no_count"),onClick:()=>{var t;e({id:null!=(t=n[1].id)?t:-1,type:"p"})},className:$(bp,"vmyir"),children:j(vi,{source:n[1].imageSource,width:"100%",height:"100%",lazy:!1})})]}):Y("div",{className:$(gp,"QMhre"),children:[j("button",{"aria-label":a.string("mobile_tablet_see_all_photos_no_count"),onClick:()=>{var t;e({id:null!=(t=n[0].id)?t:-1,type:"p"})},className:$(bp,_p),children:j(vi,{source:n[0].imageSource,width:"100%",height:"100%",lazy:!1})}),j("button",{"aria-label":a.string("mobile_tablet_see_all_photos_no_count"),onClick:()=>{var t;e({id:null!=(t=n[1].id)?t:-2,type:"p"})},className:$(bp,"QtbAN"),children:j(vi,{source:n[1].imageSource,width:"100%",height:"100%",lazy:!1})}),j("button",{"aria-label":a.string("mobile_tablet_see_all_photos_no_count"),onClick:()=>{var t;e({id:null!=(t=n[2].id)?t:-3,type:"p"})},className:$(bp,"iEnKv"),children:j(vi,{source:n[2].imageSource,width:"100%",height:"100%",lazy:!1})}),i>3&&j("div",{className:"qLdZn",children:j(xe,{variant:"primary",size:"small",onClick:t,children:j(le,{id:"mobile_tablet_see_all_photos_no_count"})})})]})},Cp=({model:e,locationId:t})=>{var n,{page:i}=gn(),{trackClick:a}=k(),r=null==e||null==(n=e.heroStandardContent)?void 0:n.filter(Boolean),[o,d]=s(null),c=String(i),u=$i(c),m={...Ji,...Zi(c)},p=l((e=>{a({clientContext:"MediaWindow_HeroPhoto"}),d({mediaId:e,albumId:u})}),[u,a]),v=l((()=>{d(null)}),[d]),h=l((()=>{a({clientContext:"MediaWindow_PhotoCountClick"}),d({albumId:u})}),[d,u,a]);if(!r)return null;var g=(e=>{var t;return null!=(t=e.map((e=>{var t;if("WebPresentation_BasicPhotoWithLink"===e.__typename){var n,i,a=null!=(n=null==(i=e.photoSizes)?void 0:i.map((e=>({url:null==e?void 0:e.url,height:null==e?void 0:e.height,width:null==e?void 0:e.width}))).filter(Boolean))?n:[];return{id:e.id,imageSource:a}}if("WebPresentation_Media"===e.__typename&&"Media_PhotoResult"===(null==(t=e.data)?void 0:t.__typename)){var l,r,o,d,c,s,u={urlTemplate:null==(l=e.data)||null==(r=l.photoSizeDynamic)?void 0:r.urlTemplate,maxWidth:null==(o=e.data)||null==(d=o.photoSizeDynamic)?void 0:d.maxWidth,maxHeight:null==(c=e.data)||null==(s=c.photoSizeDynamic)?void 0:s.maxHeight};return{id:e.mediaId,imageSource:u}}return null})).filter(Boolean))?t:[]})(r);return Y(Q,{children:[Y("div",{className:"_T",children:[j(Co,{onHeroClick:p,onSeeAllPhotosClick:h,images:g,totalPhotoCount:null==e?void 0:e.photoCount}),j(Xi,{locationId:t})]}),j(Qi,{locationId:t,initialSettings:o,onClose:v,...m.mediaViewerParams})]})},Tp=()=>Y(we,{variant:"body-01",children:[j(le,{id:"fusion_generic_retry_error_message"}),j(Se,{href:"#",onClick:()=>window.location.reload(),marginTop:"spacing-03",marginLeft:"spacing-01",children:j(le,{id:"fusion_generic_error_reload_cta"})})]}),kp=()=>Y(we,{variant:"body-01",children:[j(le,{id:"fusion_generic_retry_error_message"}),j(Se,{href:"#",onClick:()=>window.location.reload(),marginLeft:"spacing-01",children:j(le,{id:"bookings_page_retry"})})]}),yp=()=>Y(Q,{children:[j(we,{variant:"title-05",color:"placeholderText",elementType:"span",children:j(le,{id:"phoenix_error_standard_default_message"})}),"",j(we,{variant:"body-01",color:"placeholderText",elementType:"span",children:j(le,{id:"attractions_product_unavailable"})})]}),Pp=()=>{},Ap=({model:e,price:t})=>{var n,i,r,o,c,{datePicker:u,commerceLink:m,exploreLink:p,noCommerceMessage:v}=e,h=uc(u),g=tt(),[_,b]=s(),{localize:f}=oe(),{trackClick:C}=k(),[T,{openModal:y,closeModal:P}]=ue({trackingContext:"checkAvailability"}),A=_t(),[I]=he(),E="test_value_prop_inline_below"===I,[x,S]=ge(),[N,R]=wa({initialStep:"TOURGRADES"}),{step:w,selectedTourGrade:O,isBooking:B,isAddingToCart:W,isDuplicateItemError:L}=N,{incrementQueryFailure:M,incrementOfferSeen:D}=jd(),G=null,F=null,U=null;"Routing_AttractionCommerceParameters"===(null==m||null==(n=m.webRoute)||null==(i=n.typedParams)?void 0:i.__typename)&&({contentId:G,contentType:F,state:U}=m.webRoute.typedParams);var[{data:V,fetching:z,error:H,polling:K},q]=Ra({contentId:G,contentType:F,state:U}),$=null==V||null==(r=V.sections)?void 0:r.find(Pc),J=null==V||null==(o=V.sections)?void 0:o.find(Ic),{noCommerceMessage:Z,freeCancellationMessage:X,tags:ee}=null!=$?$:{},te=ee?j(on,{model:ee}):null,ne=X?j(Qe,{model:X}):te,{text:ie,url:ae}=ze(p);d((()=>{(z||K)&&O&&R({type:"SELECT_TOUR",tour:null}),z||K||!O||D()}),[z,K,O,R,D]);var re=l((e=>{R({type:"SELECT_TOUR",tour:e})}),[R]),de=w.endsWith("ERROR"),ce=l(((e,t)=>{R({type:"ERROR",isRecoverable:e,showGenericError:!x}),C({clientContext:"errorScreen",clientParameter:`${e?"":"un"}recoverable_inline_${t}`}),S()}),[R,C,x,S]);d((()=>{H&&(console.error("[Fusion][Availability] attraction commerce query resulted in an error",H.message),ce(!0,"commerceQueryError"),M())}),[H,ce,M]);var[se,me]=s(null),[pe,ve]=s(!1),{addTourGradeToCart:_e,bookTourGrade:be}=rc(),fe=!z&&!K&&!H&&!v&&!Z&&(null==J||null==(c=J.tourGrades)?void 0:c.length),Ce=j(bt,{onClick:()=>{_e(O,C,R,ce,"inline").then((e=>{me({cartItems:null!=e?e:[]}),ve(!0)})).catch((()=>{})).finally(P)},disabled:!O||B||W||L||"RECOVERABLE_ERROR"===w,loading:W,"aria-label":f.string("fusion_attraction_commerce_booking"),fullWidth:!0,children:j(le,{id:"attractions_add_to_cart_cta"})}),Te=j(xe,{onClick:()=>{be(O,C,R,ce,"inline")},variant:"commerce",disabled:!O||B||W||L||"RECOVERABLE_ERROR"===w,loading:B,dataAttributes:{"data-automation":"attractions-commerce-modal-primary"},"aria-label":f.string("fusion_attraction_commerce_booking"),fullWidth:!0,children:j(le,{id:"attractions_booking_reserve_now"})}),ke=fe&&"UNRECOVERABLE_ERROR"!==w||"RECOVERABLE_ERROR"===w,ye=a((()=>({setTicketInfo:Pp,clearTourGrade:Pp,onSelectTicket:Pp,onSelectTourGrade:re,selectedTourGrade:O})),[re,O]);return Y(Fa.Provider,{value:ye,children:[j(Cl,{onClose:()=>{b(void 0),P()},initialStep:"TOURGRADES",tourContentInfo:{contentId:G,contentType:F,contentState:U},trackingKey:e.trackingKey,isAttractionCommerceModalOpen:T,autoExpandTourGradeIndex:_}),pe&&se&&j(at,{addToCartData:se,onClose:()=>ve(!1)}),Y("div",{className:B||W?"heqqx S":void 0,children:[!de&&e.title&&Y(we,{variant:"title-03",marginBottom:"spacing-04",children:[j($e,{model:e.title}),!g&&j(we,{variant:"title-05",children:j(le,{id:"phoenix_product_attractions_from_price_txt",args:{price:t}})})]}),de&&Y("div",{className:"NvHSs",children:["GENERIC_ERROR"===w&&j(ko,{}),"RECOVERABLE_ERROR"===w&&j(yo,{}),"UNRECOVERABLE_ERROR"===w&&j(Po,{})]}),!de&&h&&j(ul,{datePickerConfig:h,variant:E?"compact":"legacy"}),!de&&!v&&j(Ja,{duplicateItemError:L,fetching:z,polling:K,result:V,update:q,openModal:()=>{C({clientContext:"clickAllTourOptions"}),y(),A({event:"IB_CLICK"})},variant:"compact",onSeeAllTimes:e=>{b(e),y(),A({event:"IB_CLICK"})}})]}),v&&Y(Q,{children:[j(we,{variant:"body-01",children:j($e,{model:v})}),ie&&null!=ae&&j(xe,{variant:"primary",size:"medium",href:ae,marginTop:"spacing-05",children:j($e,{model:ie})})]}),fe&&E&&j(Za,{tourGradeInfo:O,marginTop:"spacing-05"}),ke&&Y("div",{className:"vHVMb",children:[Ce,Te]}),"UNRECOVERABLE_ERROR"===w&&j(Xa,{shelfSlotName:"SimilarProductsInline"}),!(z||K||de)&&ne&&Y("div",{className:"lBtTM",children:[j(Cn,{size:12}),j(we,{variant:"input-03",color:"secondaryText",elementType:"span",children:ne})]})]})},Ip=({model:e,container:t,price:n})=>{var{sectionRefMapping:i,scrollOffset:a}=L(),{isStickyHeaderOpen:l}=D(),{hero:r,primaryList:o,inlineBooking:d}=e,c=Ee(),[s]=Pe(),u="DESKTOP"===c,m="MOBILE"===c,{params:p}=gn(),v=i.get(e.__typename),h=u?{top:`${l?a:10}px`}:void 0,g="h1_only"!==s&&"pivots_and_h1"!==s&&"pivots_and_mw_breadcrumbs"!==s||m?{}:{marginBottom:"var(--spacing-08)"},_="detailId"in p&&p.detailId||0,b=(null==o?void 0:o.filter(Boolean))||[],f=u&&"WebPresentation_InlineBooking"===(null==d?void 0:d.__typename);return j(ya,{id:Vd(e.__typename),ref:v,dataAttributes:{"data-automation":e.__typename},collapsedPadding:!0,children:Y("div",{className:"wAiJR",children:[j("div",{className:"tdAhP A",style:g,children:r&&(m?j(Z,{model:r}):j(To,{model:r,locationId:_}))}),j("div",{className:"SHPAN",children:j(cr,{primaryList:b,container:t,isInlineBooking:f})}),f&&j("div",{className:"bHlqs E Ra Pk PY Px PK",style:h,children:j(Ao,{model:d,price:n})})]})})},Ep=({model:e,leftHandRailAds:t,container:n,price:i})=>{switch(e.__typename){case"WebPresentation_PoiAboveTheFoldSectionGroup":return j(sr,{model:e,container:n});case"WebPresentation_PoiInlineBookingSectionGroup":return j(Io,{model:e,container:n,price:i});case"WebPresentation_PoiListSectionGroup":return j(fo,{model:e,leftHandRailAds:t,container:n});default:return j(P,{typename:e.__typename})}},xp=({rating:e,saveShare:t,seeAll:n})=>{var i=Ee(),a=An(),{trackClick:l}=k({clientContext:"stickyHeader_clickedNonInteractive",trackingTitle:"AttractionsStickyHeader"}),r=null==a?void 0:a.MAIN_H1;return Y("div",{className:"LghfC f u w",children:[j("div",{className:"f I",children:null!=n&&j(we,{elementType:"div",variant:"button-02",children:n})}),Y("div",{className:"tDjQA f u",children:["MOBILE"!==i&&null!=r&&Y(Q,{children:[j(we,{elementType:"div",variant:"title-04",lineClamp:1,children:j("span",{onClick:()=>l({clientParameter:"title"}),children:r})}),null!==e&&e>0&&j(we,{elementType:"div",variant:"title-04",children:Y("span",{className:"LEuOZ f",onClick:()=>l({clientParameter:"rating"}),children:[j(Mi,{color:"bubbleIcon"}),e]})})]}),null!==t&&j("div",{className:"oCtDh f",children:t})]})]})},Sp=()=>{var e=Ee(),{trackClick:t}=k({trackingTitle:"AttractionsStickyHeader"}),{persistentCommerce:n}=W(),{ctaButtonProps:i,priceText:a}=n,l=i&&j(xe,{...i,onClick:()=>{null!=i&&i.onClick&&i.onClick(),t({clientContext:"stickyHeader_CheckAvailabilityClick"})},size:"small"});return"MOBILE"===e||null==a&&null==l?null:Y("div",{className:"FNrum f u I",children:[null!=a&&j("span",{className:"aENVg",onClick:()=>{t({clientContext:"stickyHeader_PriceClick"})},children:j(we,{elementType:"span",variant:"title-05",children:a})}),l]})},Np=({sectionRefToTypenameMapping:e,scrollCallback:t,activeIdx:n})=>{var{trackClick:i}=k({clientContext:"stickyHeader_SectionClick",trackingTitle:"AttractionsStickyHeader"});return j(ri,{value:n,children:e.filter((({ref:e})=>e.current)).filter((({typename:e})=>Ud(e))).map((({typename:e,ref:n},a)=>{var l,r;return j(oi,{value:a,titleTypographyVariant:"title-05",id:`sticky-tab-${String(a)}`,ariaControls:Vd(e),onActive:()=>{var a,l;i({clientParameter:(a=e,null==(l=Pa.get(a))?void 0:l.trackingParameter)}),t(n)},children:(l=e,(null==(r=Pa.get(l))?void 0:r.title)||"")},e)}))})},Rp=({sectionRefToTypenameMapping:e,saveShare:t,seeAll:n,sectionModels:a})=>{var r,o,d,c,s="MOBILE"===Ee(),{persistentCommerce:u={}}=W(),{ctaButtonProps:m,footerAnchorRef:p,footerComponent:v,footerFadesIn:h,isFooterVisible:g}=u,{activateStickyHeaderOnAnchorTop:_}=pe(),{trackClick:b}=k(),f=l((()=>b({clientContext:"stickyHeader_InView",trackingTitle:"AttractionsStickyHeader"})),[b]);if(null==a||a.length<=0)return null;var C,T=a.some((e=>"WebPresentation_ProductAboveTheFoldAccordion"===e.__typename)),y=a.some((e=>"WebPresentation_SupplierSectionGroup"===e.__typename)),P=Fd.map((t=>e.get(t))).filter(Boolean)[0]||i(),A=a.filter((e=>{var t=Ld(e);return!(!T&&"WebPresentation_ProductAboveTheFoldInfo"===t)&&(!y||"WebPresentation_PoiAboutWeb"!==t)&&Aa.includes(Ld(e))})).map((t=>{var n=Ld(t),i=e.get(n);return i?{typename:n,ref:i}:null})).filter(Boolean),I=A.map((e=>e.ref)),E=null!=(r=null!=(o=null==(C=a.find(Cd),d=Cd(C)?C:null)?void 0:d.rating)?o:null==(c=(e=>yd(e)?e:null)(a.find(yd)))?void 0:c.rating)?r:null,x=j(xe,{...m,fullWidth:!0});return j(B,{anchorRef:P,footerAnchorRef:p,tabBar:(e,t)=>j(No,{sectionRefToTypenameMapping:A,scrollCallback:e,activeIdx:t}),tabSectionRefs:I,aboveTabContent:()=>j(xo,{rating:E,seeAll:n,saveShare:t}),inlineNonTabContent:()=>j(So,{}),footerContent:s&&v||s&&m&&Y(Q,{children:[x,j(Ze,{children:j("div",{className:"U",children:x})})]})||null,footerFadesIn:h,checkFooterVisibility:g,activateOnSectionStart:_,onVisible:f})},wp=({model:e})=>{var{container:t,detailSectionGroups:n,skippedSections:i}=e,l=K(),r=q(),o=null!=l||null!=r,d=a((()=>Wd(n,o)),[n,o]),c=a((()=>Md(d)),[d]);return j(G,{children:j(F,{sectionRefMapping:c,children:Y(ka,{sections:d,children:[j(Ro,{sectionRefToTypenameMapping:c,saveShare:t?j(w,{model:t,useSmallIcons:!0}):null,seeAll:null!=t&&t.seeAllLink?j(O,{seeAllLink:t.seeAllLink}):null,sectionModels:d}),null==n?void 0:n.filter(Boolean).map(((e,n)=>{var i;return j(Eo,{model:e,leftHandRailAds:null!=t&&null!=(i=t.webAds)&&i.leftHandRailAd?[t.webAds.leftHandRailAd,t.webAds.secondLeftHandRailAd].filter(Boolean):void 0,container:t},`group-${e.stableDiffingType||n}`)})),i&&i.map((e=>j(P,{typename:e},e)))]})})})},Op=e=>{if(!e)return e;try{var t=ia(e);return t.substring(4,t.length-4)}catch(t){return e}},Bp=({model:e,safeForUnsafeDecode:t})=>{var{about:n,content:i,title:a}=e,l=!0===t?Op(n||""):"",r=new Map;i.filter(Boolean).forEach((e=>{e.identifier&&r.set(e.identifier,e.item)}));var o=r.get("DURATION"),d=r.get("IMPROVE_THIS_LISTING"),c=r.get("FEATURES_ANIMALS");return Y(Q,{children:[a&&j(we,{variant:"title-03",marginBottom:"spacing-04",children:j($e,{model:a})}),null!=l&&j("div",{className:"_d MJ",children:j(wt,{ctaHiddenInitially:!0,variant:"extended",children:l})}),o&&j(ar,{model:o}),yu(c)&&j(er,{model:c,icon:j(Bn,{})}),d&&j(ar,{model:d})]})},Wp=({model:e})=>{var{primary:t}=e;return t&&j(Oo,{model:t,safeForUnsafeDecode:!0})},Lp="yFeCU",Mp=({children:e})=>{var[t,n]=s(!0),{trackClick:i}=k();return Y(Q,{children:[j("div",{className:t?"Sncta":void 0,children:e}),j(Se,t?{icon:Zt,trailing:!0,leftAlign:!0,onClick:()=>{n(!1),i({clientContext:"expandContacts"})},children:j(le,{id:"contact_supplier_expansion"})}:{icon:Xt,trailing:!0,leftAlign:!0,onClick:()=>{n(!0),i({clientContext:"collapseContacts"})},children:j(le,{id:"common_less_capital_ffffe27f"})})]})},Dp=({contacts:e,featuresAnimals:t,geo:n,businessInfo:i,privateIndividualInfo:a})=>{var l,r=n?j(hu,{model:n}):null,o=t?j(ir,{model:t}):null,d=i?j(ir,{model:i}):null,c=a?j(ir,{model:a}):null,s=new Map(null==e||null==(l=e.contactLinks)?void 0:l.filter((e=>null!=e&&null!=e.icon)).map((e=>[null==e?void 0:e.icon,e]))),u=s.get("phone"),m=s.get("email"),p=s.get("internet");return Y("div",{className:"BWeXC",children:[d&&Y("div",{className:Lp,children:[j(Ca,{}),d]}),c&&Y("div",{className:Lp,children:[j(_a,{}),c]}),r&&Y("div",{className:Lp,children:[j(ba,{}),r]}),o&&Y("div",{className:Lp,children:[j(Bn,{}),o]}),(u||m||p)&&j(Mp,{children:Y("div",{className:"fFxjS MI",children:[u&&Y("div",{className:Lp,children:[j(fa,{}),j(Un,{model:u})]}),m&&Y("div",{className:Lp,children:[j(ha,{}),j(Un,{model:m})]}),p&&Y("div",{className:Lp,children:[j(ga,{}),j(Un,{model:p})]})]})})]})},Gp=({text:e,translatedByGoogle:t})=>{var{localize:n}=oe();return Y("div",{className:"xUbhu e",children:[j("div",{className:$("OaNLt k",Mt({marginBottom:e?"spacing-04":"spacing-00"})),children:j("div",{className:"F2",children:j(we,{variant:"title-05",children:j(le,{id:"phoenix_poi_about_title"})})})}),j(Xn,{productText:e,translationAttribution:t?{machineTranslation:!1,providerName:n.string("phoenix_translated_by_google"),providerImageUrl:"/img2/google/powered_by_google_translate.png"}:null})]})},Fp=({model:e,hoursWeb:t,showAboutAboveExperiment:n})=>{var{hero:i,primary:a}=e,{about:l,content:r,title:o,translatedByGoogle:d,machineTranslationMarkup:c}=a,{source:s}={...X(i)},u=hi(s,1200,1200);va({image:u});var{localize:m}=oe();if(!a)return null;var p=Op(l||""),v=null!=p&&null!=c?j("span",{lang:c,children:p}):p,h=new Map;r.filter(Boolean).forEach((e=>{e.identifier&&h.set(e.identifier,e.item)}));var g=h.get("IMPROVE_THIS_LISTING"),_=h.get("FEATURES_ANIMALS"),b=h.get("GEO"),f=h.get("INDIVIDUAL_SUPPLIER"),C=h.get("AWARDS"),T=h.get("CONTACT"),k=h.get("SUPPLIER_TYPE_BUSINESS"),y=h.get("SUPPLIER_TYPE_INDIVIDUAL");return Y(Q,{children:[n?j(Gp,{text:v,translatedByGoogle:d}):Y(Q,{children:[Y("div",{className:"IaiFh",children:[null!=s&&""!==s&&j("div",{className:"vgwJT Rb o",children:j(vi,{source:s,width:"100%",height:"100%",aspectRatio:"1:1"})}),o&&j(we,{variant:"title-03",children:j($e,{model:o})})]}),null!=v&&Y("div",{className:"USjYi _d",children:[j(wt,{ctaHiddenInitially:!0,variant:"extended",children:v}),d&&j("div",{className:"kwAAX",children:j("a",{href:"https://translate.google.com",target:"_blank",children:j("img",{src:"/img2/google/powered_by_google_translate.png",alt:m.string("phoenix_translated_by_google")})})})]})]}),Y("div",{className:"yRJOK",children:[j(Wo,{contacts:ku(T),featuresAnimals:Au(_),geo:Pu(b),businessInfo:Au(k),privateIndividualInfo:Au(y)}),Tu(C)&&Y(Q,{children:[j(Ot,{}),j(Dl,{model:C})]}),f&&Y(Q,{children:[j(Ot,{}),j(ar,{model:f})]}),n&&t,g&&Y(Q,{children:[!n&&j(Ot,{}),j(ar,{model:g})]})]})]})},Up=({model:e})=>{var t,{price:n,subTitle:i,title:a,linkV2:l}=e,{setPersistentCommerce:r}=W(),[o,{openModal:c,closeModal:s}]=ue({trackingContext:"seeTickets",fragment:"SHOW_TICKETS"}),{text:u}=Ue({internalLink:l});d((()=>{var e=u&&{variant:"commerce",onClick:c,children:j($e,{model:u})},t=null==n?void 0:n.text;r({ctaButtonProps:e,priceText:t})}),[u,c,null==n?void 0:n.text,r]);var m,{state:{detailRequest:p}}=S();return Y(Q,{children:[a&&Y("div",{className:Lt("f k O",Mt({marginBottom:"spacing-02"})),children:[j(we,{variant:"title-05",children:j($e,{model:a})}),n&&j(we,{variant:"title-03",children:j($e,{model:n})})]}),i&&j(we,{variant:"body-01",children:j($e,{model:i})}),u&&j(xe,{variant:"commerce",size:"large",fullWidth:!0,onClick:c,marginTop:"spacing-05",children:j($e,{model:u})}),j(Cl,{ticketContentInfo:(m=(null==(t=p.routeParameters)?void 0:t.contentId)||"0",{contentId:m,contentType:"attraction",contentState:"tickets"}),onClose:s,isAttractionCommerceModalOpen:o})]})},Vp=({model:e})=>{var{buttonText:t,subTitle:n,title:i}=e,{sectionRefMapping:a,scrollToSection:r}=L(),{setPersistentCommerce:o}=W(),{trackClick:c}=k(),s=a.get("ATTRACTION_WAYS_TO_EXPERIENCE"),u=l((()=>{c({clientContext:"seeTours"}),r(s)}),[c,r,s]);return d((()=>{s&&o({ctaButtonProps:t&&{onClick:u,children:j($e,{model:t})}})}),[t,u,s,o]),s?Y(Q,{children:[i&&j(we,{variant:"title-05",marginBottom:"spacing-02",children:j($e,{model:i})}),n&&j(we,{variant:"body-01",children:j($e,{model:n})}),t&&j(xe,{size:"large",fullWidth:!0,marginTop:"spacing-05",onClick:u,children:j($e,{model:t})})]}):null},zp=({model:e})=>{var{tickets:t,tours:n}=e;return Y("div",{className:"YqMbD",children:[t&&j(Mo,{model:t}),n&&j(Do,{model:n})]})},Hp=({model:e})=>{var{bubbleRating:t,bubbleRatingText:n,contributor:i,cardLink:a,cardTitle:l,text:r}=e,o=Ue({internalLink:a}),d=(e=>{var t,n;if("Media_PhotoResult"!==(null==e||null==(t=e.avatar)||null==(n=t.data)?void 0:n.__typename))return null;var{memberProfile:i}=e.avatar.data,a=na(e.avatar),{displayName:l,username:r}=i||{};return null==l||null==r||null==a?null:{displayName:l,avatarSource:a,target:"_blank"}})(i),c=Y(Q,{children:[d&&j(ea,{variant:"one-line-small",profileInfo:[d]}),l&&Y(we,{variant:"supporting-01",marginTop:"spacing-02",children:["",j($e,{model:l}),""]}),null!=t&&n&&j(Nt,{size:"small",rating:t,label:j($e,{model:n}),marginTop:"spacing-02"}),r&&j(we,{variant:"supporting-01",marginTop:"spacing-02",lineClamp:3,children:j(ta,{text:r.text})})]});return null!=o.url?j(I,{href:o.url,theme:"standalone",trackingDetails:{clientContext:o.trackingContext},children:c}):c},Kp=({model:e})=>{var{sectionTitle:t,reviewSnippets:n,improveThisListing:i}=e;return null==n||0===n.length?null:Y("div",{children:[t&&j(we,{variant:"title-03",children:j($e,{model:t})}),n.filter(Boolean).map(((e,t)=>j("div",{className:"VYlbh _c",children:j(Fo,{model:e})},t))),i&&Y(Q,{children:[j("div",{className:"kfOHc",children:j(Ot,{marginY:"spacing-04"})}),j(ar,{model:i})]})]})},qp="WebPresentation_AttractionAboutSectionGroup",jp=({about:e,attractionCommerce:t,hero:n,reviewSnippets:i})=>{var{sectionRefMapping:a}=L(),l=a.get(qp),r=e?a.get(e.__typename):void 0;return e||t||n||i?j(ya,{id:Vd(qp),ref:l,dataAttributes:{"data-automation":qp},children:Y("div",{className:"yNgTB A",children:[(t||e||i)&&Y("div",{className:"WRRwX Gg A",children:[e&&j("div",{className:"IxAZL",ref:r,children:j(Bo,{model:e})}),i&&j("div",{className:"rlbOy",children:j(Uo,{model:i})}),j(te,{component:ie.commerce,children:t&&j("div",{className:"MQPqk",children:j(Go,{model:t})})})]}),j("div",{className:"FdLSX",children:j(te,{component:ie.mediaviewer,children:n&&j(Z,{model:n})})})]})}):null},Yp=({model:e})=>{var{transitAndTravel:t}=e;return t&&j(we,{variant:"body-01",display:"block",children:j($e,{model:t})})},Qp=({model:e})=>{var{sectionTitle:t,transportItems:n}=e;return n&&n.length>0&&t&&Y("div",{className:"AqkGs",children:[j("div",{className:"dibbG",children:j(we,{variant:"title-05",children:j($e,{model:t})})}),j("ul",{children:n.filter(Boolean).map(((e,t)=>j("li",{children:j(zo,{model:e})},t)))})]})},$p=({model:e,v2MapLayout:t=!1,disableMap:n=!1})=>{var{address:i}=e,{desktop:a}=R(),{mapControl:r}=aa(),{trackClick:o}=k(),d=l((()=>{o({clientContext:"viewMap",clientParameter:"address"}),r.show()}),[o,r]),c=!(t&&a||n),{localize:s}=oe();return Y("div",{className:"MJ",children:[j("div",{className:t?"vrLbR":"IygZW",children:j(we,{variant:"title-05",marginBottom:"spacing-01",children:s.string("phoenix_poi_address_title")})}),c?j(Se,{leftAlign:!0,onClick:d,children:i}):i]})},Jp=({model:e})=>{var{id:t,name:n,text:i}=e,{localize:a}=oe(),{trackClick:l}=k(),r="readMore",o="neighborhoodDescription";return Y("div",{className:"MK",children:[n&&Y(we,{variant:"title-05",children:[a("common_Neighborhood_ffffdfce"),": ",n]}),j(wt,{onExpand:()=>{l({clientContext:r,clientParameter:`${o}Expand`})},onCollapse:()=>{l({clientContext:r,clientParameter:`${o}Collapse`})},children:i})]})},Zp=({model:e,suppressTitle:t=!1,v2MapLayout:n=!1,disableMap:i=!1})=>{var{address:a,gettingThere:l,neighborhood:r,sectionTitle:o}=e;return Y(Q,{children:[!t&&o&&j(we,{variant:"title-03",marginBottom:"spacing-03",children:j($e,{model:o})}),j("div",{className:"IjjLa",children:Y("div",n?{className:"fqCUB w",children:[Y("div",{children:[a&&j(Ko,{model:a,v2MapLayout:!0,disableMap:i}),r&&j(qo,{model:r})]}),l&&j(Ho,{model:l})]}:{className:"wgNTK",children:[a&&j(Ko,{model:a,disableMap:i}),r&&j(qo,{model:r}),l&&j(Ho,{model:l})]})})]})},Xp=({model:e,showTitle:t=!1})=>{var{sectionTitle:n,tooltip:i,nearbyLocationContent:l,shelfTitle:r,shelfSubtitle:o,seeAll:d}=e,{url:c,text:s,trackingContext:u=""}=Ue({internalLink:d}),{localize:m}=oe(),{trackClick:p}=k(),v="MOBILE"===Ee(),h=null,g=null;n?(h=j($e,{model:n}),g=i?i.text:null):!n&&t&&(h=j(le,{id:"phoenix_sort_best_nearby"}),g=m.string("attractions_restaurants_nearby_tooltip"));var _=h?Y("div",{className:"ccCUS",children:[j(we,{variant:"title-05",marginRight:"spacing-02",children:h}),null!==g&&j(ra,{triggeringElement:j(la,{}),content:g,variant:"top-caret"})]}):j("div",{className:"jxcTr"}),b=a((()=>l&&l.length>0?l.filter(Boolean).map(((e,t)=>j(ci,{model:e},t))):null),[l]),f=null!=c&&s?j("div",{className:"xsqKq",children:j(Se,{href:c,target:"_blank",leftAlign:!0,onClick:()=>p({clientContext:u}),children:j($e,{model:s})})}):null;return b&&Y(Q,{children:[_,r&&Y("div",{className:"fsgQQ",children:[j(we,{variant:"body-01",children:j($e,{model:r})}),v&&f]}),o&&j("div",{className:"jKOuM",children:j(we,{variant:"body-01",marginBottom:"spacing-03",children:j($e,{model:o})})}),j("div",{className:"yvHvW",children:v?j(ni,{variableHeight:!0,children:b}):b}),!v&&f]})},ev={width:416,height:722},tv={width:1136,height:416},nv={width:380,height:188},iv={ATTRACTION:{standard:"attractions-standard.png","active-anchor":"attractions-active-anchor.png"},HOTEL:{standard:"hotels-standard.png","active-anchor":"hotels-active-anchor.png"},RESTAURANT:{standard:"restaurants-standard.png","active-anchor":"restaurants-active-anchor.png"},OTHER:{standard:null,"active-anchor":null}},av=(e,t)=>{var n=null==e?void 0:e.fallbackIcon,{latitude:i,longitude:a}=(null==e?void 0:e.geoPoint)||{},l=n&&iv[n]?iv[n][t?"active-anchor":"standard"]:null;return l&&i&&a?{iconUrl:"img2/maps/icons/fusion_map/v2/"+l,scale:2,position:{lat:i,lng:a}}:null},lv=(e,t)=>"MOBILE"===e?nv:t?tv:ev,rv=({model:e,fullWidth:t=!1})=>{var{anchor:n,center:i,pins:a}=e,r=Ee(),[o,c]=s((()=>lv(r,t)));d((()=>{c(lv(r,t))}),[r,t]);var{localize:u}=oe(),{mapControl:m}=aa(),{trackClick:p}=k(),v=l((()=>{p({clientContext:"viewMap",clientParameter:"staticMap"}),m.show()}),[p,m]),{params:h,page:g}=gn(),_=h.geoId||void 0,b=null==i?void 0:i.latitude,f=null==i?void 0:i.longitude,C=[av(n,!0)].concat(null==a?void 0:a.map((e=>av(e,!1)))).filter((e=>!!e)),T=12;if(C.length>0){var y=da.fromArray(C.filter(Boolean).map((e=>new ca(e.position.lat,e.position.lng))));T=sa.getBoundsZoom(y,o.width/2,o.height/2)||12}if(_&&b&&f){var P=u.string("rd_hd_viewMap");return Y("button",{className:"YWGPI o B- _S",onClick:v,"aria-label":P,children:[j(oa,{geoId:_,width:o.width,height:o.height,scale:2,zoom:T,servlet:g,center:{lat:b,lng:f},markers:C,imgClassName:"oPZZx",mapId:"c01884c8146ad115"}),j("div",{className:"CzQAH f l w u j _O",children:Y("div",{className:"dRUdF f u",children:[j(ua,{}),j(we,{variant:"button-01",marginLeft:"spacing-02",children:u("full_view")})]})})]})}return null},ov=e=>{if(null==e||!e.center)return!1;var t=e.center.latitude||0;return t<85&&t>-85},dv="WebPresentation_PoiLocationSectionGroup",cv=({location:e,staticMap:t,attractions:n,restaurants:i})=>{var{trackClick:a}=k(),{mapControl:r,PoiMapEntrypoint:o}=aa(),d=l((()=>{a({clientContext:"closeMap"}),r.hide()}),[a,r]),{sectionRefMapping:c}=L(),s=!e&&!n&&!i;if(s&&!t)return null;var u=c.get(dv);return Y(ya,{id:Vd(dv),ref:u,dataAttributes:{"data-automation":dv},children:[Y(we,{variant:"title-03",marginBottom:"spacing-03",children:[j(le,{id:"phoenix_poi_location_title"})," "]}),Y("div",{className:Lt("AcNPX A",{jxNnq:s}),children:[j("div",{className:"ZhNYD",children:e&&j(jo,{model:e,suppressTitle:!0,disableMap:!ov(t)})}),j("div",{className:"gptQH",children:t&&j(Qo,{model:t,fullWidth:s})}),(n||i)&&Y("div",{className:"bVvJm",children:[i&&j(Yo,{model:i,showTitle:!n}),n&&j(Yo,{model:n,showTitle:!i})]}),(e||t)&&j(o,{onClose:d})]})]})},sv=({sections:e,fetching:t,leftHandRailAds:n})=>{var i,l="MOBILE"===Ee(),{getAdPosition:r}=Gd(),{sectionRefMapping:o}=L(),[d,c]=Ia(e),s=d("POI_OVERVIEW"),u=d("OPEN_HOURS"),m=d("POI_ABOUT"),p=d("HERO_MEDIA"),v=d("COMMERCE_SUMMARY"),h=d("REVIEW_SNIPPETS"),g=c("OMNIBUS_DISCLOSURE")[0],_=d("WAYS_TO_EXPERIENCE"),b=c("INLINE_AD")[0],f=d("ABOUT_THE_AREA"),C=d("STATIC_MAP"),T=d("NEARBY_ATTRACTIONS"),k=d("NEARBY_RESTAURANTS"),y=d("HIGHLIGHTED_REVIEWS"),P=c("INLINE_AD")[1],A=d("CONTRIBUTE_CTA"),I=d("REVIEWS_AND_QA"),E=d("HAMON_DISCLAIMER"),x=c("OMNIBUS_DISCLOSURE")[1],S=d("MERCHANDISING_SHELF"),N=d("AS_FEATURED_IN"),R=d("RECENTLY_VIEWED_SHELF"),w=d("IMPROVE_LISTING"),O=a((()=>s&&(m||h)&&p&&v&&_&&I?ae.ok:ae.missing),[m,p,s,v,h,I,_]);return Y(Q,{children:[j(ne,{component:ie.page,enabled:!1===t,status:O}),Cd(s)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_PoiOverviewWeb"},children:j(Nr,{model:s})}),gd(u)&&l&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiHoursWeb"},children:j(Er,{model:u})}),j(Vo,{about:pd(m)?m:null,attractionCommerce:(i=v,"WebPresentation_PoiCommerceAttractionWeb"===(null==i?void 0:i.__typename)?v:null),hero:hd(p)?p:null,reviewSnippets:kd(h)?h:null}),md(g)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_OmnibusDisclosure"},children:j(fr,{model:g})}),wd(_)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_TabbedSectionWeb"},ref:o.get(Ld(_)),children:j(hr,{model:_})}),ud(_)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_MediumCardsCarouselWeb"},ref:o.get(Ld(_)),children:j(ti,{model:_})}),od(b)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_AdPlaceholder"},children:j(ei,{model:b,inlineAdCounter:r(b)})}),j($o,{location:bd(f)?f:null,staticMap:Rd(C)?C:null,attractions:fd(T)?T:null,restaurants:fd(k)?k:null}),dd(y)&&j(ya,{fullWidth:!0,dataAttributes:{"data-automation":"WebPresentation_AttractionHighlightedReviewsPlaceholder"},children:j(Ti,{})}),od(P)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_AdPlaceholder"},children:j(ei,{model:P,inlineAdCounter:r(P)})}),vd(A)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiContribute"},children:j(Tr,{model:A})}),Td(I)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiReviewsAndQAWeb"},id:Vd("WebPresentation_PoiReviewsAndQAWeb"),ref:o.get(Ld(I)),children:j(uo,{model:I,leftHandRailAds:n})}),sd(E)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_DisclaimerSection"},children:j(vt,{model:E})}),md(x)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_OmnibusDisclosure"},children:j(fr,{model:x})}),ud(S)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_MediumCardsCarouselWeb"},children:j(ti,{model:S})}),cd(N)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_AsFeaturedInWidgetPlaceholder"},children:j(Ci,{})}),ud(R)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_MediumCardsCarouselWeb"},children:j(ti,{model:R})}),_d(w)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiImproveThisListing"},children:j(Sr,{model:w})})]})},uv=({model:e})=>{var{bookingUnavailable:t,showOptions:n,supplierName:i,wantOtherOptions:a}=e,{text:l,url:r}=ze(n);return Y("div",{className:"TxThb c",children:[null!=i&&j(we,{variant:"title-05",marginBottom:"spacing-04",children:j($e,{model:i})}),null!=t&&j(we,{variant:"body-01",children:j($e,{model:t})}),null!=a&&j(we,{variant:"body-01",marginBottom:"spacing-04",children:j($e,{model:a})}),l&&null!=r&&j(xe,{variant:"secondary",href:r,children:j($e,{model:l})})]})},mv=({model:e})=>{var{title:t}=e,{sectionRefMapping:n}=L();return null!=t?j("div",{id:Vd(e.__typename),ref:n.get(Ld(e)),"data-automation":e.__typename,children:j(we,{variant:"title-03",children:j($e,{model:t})})}):null},pv=({model:e})=>{var{link:t}=e,{text:n,url:i,trackingContext:a}=ze(t);return n&&null!=i?j(I,{href:i,theme:"standalone",trackingDetails:{clientContext:a||""},children:j($e,{model:n})}):null},vv=({children:e})=>Y(Q,{children:["",e,""]}),hv=({model:e})=>{var{keyword:t,searchFilterId:n,numberReviews:i,photo:a}=e,{actions:{updateReviewFiltersAndNavigate:r}}=xi(),{trackClick:o}=k(),{sectionRefMapping:d,scrollToSection:c}=L(),s=d.get("WebPresentation_PoiReviewsAndQAWeb"),u=l((()=>{c(s),r([{inputKey:n,inputValues:[t]}]),o()}),[t,s,c,n,o,r]);if(null==t)return null;var m=na(a);return Y("div",{className:"f",children:[j(pa,{size:"xs",source:m,marginRight:"spacing-01"}),j(vv,{children:j(Se,{onClick:u,children:j(we,{variant:"body-01",display:"inline-block",children:t})})}),j(we,{variant:"body-01",display:"inline-block",marginLeft:"spacing-01",children:i&&j($e,{model:i})})]})},gv=({model:e})=>{var{title:t,content:n}=e;return Y("div",{className:"pjzwl A",children:[t&&j(we,{variant:"title-04",children:j($e,{model:t})}),n&&n.filter(Boolean).map(((e,t)=>j(td,{model:e},t)))]})},_v="WebPresentation_SupplierSectionGroup",bv=({about:e,bookATour:t,hero:n,travelersTalkAbout:i,productsHeader:a,omnibusDisclosure:l,commerceUnavailable:r,merchandisingShelf:o,productCards:c,seeMore:s,openHours:u,showAboutAboveExperiment:m})=>{var p,{text:v,url:h}=je(t),{setPersistentCommerce:g}=W();d((()=>{v&&h&&g({ctaButtonProps:{href:h,variant:"commerce",children:j($e,{model:v})}})}),[g,v,h]);var _=void 0!==(null==n||null==(p=n.heroStandardContent)?void 0:p[1]),{sectionRefMapping:b}=L(),f=b.get(_v);return j(ya,{id:Vd(_v),ref:f,dataAttributes:{"data-automation":_v},children:Y("div",{className:Lt("iBTcE A",m?"bReOt A":null),children:[n&&_&&j("div",{className:"yBEjW ML",children:j(ee,{model:n})}),e&&j("div",{className:m?"UQqwu":"UZaZz ML",children:j(Lo,{model:e,hoursWeb:u&&m&&j(Er,{model:u}),showAboutAboveExperiment:m})}),Y("div",{className:Lt("MfZAk A",m&&Mt({marginTop:"spacing-05"})),children:[a&&j(Xo,{model:a}),l&&j(fr,{model:l}),null==c?void 0:c.map((e=>j(ma,{model:e},e.stableDiffingType))),o&&j(ti,{model:o}),r&&j(Zo,{model:r}),s&&j(ed,{model:s})]}),!m&&j("div",{className:"rRYpX A",children:i&&j(nd,{model:i})})]})})},fv=({sections:e,fetching:t,leftHandRailAds:n})=>{var i,l="MOBILE"===Ee(),r="DESKTOP"===Ee(),{getAdPosition:o}=Gd(),{sectionRefMapping:c}=L(),[s,u]=Ia(e),m=s("POI_OVERVIEW"),p=s("OPEN_HOURS"),v=s("POI_ABOUT"),h=s("BOOK_A_TOUR"),g=s("HERO_MEDIA"),_=s("TRAVELERS_TALK_ABOUT"),b=s("PRODUCTS_HEADER"),f=s("OMNIBUS_DISCLOSURE"),C=null!=(i=s("COMMERCE_UNAVAILABLE"))?i:e.filter((e=>"WebPresentation_BookingUnavailable"===e.__typename))[0],T=u("POI_LIST_CARD"),k=s("PRODUCTS_SEE_MORE"),y=s("MERCHANDISING_SHELF"),P=s("INLINE_AD"),A=s("CONTRIBUTE_CTA"),I=s("REVIEWS_AND_QA"),E=s("HAMON_DISCLAIMER"),x=s("RECENTLY_VIEWED_SHELF"),[S,N]=Ie();d((()=>{r||N()}),[r,N]);var R,w,O=a((()=>m&&v&&g&&(T||C)&&I?ae.ok:ae.missing),[v,C,g,m,T,I]),B=!r&&S;return Y(Q,{children:[j(ne,{component:ie.page,enabled:!1===t,status:O}),Cd(m)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_PoiOverviewWeb"},children:j(Nr,{model:m})}),gd(p)&&l&&!B&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiHoursWeb"},children:j(Er,{model:p})}),j(id,{about:pd(v)?v:null,bookATour:(null==h?void 0:h.link)||null,hero:hd(g)?g:null,travelersTalkAbout:Od(_)?_:null,omnibusDisclosure:md(f)?f:null,productsHeader:(w=b,"WebPresentation_ProductsTitle"===(null==w?void 0:w.__typename)?b:null),commerceUnavailable:(R=C,"WebPresentation_BookingUnavailable"===(null==R?void 0:R.__typename)?C:null),seeMore:Sd(k)?k:null,merchandisingShelf:ud(y)?y:null,openHours:gd(p)&&p||null,productCards:T.filter(Nd),showAboutAboveExperiment:B}),od(P)&&j(ya,{collapsedPadding:!0,dataAttributes:{"data-automation":"WebPresentation_AdPlaceholder"},children:j(ei,{model:P,inlineAdCounter:o(P)})}),B&&Od(_)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_TravelersTalkAbout"},children:j(nd,{model:_})}),vd(A)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiContribute"},children:j(Tr,{model:A})}),Td(I)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_PoiReviewsAndQAWeb"},id:Vd(I.__typename),ref:c.get(Ld(I)),children:j(uo,{model:I,leftHandRailAds:n})}),sd(E)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_DisclaimerSection"},children:j(vt,{model:E})}),ud(x)&&j(ya,{dataAttributes:{"data-automation":"WebPresentation_MediumCardsCarouselWeb"},children:j(ti,{model:x})})]})},Cv=({model:e,fetching:t,isSupplier:n})=>{var i,{container:l,detailSectionGroups:r,skippedSections:o}=null!=e?e:{},d=a((()=>r?Wd(r,!1):[]),[r]),c=a((()=>Md(d)),[d]),s=t&&!e,u=null!=l&&null!=(i=l.webAds)&&i.leftHandRailAd?[l.webAds.leftHandRailAd,l.webAds.secondLeftHandRailAd].filter(Boolean):void 0;return j(G,{children:j(F,{sectionRefMapping:c,children:Y(ka,{sections:d,children:[j(Ro,{sectionRefToTypenameMapping:c,saveShare:l?j(w,{model:l,useSmallIcons:!0}):null,seeAll:null!=l&&l.seeAllLink?j(O,{seeAllLink:l.seeAllLink}):null,sectionModels:d}),(s||n)&&j(ad,{sections:d,fetching:t,leftHandRailAds:u}),(s||!n)&&j(Jo,{sections:d,fetching:t,leftHandRailAds:u}),null==o?void 0:o.map((e=>j(P,{typename:e},e)))]})})})},Tv=({model:e})=>{var t,{container:n,detailSectionGroups:i,skippedSections:l}=e,r=K(),o=q(),d=null!=r||null!=o,c=a((()=>Wd(i,d)),[i,d]),s=c.find((e=>"WebPresentation_ProductAboveTheFoldCommerce"===(null==e?void 0:e.__typename))),u=Pd(s)?null==(t=s.price)?void 0:t.text:null,m=a((()=>Md(c)),[c]);return j(G,{children:j(F,{sectionRefMapping:m,children:Y(ka,{sections:c,children:[j(Ro,{sectionRefToTypenameMapping:m,saveShare:n?j(w,{model:n,useSmallIcons:!0}):null,seeAll:null!=n&&n.seeAllLink?j(O,{seeAllLink:n.seeAllLink}):null,sectionModels:c}),j(Ye,{children:null==i?void 0:i.filter(Boolean).map(((e,t)=>{var i;return j(Eo,{model:e,price:u,leftHandRailAds:null!=n&&null!=(i=n.webAds)&&i.leftHandRailAd?[n.webAds.leftHandRailAd,n.webAds.secondLeftHandRailAd].filter(Boolean):void 0,container:n},`group-${e.stableDiffingType||t}`)}))}),l&&l.map((e=>j(P,{typename:e},e)))]})})})};return[()=>{Ta=r({getAdPosition:()=>0}),ka=Dd,ya=n.forwardRef((function({id:e,collapsedPadding:t=!1,fullWidth:i=!1,fullBleedMobile:a=!1,dataAttributes:l={},children:r},o){var d=i?n.Fragment:J,c=a&&!i?{fullBleedMobile:!0}:null;return j("section",{className:$("vwOfI",{nlaXM:t}),id:e,children:j("div",{...l,ref:o,children:j(d,{...c,children:r})})})})),Pa=new Map([["WebPresentation_PoiAboutWeb",{title:j(le,{id:"hr_btf_about_header"}),trackingParameter:"about"}],["WebPresentation_ProductAboveTheFoldInfo",{title:j(le,{id:"fusion_poi_sticky_header_overview_tab"}),trackingParameter:"overview"}],["WebPresentation_ProductAboveTheFoldAccordionItem_accordionInclusions",{title:j(le,{id:"fusion_poi_sticky_header_details_tab"}),trackingParameter:"details"}],["WebPresentation_AttractionProductItineraryPlaceholder",{title:j(le,{id:"phoenix_poi_itinerary_title"}),trackingParameter:"itinerary"}],["WebPresentation_PoiLocationSectionGroup",{title:j(le,{id:"phoenix_poi_location_title"}),trackingParameter:"theArea"}],["WebPresentation_SupplierSectionGroup",{title:j(le,{id:"tabs_photos_fffff660"}),trackingParameter:"photos"}],["WebPresentation_ProductsTitle",{title:j(le,{id:"tabs_tours_and_tickets"}),trackingParameter:"toursAndTickets"}],["WebPresentation_PoiReviewsAndQAWeb",{title:j(le,{id:"tabs_reviews_fffff660"}),trackingParameter:"reviews"}]]),Aa=[...Pa.keys()],Ia=zd,Ea=new en({metricName:"xGVjdr3gM1XtVv+odO7jOAqlrXDn/q0JW42aymBty1JDpg2dy44DkCodjX5VcZlXbzUv03i9ohVuxvFbsVkyONZwxjHkcT9sn1L/UJwkHco=",version:0,additionalLabels:["xGVjdr3gM1XtVv+odO7jOAqlrXDn/q0JW42aymBty1KNCnYLP1o0rwC2PgvBMgzeQQlHt7X7glBFLQdUIrtm2VKAAn5Z7QjySuzZNEzkL6jey5B6gTuF9EKUVPyd/RBXUSMPn30YEJzr++0TvMH2WQ=="],labelHooks:[tn,nn]}),xa=new en({metricName:"ts912419q3EPn7D9vd3xmUDvqmqZHVh+VMb20o2eINL9WVvXYotUHP7u4GZDPSdsINF5bHMl9pz2y2IF6HEGYQ==",version:0,additionalLabels:["ts912419q3EPn7D9vd3xmTvzaSNECR3jEUjQJKY4VBotoA/q7vVzn8eEcc3yR1CJ+l/UW7IAek0tJxQR/cZiBiD6ElPHgsL/cqNUOwHWedvDnZiOiWZAuaHwXkUqbuETqvGd1anNgdqKA0eW7sw09A=="],labelHooks:[tn,nn]}),Sa=new en({metricName:"xGVjdr3gM1XtVv+odO7jODK96U05eZ4D8xdAYpxLJxlxUcxPW8TAMuGALmqqhBIICxJGhq4Zea6cYzU72ljCCHzrjrDLk4fftuB1E4NC0yY=",version:0,additionalLabels:["xGVjdr3gM1XtVv+odO7jODK96U05eZ4D8xdAYpxLJxkqZi8bmyojl8knz8S8UvvPu8qDraSX0YgiMiDf3IkmIuLheJ6LfxazPilWoB/yvdaPCc2fYL7ZQsuJ7qxNIu+8hgMfm6u//fR1DdxckfaAnw=="],labelHooks:[tn,nn]}),Na=f({executeQuery:Qd,extractPollingStatus:e=>C(null==e?void 0:e.status),mergeUpdate:T}),Ra=$d,wa=Zd,Oa=Xd,Ba=new Set([tc,nc,"RESULT_STATUS_ITEM_NOT_AVAILABLE",ec]),Wa=oc,La=y(dc,{memoize:!0}),Ma=y(cc),Da=y(sc),Fa=Ga=r({setTicketInfo:()=>{},clearTourGrade:()=>{},onSelectTicket:()=>{},onSelectTourGrade:()=>{},selectedTourGrade:null}),Ua=y(_c),Va=bc,za=y(Tc),Ha=y(kc),Ka=yc,qa=wc,ja=y(Wc),Ya=Lc,Qa=y(Fc),$a=y(Uc),Ja=Vc,Za=zc,Xa=Hc,el=A(qc),tl=y(Yc),nl=Qc,il=Jc,al=Zc,ll=es,rl=ts,ol=ls,dl=os,cl=ds,sl=cs,ul=ss,ml=us,pl=ms,vl=ps,hl=hs,gl=bs,_l=fs,bl=Cs,fl=Ts,Cl=ks,Tl=ys,kl=y(Es),yl=y(xs),Pl=Rs,Al=y(ws),Il=y(Ws),El=y(Ls),xl=y(Ms),Sl=Ds,Nl=Gs,Rl=Fs,wl=zs,Ol=Hs,Bl=A(Ks),Wl=A(Ys),Ll=A(Qs),Ml=y($s),Dl=y(Js),Gl=A(Xs),Fl=A(eu),Ul=A(tu),Vl=nu,zl=y(iu,{memoize:!0}),Hl=A(au),Kl=A(lu),ql=A(ru),jl=ou,Yl=y(cu),Ql=A(su),$l=A(uu),Jl=y(mu),Zl=y(pu),Xl=A(vu),er=y(gu),tr=y(_u),nr=y(bu),ir=y(fu),ar=y(Cu),lr=y(xu),rr=Su,or=Nu,dr=y(Mu),cr=Fu,sr=y(Uu,{trackVisible:!1}),ur=A(Vu),mr=A(zu),pr=A(Hu),vr=y(Ku),hr=A(qu),gr=h(Yu),_r=y(Qu),br=y($u),fr=Ju,Cr=_((()=>t("h7b4bm"))),Tr=A(Xu),kr=A(em),yr=x(tm),Pr=nm,Ar=im,Ir=A(am),Er=A(lm),xr=rm,Sr=A(dm),Nr=A(um),Rr=y(vm,{memoize:!0}),wr=y(hm,{memoize:!0}),Or=x(gm),Br=A(_m),Wr=A(bm),Lr=fm,Mr=Cm,Dr=ym,Gr=Pm,Fr=y(Am),Ur=A(Im),Vr=A(Em),zr=A(xm),Hr=A(Sm),Kr=y(Nm),qr=x(Rm),jr=x(wm),Yr=y(Om),Qr=y(Bm),$r=y(Wm),Jr=y(Mm),Zr=A(Dm),Xr=A(Gm),eo=y(Fm),to=A(Um),no=A(zm),io=A(Hm),ao=A(Km),lo=y(qm),ro=y(jm,{trackVisible:!1}),oo=y(Ym),co=y($m),so=y(Zm),uo=y(tp),mo=y(ip),po=ap,vo=lp,ho=rp,go=y(op),_o=dp,bo=cp,fo=y(hp,{trackVisible:!1}),Co=fp,To=y(Cp),ko=Tp,yo=kp,Po=yp,Ao=y(Ap),Io=y(Ip,{trackVisible:!1}),Eo=Ep,xo=h(xp),So=Sp,No=h(Np),Ro=h(Rp),wo=y(wp,{memoize:!0}),Oo=A(Bp),Bo=A(Wp),Wo=Dp,Lo=y(Fp),Mo=y(Up,{memoize:!0}),Do=A(Vp),Go=y(zp,{memoize:!0}),Fo=A(Hp),Uo=A(Kp),Vo=jp,zo=A(Yp),Ho=A(Qp),Ko=y($p),qo=A(Jp),jo=y(Zp),Yo=x(Xp),Qo=x(rv),$o=cv,Jo=sv,Zo=A(uv),Xo=y(mv),ed=A(pv),td=A(hv),nd=A(gv),id=bv,ad=fv,ld=y(Cv,{memoize:!0}),rd=y(Tv,{memoize:!0}),e({AttractionProductReviewResponse:rd,AttractionReviewResponse:ld,default:wo,extractSections:Wd})},[e=>(n=e,i=e.createRef,a=e.useMemo,l=e.useCallback,r=e.createContext,o=e.useContext,d=e.useEffect,c=e.useReducer,s=e.useState,u=e.useLayoutEffect,m=e.useRef,p=e.useId,v=e.Fragment,h=e.memo,g=e.Suspense,_=e.lazy,b=e.Children),e=>(f=e.createUseWPSQuery,C=e.defaultExtractPollingStatus,T=e.defaultMergeSectionResults,k=e.useTracking,y=e.fused,P=e.WPSUnsupportedType,A=e.fusionComponent,I=e.FusionTrackedLink,E=e.stringToNumber,x=e.fuse,S=e.useEntrypointContext,N=e.LoadingContext,R=e.useViewportCategory),e=>(w=e.SaveAndShare,O=e.SeeAll),e=>(B=e.default,W=e.usePersistentCommerceContext,L=e.useSectionScrollContext,M=e.useRegisterScrollHandler,D=e.useStickyHeaderContext,G=e.PersistentCommerceProvider,F=e.SectionScrollProvider),e=>(U=e.useSupplierTrustData,V=e.useProductReviewsCount,z=e.useWhatToExpectModel,H=e.useOverviewModel,K=e.useProductItineraryModel,q=e.useMDTProductItineraryModel),e=>(j=e.jsx,Y=e.jsxs,Q=e.Fragment),e=>$=e.default,e=>J=e.default,e=>(Z=e.PoiHeroStandardWeb,X=e.getHeroImageInfo,ee=e.PoiHeroShelf),e=>(te=e.default,ne=e.StatusCounter,ie=e.Component,ae=e.Status),e=>(le=e.default,re=e.useIntlFormatter,oe=e.useLocalize,de=e.UnsafeLocalize,ce=e.useRtl,se=e.useLanguage),e=>(ue=e.useFragmentControlledModal,me=e.useModalWithTracking,pe=e.usePageLayoutContext),e=>(ve=e.useReorderAvailableTimesTest,he=e.useBookingModuleDesktopTest,ge=e.useSpecificErrorsTest,_e=e.useCheckAvailabilityCtaCopyTest,be=e.useOptimizeCalendarTest,fe=e.useBookingModuleMobileTest,Ce=e.useFromPriceAprPageCommerceOptimizationTest,Te=e.useExpandedWhatsIncludedWebTest,ke=e.useFreeCancellationToFullyRefundable,ye=e.useMoveHeaderAndSaveAndShareTest,Pe=e.usePivotsAndDesktopH1UpOnArpTest,Ae=e.useAPRDatePaxPickerTest,Ie=e.useSupplierAboutAboveShelfTest),e=>Ee=e.useViewportCategory,e=>(xe=e.default,Se=e.BorderlessButton,Ne=e.CircularButton),e=>Re=e.default,e=>we=e.default,e=>(Oe=e.useViatorClickOffContext,Be=e.ViatorClickOffCounterBucket,We=e.ViatorClickOffCounter),e=>(Le=e.default,Me=e.StrikethroughPrice),e=>(De=e.default,Ge=e.useGetTermsLinks),e=>(Fe=e.deriveLinkInfoFromUpdateLink,Ue=e.deriveLinkInfo,Ve=e.useMessageLink,ze=e.deriveLinkInfoFromInternalLink,He=e.useMessageLinkDispatch,Ke=e.deriveLinkInfoFromInternalOrExternalLink,qe=e.deriveLinkInfoFromExternalLink,je=e.deriveLinkInfoFromBaseLink,Ye=e.MessageLinkContextProvider),e=>Qe=e.default,e=>$e=e.default,e=>Je=e.useSessionId,e=>Ze=e.OverlayPortal,e=>Xe=e.useExperimentWithDeferredImpression,e=>et=e.useIsSubscribedToOptimus,e=>tt=e.useIsRobotSafe,e=>(nt=e.fetchDeleteNotifications,it=e.fetchCartSummary),e=>at=e.default,e=>lt=e.default,e=>rt=e.Modal,e=>(ot=e.default,dt=e.useAttractionDates,ct=e.useAttractionPax,st=e.useSingleDatePicker,ut=e.usePaxPicker,mt=e.useSingleDateChangerText,pt=e.useSingleDateChangerArrow),e=>vt=e.default,e=>ht=e.LabelsList,e=>gt=e.usePixelCallback,e=>_t=e.useGTMCallback,e=>bt=e.default,e=>ft=e.useCartHeaderContext,e=>(Ct=e.ExperiencesCartAdd,Tt=e.ExperiencesCartAddStatus,kt=e.ExperiencesCartAddSource,yt=e.ExperiencesCartAddCartless),e=>Pt=e.FunnelTracking,e=>(At=e.AbandonedCartFreqController,It=e.AbandonedCheckoutFreqController),e=>Et=e.Spinner,e=>xt=e.ChipButton,e=>(St=e.BubbleRatingWithReviewCount,Nt=e.BubbleRatingWithLabel,Rt=e.BubbleRating),e=>wt=e.default,e=>Ot=e.default,e=>(Bt=e.RadioButton,Wt=e.RadioGroup),e=>(Lt=e.default,Mt=e.margin,Dt=e.getMarginProps),e=>Gt=e.ReadMore,e=>Ft=e.default,e=>Ut=e.useOnVisible,e=>Vt=e.default,e=>(zt=e.useOptimusInteraction,Ht=e.useOptimusImpression,Kt=e.OptimusImpressionWrapper),e=>qt=e.default,e=>jt=e.default,e=>Yt=e.default,e=>Qt=e.uuid,e=>($t=e.useCashbackEnabled,Jt=e.useBundledPlusOnExperiencesEnabled),e=>Zt=e.default,e=>Xt=e.default,e=>(en=e.Counter,tn=e.useSourceLabel,nn=e.useViewportLabel,an=e.ErrorBoundary),e=>(ln=e.default,rn=e.LinkStyle),e=>on=e.default,e=>dn=e.default,e=>cn=e.useExperiencesCashbackEnabled,e=>sn=e.useQuery,e=>un=e.useTravelInfo,e=>mn=e.useAttractionCommerceParametersContext,e=>(pn=e.CdnImage,vn=e.useCdnPrefix),e=>hn=e.ShelvesByShelfType,e=>(gn=e.useRoute,_n=e.usePageviewUid,bn=e.useNavigate,fn=e.getRouteFromPath),e=>Cn=e.FreeCancellationIconNew,e=>(Tn=e.deprioritize,kn=e.useKeyboardFocusableClassName),e=>yn=e.ModalBase,e=>Pn=e.default,e=>An=e.default,e=>In=e.default,e=>En=e.LowPriceGuaranteeModal,e=>xn=e.default,e=>Sn=e.default,e=>Nn=e.default,e=>Rn=e.default,e=>wn=e.default,e=>On=e.default,e=>Bn=e.default,e=>(Wn=e.Tooltip,Ln=e.HybridTooltip),e=>Mn=e.default,e=>Dn=e.default,e=>(Gn=e.default,Fn=e.ControlledCollapsibleListItem),e=>Un=e.default,e=>Vn=e.default,e=>zn=e.TrackingScope,e=>Hn=e.useUserAgent,e=>Kn=e.default,e=>qn=e.default,e=>jn=e.default,e=>Yn=e.default,e=>Qn=e.default,e=>($n=e.useServiceBackedFaq,Jn=e.FaqAnswer),e=>Zn=e.FaqPageJsonLd,e=>Xn=e.default,e=>ei=e.default,e=>ti=e.default,e=>ni=e.Carousel,e=>ii=e.FlexContainer,e=>ai=e.default,e=>li=e.useIsLongLanguage,e=>(ri=e.TabBar,oi=e.Tab),e=>(di=e.VerticalCardAdapter,ci=e.HorizontalMinimalCardWithBackground),e=>si=e.default,e=>ui=e.default,e=>mi=e.useUserId,e=>pi=e.default,e=>(vi=e.default,hi=e.useImageSource),e=>gi=e.useLinkTarget,e=>_i=e.getImageSourcePhotoItem,e=>bi=e.OmnibusDisclosureMessage,e=>fi=e.useRemoveAprAdsTest,e=>Ci=e.default,e=>Ti=e.default,e=>ki=e.useUserReviewTracking,e=>yi=e.useHasDraftReviewForLocation,e=>Pi=e.useContextualUserReviewUrl,e=>Ai=e.ClaimListing,e=>Ii=e.default,e=>Ei=e.default,e=>xi=e.useDetailStateContext,e=>Si=e.default,e=>Ni=e.default,e=>Ri=e.useDebouncedCallback,e=>wi=e.default,e=>(Oi=e.MultiSelectChipBar,Bi=e.SingleSelectChipBar),e=>Wi=e.DropdownMenu,e=>Li=e.HistogramBar,e=>Mi=e.default,e=>Di=e.default,e=>Gi=e.default,e=>Fi=e.default,e=>Ui=e.default,e=>Vi=e.default,e=>zi=e.default,e=>Hi=e.default,e=>Ki=e.default,e=>(qi=e.default,ji=e.useHorizontalScrollButtonsState),e=>Yi=e.default,e=>Qi=e.default,e=>($i=e.getDefaultAlbumId,Ji=e.defaultMediaSettings,Zi=e.getPageMediaSettings),e=>Xi=e.default,e=>ea=e.default,e=>ta=e.default,e=>na=e.getImageSource,e=>ia=e.decode,e=>aa=e.useMapEntrypoint,e=>la=e.default,e=>ra=e.HoverTooltip,e=>oa=e.default,e=>(da=e.LatLngBounds,ca=e.LatLng,sa=e.Util),e=>ua=e.default,e=>ma=e.default,e=>pa=e.Avatar,e=>va=e.usePageContentAnnotations,e=>ha=e.default,e=>ga=e.default,e=>_a=e.default,e=>ba=e.default,e=>fa=e.default,e=>Ca=e.default]]},["1o4yt4","rmpbxq","tjyt1c","efgdqy","wuy6gz","121h32","fkji80","94v69w","1k2n36","16nmgr","17thqz","lsw8fw","2heyv0","1ys6v1","jppfwt","1evvug","1essqv","1tbwmx","ec91du","1l28j5","3j2edp","1qg907","1lg8go","1al4vi","14euae","gugp1d","14tv4a","1mb2nz","wv1t5y","1cd4f9","17nq86","1i3sz5","f1gfnw","1g63p3","8aurmi","1emwhd","1904jn","48e5lh","3cotbs","z72bsq","1kkqcv","13srhr","1qndsd","1b1clj","1bkeq2","livpad","covaqn","frf6ac","gw8uw6","wgun1f","oz3g7e","13btuy","1qt57h","1yc73m","1bnv3w","1odu6j","1g6kun","1eww82","17g0c7","1i0z8n","14ilds","183pm0","lr6tb6","ebif6s","sw5ax0","1c1c0g","1mqwhq","1etaac","1jy16c","1s6q22","cth31o","fgwvq1","scxj49","12r4qu","1uzmmz","1qkjm8","6hf0eg","18i9ze","b41ssc","2t8e04","1w1yg7","1rctp9","1wp1i7","1xb8dq","1nylcp","yy6083","7c3vnd","nelj0c","joj99y","1ahn2t","me90gf","155gpl","zzfm0c","1nnprh","1d0lmv","1y0uq3","6qmqhw","a6i9w3","ph9l42","mhkl02","1a7906","1n05zc","1ia6ub","lbsqxm","17yaz6","9n0mx2","1glakn","1b49gx","1227h6","u7foql","wf1qjb","xg719z","52far5","7a7jm3","34bu7w","rdeq8t","defk1u","1bxtwp","1nexzi","2j5if1","1pf9bw","1tbrqz","xdpdn6","o8gqrw","154yoa","1p9d7t","14wi38","qpddt1","1shkoq","9bcnfh","dsbyen","gppdva","1d4cn1","1ntn26","vkbajy","przyts","633gr8","1dseic","2hdgr9","1kq4q2","177ib2","1tf8ft","9fds1k","1u16nt","aa8hvr","t480an","ejmcf4","1r144n","bw5mmp","1dpmjf","bfq5gh","aikxox","ulejzu","fo3pfa","zq967r","1xm2jz","1u67rh","1jgmez","174j83","1dvrvf","ljqkwp","1llqsf","1gjtat","1eki1k","1lzos1","b1qg3y","amsjo9","9sov81"]]);
