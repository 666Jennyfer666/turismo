(this.$WP=this.$WP||[]).push(["1etaac",(t,e)=>{"use strict";var a,s,r,l,n,i,u,h,o,c,d,D,g,p,v,f,m,I,k,y,R,A=()=>s(g),C=(t,e)=>(null===t?null:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`)===(null===e?null:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`),O={CUR:(t,e)=>({currency:e}),HD:(t,e)=>{var a=e.split(".");if(a.length<2)return null;var s=u(a[0]),r=u(a[1]);return null===s||null===r?null:{key:"HD",checkIn:s,checkOut:r,pageLocationId:a.length>2&&parseInt(a[2],10)||null}},HDD:(t,e)=>{var a=e.split(".");if(a.length<2)return null;var s=u(a[0]),r=u(a[1]);return null===s||null===r?null:{key:"HDD",checkIn:s,checkOut:r,attemptedToUpdateDefaultDates:a.length>2&&"1"===a[2]}},HC:()=>({key:"HC"}),G:(t,e)=>{var a=e.split("."),s=parseInt(a[0],10),r=parseInt(a[1],10);return a.length<2?null:{key:"G",adults:0===s?0:s||2,rooms:0===r?0:r||1,pageLocationId:a.length>2&&parseInt(a[2],10)||null,childAgesPerRoom:a.length>3?h(a[3]):[]}},CG:()=>({key:"CG"}),LD:(t,e)=>{var a=e.split(".");return a.length<6?null:{key:"LD",arrivalYear:parseInt(a[0],10)||0,arrivalMonth:parseInt(a[1],10)||0,arrivalDay:parseInt(a[2],10)||0,departureYear:parseInt(a[3],10)||0,departureMonth:parseInt(a[4],10)||0,departureDay:parseInt(a[5],10)||0}},LG:(t,e)=>{var a=e.split(".");return a.length<3?null:{key:"LG",adults:parseInt(a[0],10)||0,rooms:parseInt(a[1],10)||0,childAgesPerRoom:a.length>3?h(a[3]):[]}},VPD:(t,e)=>{var a=e.split(".");if(a.length<2)return null;var s=u(a[0]),r=u(a[1]);return null===s||null===r?null:{key:"VPD",departureDate:s,returnDate:r}},HMD:(t,e)=>{var a=e.split(".");if(a.length<4)return null;var s=u(a[0]),r=u(a[1]);return null===s||null===r?null:{key:"HMD",checkIn:s,checkOut:r,fuzzyDates:"true"===a[2],defaultDates:"true"===a[3],geoId:a.length>4&&parseInt(a[4],10)||1,currentGeoId:a.length>5&&parseInt(a[5],10)||1}},VPRG:(t,e)=>{var a=e.split(".");if(a.length<2)return null;var s=parseInt(a[0],10),r=parseInt(a[1],10);return{key:"VPRG",rooms:0===s?0:s||1,adults:0===r?0:r||2,childAgesPerRoom:a.length>2?h(a[2]):[]}},AC:()=>({key:"AC"}),ARC:()=>({key:"ARC"}),AD:(t,e)=>{var a=e.split(".");return{key:"AD",tourDate:u(a[0]),locationId:a.length>1&&parseInt(a[1],10)||null}},ADD:(t,e)=>{var a=e.split(".");return{key:"ADD",tourDate:u(a[0])||null}},ARD:(t,e)=>{var a=e.split(".");return a.length<2?null:{key:"ARD",fromDate:u(a[0]),toDate:u(a[1]),locationId:a.length>2&&parseInt(a[2],10)||null}},ARDD:(t,e)=>{var a=e.split(".");return a.length<2?null:{key:"ARDD",fromDate:u(a[0]),toDate:u(a[1])}},APAX:(t,e)=>{var a=e.split(".");return a.length<2?null:{key:"APAX",adults:parseInt(a[0],10)||2,children:parseInt(a[1],10)||0}},RC:()=>({key:"RC"}),RD:(t,e)=>{var a=e.split(".");return{key:"RD",date:u(a[0]),locationId:a.length>1&&parseInt(a[1],10)||null}},RDD:(t,e)=>{var a=e.split("."),s=u(a[0]);return null===s?null:{key:"RDD",date:s}},RT:(t,e)=>null==e?null:{key:"RT",time:e},RG:(t,e)=>{var a=parseInt(e,10)||null;return null==a?null:{key:"RG",guests:a}},RTD:(t,e)=>{var a=e.split("."),s=u(a[0]),r=u(a[1]);return null===s||null===r?null:{key:"RTD",departureDate:s,returnDate:r}},OWD:(t,e)=>{var a=e.split("."),s=u(a[0]);return null===s?null:{key:"OWD",date:s}},FO:(t,e)=>({key:"FO",airportCode:e}),FD:(t,e)=>({key:"FD",airportCode:e}),FT:(t,e)=>{for(var a=e.split("."),s=parseInt(a[0],10)||0,r=parseInt(a[1],10)||0,l=[],n=0,i=2;i<a.length;i++){var u=a[i];if(u.startsWith("CS")){var h=parseInt(u.substring(2),10);n=h>=0?h:0}else{var o=parseInt(u,10);o>=0&&l.push(o)}}return{key:"FT",adults:s,seniors:r,childAges:l,cosIndex:n}},VRD:(t,e)=>{var a=e.split(".");if(a.length<2)return null;var s=u(a[0]),r=u(a[1]);return null===s||null===r?null:{key:"VRD",checkInDate:s,checkOutDate:r}},VRC:()=>({key:"VRC"}),VRG:(t,e)=>{var a=e.split(".");return a.length<2?null:{key:"VRG",adults:parseInt(a[0],10)||2,children:parseInt(a[1],10)||0}},VRCG:()=>({key:"VRCG"})},$=(t,e)=>(null===t?null:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`)===(null===e?null:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`),T=t=>t&&t.split("*").map((t=>{var e=t.split("-");return e.length<2?null:e.length<=3?e:[e[0],e[1],e.slice(2).join("-")]})).filter(Boolean)||[],M=t=>decodeURIComponent(t.startsWith("%1%")?t.substring(3):t),P=()=>{var t="undefined"!=typeof document&&document.cookie,e=t&&t.match(/(?:^| )TAUD=([^;]+)/);return e&&e[1]?M(e[1]):null},S=({taud:t,children:e})=>{var[a,s]=r((()=>new D(T(M(null!=t?t:""))).getTravelInfoData()));l((()=>{var e=P();e!==M(null!=t?t:"")&&s(new D(T(e)).getTravelInfoData())}),[t]);var i=n((()=>{return t=s,e=(...e)=>{var a=e.map((t=>`${t.arg}=${t.value}`)).join("&");R=R.then((()=>fetch(`/UpdateSessionDatesAjax?${a}`,{credentials:"same-origin"}).then((()=>{requestIdleCallback((()=>(t=>{var e=P();t((t=>({...t,...new D(T(e)).getTravelInfoData()})))})(t)))}))))},a=(t,a)=>{e({arg:t,value:`${a}`})},{preferences:{setCurrency:e=>{a("zuc",e),t((t=>({...t,preferences:{userSelectedCurrencyOverride:e}})))}},attractions:{setSingleDate:e=>{a("attrdate",null===e?"_":o(e)),t((t=>({...t,attractions:{...t.attractions,singleDate:e}})))},setDates:(e,s)=>{a("attrrange",`${o(e)}_${o(s)}`),t((t=>({...t,attractions:{...t.attractions,fromDate:e,toDate:s}})))},setPassengers:(e,s)=>{a("zuf",`${e}_${s}`),t((t=>({...t,attractions:{...t.attractions,adults:e,children:s}})))}},restaurants:{setDate:e=>{a("eaterydate",null===e?"_":o(e)),t((t=>({...t,restaurants:{...t.restaurants,date:e}})))},setGuests:e=>{a("eateryguests",null===e?"-1":e),t((t=>({...t,restaurants:{...t.restaurants,guests:e}})))},setTime:(e,s)=>{a("eaterytime",`${e}_${s}`),t((t=>({...t,restaurants:{...t.restaurants,time:{hour:e,minute:s}}})))},setTravelInfo:(a,s,r)=>{e({arg:"eaterydate",value:null===a?"_":o(a)},{arg:"eateryguests",value:null===r?"-1":`${r}`},{arg:"eaterytime",value:null===s?"_":`${s.hour}_${s.minute}`}),t((t=>({...t,restaurants:{...t.restaurants,date:a,guests:r,time:s}})))},clearAll:()=>{a("eateryclearall",""),t((t=>({...t,restaurants:{...t.restaurants,date:null,time:null,guests:null}})))}},hotels:{setStayDates:(e,s)=>{a("staydates",`${o(e)}_${o(s)}`),t((t=>({...t,hotels:{...t.hotels,checkInDate:e,checkOutDate:s}})))},setGuestInfo:(e,s,r)=>{a("uguests",`${s}_${e}${r.length>0?`_${r.map((t=>t.join(","))).join(":")}`:""}`),t((t=>({...t,hotels:{...t.hotels,adults:e,rooms:s,childAgesPerRoom:r,children:r.flat().length}})))},setTravelInfo:(a,s,r,l,n)=>{e({arg:"uguests",value:`${l}_${r}${n.length>0?`_${n.map((t=>t.join(","))).join(":")}`:""}`},{arg:"staydates",value:`${o(a)}_${o(s)}`}),t((t=>({...t,hotels:{...t.hotels,checkInDate:a,checkOutDate:s,defaultDates:!1,adults:r,rooms:l,childAgesPerRoom:n,children:n.flat().length}})))}},flights:{setOneWayDate:e=>{a("oneway",o(e)),t((t=>({...t,flights:{...t.flights,oneWayDate:e}})))},setRoundTripDates:(e,s)=>{a("rtdates",`${o(e)}_${o(s)}`),t((t=>({...t,flights:{...t.flights,departureDate:e,returnDate:s}})))},setOriginAirportCode:e=>{a("flightorig",e),t((t=>({...t,flights:{...t.flights,originAirportCode:e}})))},setDestinationAirportCode:e=>{a("flightdest",e),t((t=>({...t,flights:{...t.flights,destinationAirportCode:e}})))},setTravelerInfo:(e,s,r,l)=>{var n=0;switch(l){case"BUSINESS":n=1;break;case"FIRST":n=2;break;case"PREMIUM_ECONOMY":n=3;break;default:n=0}var i=r.map((t=>`_${t}`)).join("");a("travelerinfo",`${e}_${s}_${n}${i}`),t((t=>({...t,flights:{...t.flights,adults:e,seniors:s,childAges:r,classOfService:l}})))}},vr:{setStayDates:(e,s)=>{a("staydates",`${o(e)}_${o(s)}`),t((t=>({...t,vr:{...t.vr,checkInDate:e,checkOutDate:s}})))},setGuestInfo:(e,s)=>{var r=Math.ceil(e/4);a("uguests",c(r,e,[])),t((t=>({...t,vr:{...t.vr,adults:e,children:s}})))},setTravelInfo:(a,s,r,l)=>{var n=Math.ceil(r/4);e({arg:"uguests",value:c(n,r,[])},{arg:"staydates",value:`${o(a)}_${o(s)}`}),t((t=>({...t,vr:{...t.vr,checkInDate:a,checkOutDate:s,adults:r,children:l}})))}}};var t,e,a}),[]),u=n((()=>({...a,update:i})),[a,i]);return d(p,{value:u,children:e})};return[()=>{g=a({preferences:{userSelectedCurrencyOverride:"USD"},attractions:{singleDate:null,toDate:null,fromDate:null,adults:null,children:null},restaurants:{date:null,guests:null,time:null},hotels:{checkInDate:new Date,checkOutDate:new Date,defaultDates:!0,rooms:0,adults:0,children:0,childAgesPerRoom:[]},flights:{oneWayDate:null,departureDate:null,returnDate:null,originAirportCode:null,destinationAirportCode:null,adults:1,seniors:0,childAges:[],classOfService:null},vr:{checkInDate:null,checkOutDate:null,adults:2,children:0},update:{preferences:{setCurrency:()=>{}},attractions:{setSingleDate:()=>{},setDates:()=>{},setPassengers:()=>{}},restaurants:{setDate:()=>{},setTime:()=>{},setGuests:()=>{},setTravelInfo:()=>{},clearAll:()=>{}},hotels:{setStayDates:()=>{},setGuestInfo:()=>{},setTravelInfo:()=>{}},flights:{setOneWayDate:()=>{},setRoundTripDates:()=>{},setOriginAirportCode:()=>{},setDestinationAirportCode:()=>{},setTravelerInfo:()=>{}},vr:{setStayDates:()=>{},setGuestInfo:()=>{},setTravelInfo:()=>{}}}}),p=g.Provider,v=class{constructor(){this.currency=null}CUR(t){this.currency=t.currency}},f=class{constructor(){var t;this.today=(t=new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate())),this.clearedDate=!1,this.userSetRangeDates=!1,this.fromDate=null,this.toDate=null,this.singleDate=null,this.adults=0,this.children=0}AC(t){this.fromDate=null,this.toDate=null,this.singleDate=null,this.clearedDate=!0}ARC(t){this.fromDate=null,this.toDate=null,this.singleDate=null,this.clearedDate=!0}AD(t){this.validateAndRecordSingleDate(t.tourDate)}ADD(t){null!==this.singleDate||this.clearedDate||this.validateAndRecordSingleDate(t.tourDate)}ARD(t){this.validateAndRecordRangeDates(t.fromDate,t.toDate)}ARDD(t){null!==this.fromDate||null!==this.toDate||this.clearedDate||this.validateAndRecordRangeDates(t.fromDate,t.toDate)}APAX(t){this.adults=t.adults,this.children=t.children}validateAndRecordSingleDate(t){null===t||t<this.today||(this.singleDate=t,(null===this.fromDate||null===this.toDate||this.singleDate<this.fromDate||this.singleDate>this.toDate)&&(this.fromDate=t,this.toDate=t))}validateAndRecordRangeDates(t,e){null==t||t<this.today||null==e||e<t||(this.fromDate=t,this.toDate=e,(null==this.singleDate||this.singleDate<t||this.singleDate>e)&&(this.singleDate=t),this.userSetRangeDates=!0)}},m=class{constructor(){var t;this.today=(t=new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate())),this.airportCodeRegExp=new RegExp("^[A-Z]{3}$"),this.oneWayDate=new Date(this.today.getFullYear(),this.today.getMonth(),this.today.getDate()+14),this.departureDate=this.oneWayDate,this.returnDate=new Date(this.departureDate.getFullYear(),this.departureDate.getMonth(),this.departureDate.getDate()+7),this.originAirportCode=null,this.destinationAirportCode=null,this.adults=1,this.seniors=0,this.childAges=[],this.classOfService="ECONOMY"}RTD(t){this.validateAndRecordRoundTripDatesDate(t.departureDate,t.returnDate)}OWD(t){this.validateAndRecordOneWayDate(t.date)}FO(t){this.airportCodeRegExp.test(t.airportCode)&&(this.originAirportCode=t.airportCode)}FD(t){this.airportCodeRegExp.test(t.airportCode)&&(this.destinationAirportCode=t.airportCode)}FT(t){var e;switch(this.adults=Math.max(0,t.adults),this.seniors=Math.max(0,t.seniors),this.childAges=t.childAges,this.adults||this.seniors||null!=(e=this.childAges)&&e.length||(this.adults=1),t.cosIndex){case 1:this.classOfService="BUSINESS";break;case 2:this.classOfService="FIRST";break;case 3:this.classOfService="PREMIUM_ECONOMY";break;default:this.classOfService="ECONOMY"}}validateAndRecordOneWayDate(t){t&&(this.oneWayDate=this.keepDateInRange(t))}validateAndRecordRoundTripDatesDate(t,e){!t||!e||t>e||(this.departureDate=this.keepDateInRange(t),this.returnDate=this.keepDateInRange(e))}keepDateInRange(t){return t<this.today?this.today:t}},I=class{constructor(){this.today=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.date=null,this.time=null,this.guests=null}RC(t){this.date=null,this.time=null,this.guests=null}RD(t){this.validateAndRecordDate(t.date)}RT(t){this.time=i(t.time)}RG(t){this.guests=t.guests}validateAndRecordDate(t){null===t||t<this.today||(this.date=t)}},k=class{constructor(){var t;this.today=(t=new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate())),this.checkIn=null,this.checkOut=null,this.userDates=!1,this.defaultDates=!0,this.rooms=1,this.adults=2,this.childAgesPerRoom=[]}HD(t){this.updateDates(t.checkIn,t.checkOut)&&(this.defaultDates=!1,this.userDates=!0)}HDD(t){this.updateDates(t.checkIn,t.checkOut)&&(this.defaultDates=!0,this.userDates=!1)}HC(t){this.clearDates()}G(t){this.rooms=t.rooms,this.adults=t.adults,this.childAgesPerRoom=t.childAgesPerRoom,this.sanitizeTravelerInfo()}CG(t){this.clearGuestsRooms()}LD(t){0===t.arrivalYear&&0===t.arrivalMonth&&0===t.arrivalDay&&0===t.departureYear&&0===t.departureMonth&&0===t.departureDay&&this.clearDates();var e=this.checkIn,a=this.checkOut,s=new Date(t.arrivalYear,t.arrivalMonth-1,t.arrivalDay),r=new Date(t.departureYear,t.departureMonth-1,t.departureDay);!this.updateDates(s,r)||C(this.checkIn,e)&&C(this.checkOut,a)||(this.defaultDates=!1)}LG(t){this.adults=t.adults,this.rooms=t.rooms,this.childAgesPerRoom=t.childAgesPerRoom,this.sanitizeTravelerInfo()}VPD(t){this.updateDates(t.departureDate,t.returnDate)&&(this.userDates=!0,this.defaultDates=!1)}HMD(t){t.fuzzyDates||this.userDates||!this.updateDates(t.checkIn,t.checkOut)||(this.userDates=!0,this.defaultDates=!1)}VPRG(t){this.rooms=t.rooms,this.adults=t.adults,this.childAgesPerRoom=t.childAgesPerRoom,this.sanitizeTravelerInfo()}sanitizeTravelerInfo(){var t=this.rooms||0,e=this.adults||0;t<1?t=1:t>8?t=8:e>4*t&&(t=(e+4-1)/4),e<1?e=2:e<t?e=t:e>4*t&&(e=4*t),this.rooms=t,this.adults=e}clearDates(){this.checkIn=null,this.checkOut=null,this.defaultDates=!1,this.userDates=!1}clearGuestsRooms(){this.rooms=1,this.adults=2,this.childAgesPerRoom=[]}updateDates(t,e){return t<this.today||e<=t?(this.clearDates(),!1):(this.checkIn=t,this.checkOut=e,!0)}},y=class{constructor(){var t;this.today=(t=new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate())),this.checkInDate=null,this.checkOutDate=null,this.userDates=!1,this.defaultDates=!1,this.adults=2,this.children=0}VRD(t){this.updateDates(t.checkInDate,t.checkOutDate)}VRC(t){this.clearDates()}VRG(t){this.adults=t.adults,this.children=t.children,this.sanitizeTravelerInfo()}VRCG(t){this.clearGuests()}LD(t){0===t.arrivalYear&&0===t.arrivalMonth&&0===t.arrivalDay&&0===t.departureYear&&0===t.departureMonth&&0===t.departureDay&&this.clearDates();var e=this.checkInDate,a=this.checkOutDate,s=new Date(t.arrivalYear,t.arrivalMonth-1,t.arrivalDay),r=new Date(t.departureYear,t.departureMonth-1,t.departureDay);!this.updateDates(s,r)||$(this.checkInDate,e)&&$(this.checkOutDate,a)||(this.defaultDates=!1)}LG(t){this.adults=t.adults,this.sanitizeTravelerInfo()}sanitizeTravelerInfo(){this.adults=this.adults||2,this.children=this.children||0}clearDates(){this.checkInDate=null,this.checkOutDate=null,this.userDates=!1}clearGuests(){this.adults=2,this.children=0}updateDates(t,e){return t<this.today||e<=t?(this.clearDates(),!1):(this.checkInDate=t,this.checkOutDate=e,!0)}},D=class{constructor(t){this.accumulators={preferences:new v,attractions:new f,restaurants:new I,flights:new m,hotels:new k,vr:new y},this.stamp=null,this.records=void 0,this.records=t,t.forEach((([t,e,a])=>{t&&e&&this.accumulate(t,parseInt(e,10),a)}))}accumulate(t,e,a){var s=e;if(null===this.stamp?this.stamp=e:s+=this.stamp,t in O){var r=t,l=O[r](s,a);l&&Object.values(this.accumulators).forEach((t=>r in t&&t[r](l)))}return this}getTravelInfoData(){var{checkIn:t}=this.accumulators.hotels,{checkOut:e}=this.accumulators.hotels,a=null==t||null==e?null:{checkInDate:t,checkOutDate:e,defaultDates:this.accumulators.hotels.defaultDates,rooms:this.accumulators.hotels.rooms,adults:this.accumulators.hotels.adults,children:this.accumulators.hotels.childAgesPerRoom.flat().length,childAgesPerRoom:this.accumulators.hotels.childAgesPerRoom};return{preferences:{userSelectedCurrencyOverride:this.accumulators.preferences.currency},attractions:{fromDate:this.accumulators.attractions.fromDate,toDate:this.accumulators.attractions.toDate,singleDate:this.accumulators.attractions.singleDate,adults:this.accumulators.attractions.adults,children:this.accumulators.attractions.children},restaurants:{date:this.accumulators.restaurants.date,time:this.accumulators.restaurants.time,guests:this.accumulators.restaurants.guests},flights:{oneWayDate:this.accumulators.flights.oneWayDate,departureDate:this.accumulators.flights.departureDate,returnDate:this.accumulators.flights.returnDate,originAirportCode:this.accumulators.flights.originAirportCode,destinationAirportCode:this.accumulators.flights.destinationAirportCode,adults:this.accumulators.flights.adults,seniors:this.accumulators.flights.seniors,childAges:this.accumulators.flights.childAges,classOfService:this.accumulators.flights.classOfService},vr:{checkInDate:this.accumulators.vr.checkInDate,checkOutDate:this.accumulators.vr.checkOutDate,adults:this.accumulators.vr.adults,children:this.accumulators.vr.children},hotels:a}}},R=Promise.resolve(),t({LithiumTravelInfoProvider:S,TravelInfoContext:g,TravelInfoProvider:p,useTravelInfo:A})},[t=>(a=t.createContext,s=t.useContext,r=t.useState,l=t.useEffect,n=t.useMemo),t=>(i=t.parseTime,u=t.parseDate,h=t.parseChildAgesPerRoom,o=t.serializeDate,c=t.serializeGuestInfo),t=>d=t.jsx]]},["1o4yt4","1bxkng","121h32"]]);
